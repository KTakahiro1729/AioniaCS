const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CharacterHub-C75mwoOK.js","./CharacterHub-BJbxjZVm.css","./CharacterHubControls-2gCnycHK.js","./CharacterHubControls-B0Tx3elB.css","./IoModal-qokadDFp.js","./IoModal-D-AMwNWn.css","./ShareOptions-BRb-iD5b.js","./ShareOptions-C9rDFAHX.css"])))=>i.map(i=>d[i]);
var Jd=Object.defineProperty;var Xd=(e,t,n)=>t in e?Jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>Xd(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ca(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const xe={},vi=[],Xt=()=>{},Qd=()=>!1,xs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ua=e=>e.startsWith("onUpdate:"),Ue=Object.assign,fa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},eh=Object.prototype.hasOwnProperty,ge=(e,t)=>eh.call(e,t),Y=Array.isArray,wi=e=>Er(e)==="[object Map]",Ci=e=>Er(e)==="[object Set]",nl=e=>Er(e)==="[object Date]",Q=e=>typeof e=="function",De=e=>typeof e=="string",Ft=e=>typeof e=="symbol",ke=e=>e!==null&&typeof e=="object",tu=e=>(ke(e)||Q(e))&&Q(e.then)&&Q(e.catch),nu=Object.prototype.toString,Er=e=>nu.call(e),th=e=>Er(e).slice(8,-1),iu=e=>Er(e)==="[object Object]",da=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ki=ca(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ks=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},nh=/-(\w)/g,Dt=ks(e=>e.replace(nh,(t,n)=>n?n.toUpperCase():"")),ih=/\B([A-Z])/g,si=ks(e=>e.replace(ih,"-$1").toLowerCase()),Ss=ks(e=>e.charAt(0).toUpperCase()+e.slice(1)),Jr=ks(e=>e?`on${Ss(e)}`:""),Cn=(e,t)=>!Object.is(e,t),Xr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ru=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},ss=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rh=e=>{const t=De(e)?Number(e):NaN;return isNaN(t)?e:t};let il;const Es=()=>il||(il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ts(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=De(i)?lh(i):Ts(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(De(e)||ke(e))return e}const sh=/;(?![^(]*\))/g,oh=/:([^]+)/,ah=/\/\*[^]*?\*\//g;function lh(e){const t={};return e.replace(ah,"").split(sh).forEach(n=>{if(n){const i=n.split(oh);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function pt(e){let t="";if(De(e))t=e;else if(Y(e))for(let n=0;n<e.length;n++){const i=pt(e[n]);i&&(t+=i+" ")}else if(ke(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ch="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uh=ca(ch);function su(e){return!!e||e===""}function fh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Qn(e[i],t[i]);return n}function Qn(e,t){if(e===t)return!0;let n=nl(e),i=nl(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Ft(e),i=Ft(t),n||i)return e===t;if(n=Y(e),i=Y(t),n||i)return n&&i?fh(e,t):!1;if(n=ke(e),i=ke(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!Qn(e[o],t[o]))return!1}}return String(e)===String(t)}function ha(e,t){return e.findIndex(n=>Qn(n,t))}const ou=e=>!!(e&&e.__v_isRef===!0),fe=e=>De(e)?e:e==null?"":Y(e)||ke(e)&&(e.toString===nu||!Q(e.toString))?ou(e)?fe(e.value):JSON.stringify(e,au,2):String(e),au=(e,t)=>ou(t)?au(e,t.value):wi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[eo(i,s)+" =>"]=r,n),{})}:Ci(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>eo(n))}:Ft(t)?eo(t):ke(t)&&!Y(t)&&!iu(t)?String(t):t,eo=(e,t="")=>{var n;return Ft(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class lu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function cu(e){return new lu(e)}function uu(){return et}function dh(e,t=!1){et&&et.cleanups.push(e)}let Se;const to=new WeakSet;class fu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rl(this),pu(this);const t=Se,n=Nt;Se=this,Nt=!0;try{return this.fn()}finally{gu(this),Se=t,Nt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ma(t);this.deps=this.depsTail=void 0,rl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Po(this)&&this.run()}get dirty(){return Po(this)}}let du=0,Yi,Ji;function hu(e,t=!1){if(e.flags|=8,t){e.next=Ji,Ji=e;return}e.next=Yi,Yi=e}function pa(){du++}function ga(){if(--du>0)return;if(Ji){let t=Ji;for(Ji=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Yi;){let t=Yi;for(Yi=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function pu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function gu(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),ma(i),hh(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function Po(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(mu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function mu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===lr)||(e.globalVersion=lr,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Po(e))))return;e.flags|=2;const t=e.dep,n=Se,i=Nt;Se=e,Nt=!0;try{pu(e);const r=e.fn(e._value);(t.version===0||Cn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Se=n,Nt=i,gu(e),e.flags&=-3}}function ma(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)ma(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function hh(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Nt=!0;const _u=[];function pn(){_u.push(Nt),Nt=!1}function gn(){const e=_u.pop();Nt=e===void 0?!0:e}function rl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Se;Se=void 0;try{t()}finally{Se=n}}}let lr=0;class ph{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _a{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Se||!Nt||Se===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Se)n=this.activeLink=new ph(Se,this),Se.deps?(n.prevDep=Se.depsTail,Se.depsTail.nextDep=n,Se.depsTail=n):Se.deps=Se.depsTail=n,bu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Se.depsTail,n.nextDep=void 0,Se.depsTail.nextDep=n,Se.depsTail=n,Se.deps===n&&(Se.deps=i)}return n}trigger(t){this.version++,lr++,this.notify(t)}notify(t){pa();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ga()}}}function bu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)bu(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const os=new WeakMap,Kn=Symbol(""),Mo=Symbol(""),cr=Symbol("");function tt(e,t,n){if(Nt&&Se){let i=os.get(e);i||os.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new _a),r.map=i,r.key=n),r.track()}}function un(e,t,n,i,r,s){const o=os.get(e);if(!o){lr++;return}const a=c=>{c&&c.trigger()};if(pa(),t==="clear")o.forEach(a);else{const c=Y(e),l=c&&da(n);if(c&&n==="length"){const u=Number(i);o.forEach((f,d)=>{(d==="length"||d===cr||!Ft(d)&&d>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(cr)),t){case"add":c?l&&a(o.get("length")):(a(o.get(Kn)),wi(e)&&a(o.get(Mo)));break;case"delete":c||(a(o.get(Kn)),wi(e)&&a(o.get(Mo)));break;case"set":wi(e)&&a(o.get(Kn));break}}ga()}function gh(e,t){const n=os.get(e);return n&&n.get(t)}function pi(e){const t=le(e);return t===e?t:(tt(t,"iterate",cr),It(e)?t:t.map(Ze))}function As(e){return tt(e=le(e),"iterate",cr),e}const mh={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,Ze)},concat(...e){return pi(this).concat(...e.map(t=>Y(t)?pi(t):t))},entries(){return no(this,"entries",e=>(e[1]=Ze(e[1]),e))},every(e,t){return rn(this,"every",e,t,void 0,arguments)},filter(e,t){return rn(this,"filter",e,t,n=>n.map(Ze),arguments)},find(e,t){return rn(this,"find",e,t,Ze,arguments)},findIndex(e,t){return rn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rn(this,"findLast",e,t,Ze,arguments)},findLastIndex(e,t){return rn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rn(this,"forEach",e,t,void 0,arguments)},includes(...e){return io(this,"includes",e)},indexOf(...e){return io(this,"indexOf",e)},join(e){return pi(this).join(e)},lastIndexOf(...e){return io(this,"lastIndexOf",e)},map(e,t){return rn(this,"map",e,t,void 0,arguments)},pop(){return Pi(this,"pop")},push(...e){return Pi(this,"push",e)},reduce(e,...t){return sl(this,"reduce",e,t)},reduceRight(e,...t){return sl(this,"reduceRight",e,t)},shift(){return Pi(this,"shift")},some(e,t){return rn(this,"some",e,t,void 0,arguments)},splice(...e){return Pi(this,"splice",e)},toReversed(){return pi(this).toReversed()},toSorted(e){return pi(this).toSorted(e)},toSpliced(...e){return pi(this).toSpliced(...e)},unshift(...e){return Pi(this,"unshift",e)},values(){return no(this,"values",Ze)}};function no(e,t,n){const i=As(e),r=i[t]();return i!==e&&!It(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const _h=Array.prototype;function rn(e,t,n,i,r,s){const o=As(e),a=o!==e&&!It(e),c=o[t];if(c!==_h[t]){const f=c.apply(e,s);return a?Ze(f):f}let l=n;o!==e&&(a?l=function(f,d){return n.call(this,Ze(f),d,e)}:n.length>2&&(l=function(f,d){return n.call(this,f,d,e)}));const u=c.call(o,l,i);return a&&r?r(u):u}function sl(e,t,n,i){const r=As(e);let s=n;return r!==e&&(It(e)?n.length>3&&(s=function(o,a,c){return n.call(this,o,a,c,e)}):s=function(o,a,c){return n.call(this,o,Ze(a),c,e)}),r[t](s,...i)}function io(e,t,n){const i=le(e);tt(i,"iterate",cr);const r=i[t](...n);return(r===-1||r===!1)&&wa(n[0])?(n[0]=le(n[0]),i[t](...n)):r}function Pi(e,t,n=[]){pn(),pa();const i=le(e)[t].apply(e,n);return ga(),gn(),i}const bh=ca("__proto__,__v_isRef,__isVue"),vu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ft));function vh(e){Ft(e)||(e=String(e));const t=le(this);return tt(t,"has",e),t.hasOwnProperty(e)}class wu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?Ch:Su:s?ku:xu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Y(t);if(!r){let c;if(o&&(c=mh[n]))return c;if(n==="hasOwnProperty")return vh}const a=Reflect.get(t,n,Re(t)?t:i);return(Ft(n)?vu.has(n):bh(n))||(r||tt(t,"get",n),s)?a:Re(a)?o&&da(n)?a:a.value:ke(a)?r?Eu(a):Tr(a):a}}class yu extends wu{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const c=$n(s);if(!It(i)&&!$n(i)&&(s=le(s),i=le(i)),!Y(t)&&Re(s)&&!Re(i))return c?!1:(s.value=i,!0)}const o=Y(t)&&da(n)?Number(n)<t.length:ge(t,n),a=Reflect.set(t,n,i,Re(t)?t:r);return t===le(r)&&(o?Cn(i,s)&&un(t,"set",n,i):un(t,"add",n,i)),a}deleteProperty(t,n){const i=ge(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&un(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!Ft(n)||!vu.has(n))&&tt(t,"has",n),i}ownKeys(t){return tt(t,"iterate",Y(t)?"length":Kn),Reflect.ownKeys(t)}}class wh extends wu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const yh=new yu,xh=new wh,kh=new yu(!0);const No=e=>e,Hr=e=>Reflect.getPrototypeOf(e);function Sh(e,t,n){return function(...i){const r=this.__v_raw,s=le(r),o=wi(s),a=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,l=r[e](...i),u=n?No:t?as:Ze;return!t&&tt(s,"iterate",c?Mo:Kn),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function zr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Eh(e,t){const n={get(r){const s=this.__v_raw,o=le(s),a=le(r);e||(Cn(r,a)&&tt(o,"get",r),tt(o,"get",a));const{has:c}=Hr(o),l=t?No:e?as:Ze;if(c.call(o,r))return l(s.get(r));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!e&&tt(le(r),"iterate",Kn),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=le(s),a=le(r);return e||(Cn(r,a)&&tt(o,"has",r),tt(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,c=le(a),l=t?No:e?as:Ze;return!e&&tt(c,"iterate",Kn),a.forEach((u,f)=>r.call(s,l(u),l(f),o))}};return Ue(n,e?{add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear")}:{add(r){!t&&!It(r)&&!$n(r)&&(r=le(r));const s=le(this);return Hr(s).has.call(s,r)||(s.add(r),un(s,"add",r,r)),this},set(r,s){!t&&!It(s)&&!$n(s)&&(s=le(s));const o=le(this),{has:a,get:c}=Hr(o);let l=a.call(o,r);l||(r=le(r),l=a.call(o,r));const u=c.call(o,r);return o.set(r,s),l?Cn(s,u)&&un(o,"set",r,s):un(o,"add",r,s),this},delete(r){const s=le(this),{has:o,get:a}=Hr(s);let c=o.call(s,r);c||(r=le(r),c=o.call(s,r)),a&&a.call(s,r);const l=s.delete(r);return c&&un(s,"delete",r,void 0),l},clear(){const r=le(this),s=r.size!==0,o=r.clear();return s&&un(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Sh(r,e,t)}),n}function ba(e,t){const n=Eh(e,t);return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(ge(n,r)&&r in i?n:i,r,s)}const Th={get:ba(!1,!1)},Ah={get:ba(!1,!0)},Ih={get:ba(!0,!1)};const xu=new WeakMap,ku=new WeakMap,Su=new WeakMap,Ch=new WeakMap;function Dh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Lh(e){return e.__v_skip||!Object.isExtensible(e)?0:Dh(th(e))}function Tr(e){return $n(e)?e:va(e,!1,yh,Th,xu)}function Rh(e){return va(e,!1,kh,Ah,ku)}function Eu(e){return va(e,!0,xh,Ih,Su)}function va(e,t,n,i,r){if(!ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Lh(e);if(s===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,s===2?i:n);return r.set(e,a),a}function Dn(e){return $n(e)?Dn(e.__v_raw):!!(e&&e.__v_isReactive)}function $n(e){return!!(e&&e.__v_isReadonly)}function It(e){return!!(e&&e.__v_isShallow)}function wa(e){return e?!!e.__v_raw:!1}function le(e){const t=e&&e.__v_raw;return t?le(t):e}function ya(e){return!ge(e,"__v_skip")&&Object.isExtensible(e)&&ru(e,"__v_skip",!0),e}const Ze=e=>ke(e)?Tr(e):e,as=e=>ke(e)?Eu(e):e;function Re(e){return e?e.__v_isRef===!0:!1}function ze(e){return Tu(e,!1)}function Oh(e){return Tu(e,!0)}function Tu(e,t){return Re(e)?e:new $h(e,t)}class $h{constructor(t,n){this.dep=new _a,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:le(t),this._value=n?t:Ze(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||It(t)||$n(t);t=i?t:le(t),Cn(t,n)&&(this._rawValue=t,this._value=i?t:Ze(t),this.dep.trigger())}}function w(e){return Re(e)?e.value:e}const Ph={get:(e,t,n)=>t==="__v_raw"?e:w(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Re(r)&&!Re(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Au(e){return Dn(e)?e:new Proxy(e,Ph)}function Mh(e){const t=Y(e)?new Array(e.length):{};for(const n in e)t[n]=Fh(e,n);return t}class Nh{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return gh(le(this._object),this._key)}}function Fh(e,t,n){const i=e[t];return Re(i)?i:new Nh(e,t,n)}class Hh{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new _a(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return hu(this,!0),!0}get value(){const t=this.dep.track();return mu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function zh(e,t,n=!1){let i,r;return Q(e)?i=e:(i=e.get,r=e.set),new Hh(i,r,n)}const Ur={},ls=new WeakMap;let Bn;function Uh(e,t=!1,n=Bn){if(n){let i=ls.get(n);i||ls.set(n,i=[]),i.push(e)}}function Bh(e,t,n=xe){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:c}=n,l=b=>r?b:It(b)||r===!1||r===0?fn(b,1):fn(b);let u,f,d,h,p=!1,v=!1;if(Re(e)?(f=()=>e.value,p=It(e)):Dn(e)?(f=()=>l(e),p=!0):Y(e)?(v=!0,p=e.some(b=>Dn(b)||It(b)),f=()=>e.map(b=>{if(Re(b))return b.value;if(Dn(b))return l(b);if(Q(b))return c?c(b,2):b()})):Q(e)?t?f=c?()=>c(e,2):e:f=()=>{if(d){pn();try{d()}finally{gn()}}const b=Bn;Bn=u;try{return c?c(e,3,[h]):e(h)}finally{Bn=b}}:f=Xt,t&&r){const b=f,D=r===!0?1/0:r;f=()=>fn(b(),D)}const E=uu(),x=()=>{u.stop(),E&&E.active&&fa(E.effects,u)};if(s&&t){const b=t;t=(...D)=>{b(...D),x()}}let I=v?new Array(e.length).fill(Ur):Ur;const k=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(t){const D=u.run();if(r||p||(v?D.some((j,L)=>Cn(j,I[L])):Cn(D,I))){d&&d();const j=Bn;Bn=u;try{const L=[D,I===Ur?void 0:v&&I[0]===Ur?[]:I,h];I=D,c?c(t,3,L):t(...L)}finally{Bn=j}}}else u.run()};return a&&a(k),u=new fu(f),u.scheduler=o?()=>o(k,!1):k,h=b=>Uh(b,!1,u),d=u.onStop=()=>{const b=ls.get(u);if(b){if(c)c(b,4);else for(const D of b)D();ls.delete(u)}},t?i?k(!0):I=u.run():o?o(k.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function fn(e,t=1/0,n){if(t<=0||!ke(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Re(e))fn(e.value,t,n);else if(Y(e))for(let i=0;i<e.length;i++)fn(e[i],t,n);else if(Ci(e)||wi(e))e.forEach(i=>{fn(i,t,n)});else if(iu(e)){for(const i in e)fn(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&fn(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ar(e,t,n,i){try{return i?e(...i):e()}catch(r){Ir(r,t,n)}}function Ht(e,t,n,i){if(Q(e)){const r=Ar(e,t,n,i);return r&&tu(r)&&r.catch(s=>{Ir(s,t,n)}),r}if(Y(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Ht(e[s],t,n,i));return r}}function Ir(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||xe;if(t){let a=t.parent;const c=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,c,l)===!1)return}a=a.parent}if(s){pn(),Ar(s,null,10,[e,c,l]),gn();return}}Vh(e,n,r,i,o)}function Vh(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const at=[];let Zt=-1;const yi=[];let Sn=null,bi=0;const Iu=Promise.resolve();let cs=null;function Is(e){const t=cs||Iu;return e?t.then(this?e.bind(this):e):t}function Gh(e){let t=Zt+1,n=at.length;for(;t<n;){const i=t+n>>>1,r=at[i],s=ur(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function xa(e){if(!(e.flags&1)){const t=ur(e),n=at[at.length-1];!n||!(e.flags&2)&&t>=ur(n)?at.push(e):at.splice(Gh(t),0,e),e.flags|=1,Cu()}}function Cu(){cs||(cs=Iu.then(Lu))}function jh(e){Y(e)?yi.push(...e):Sn&&e.id===-1?Sn.splice(bi+1,0,e):e.flags&1||(yi.push(e),e.flags|=1),Cu()}function ol(e,t,n=Zt+1){for(;n<at.length;n++){const i=at[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;at.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Du(e){if(yi.length){const t=[...new Set(yi)].sort((n,i)=>ur(n)-ur(i));if(yi.length=0,Sn){Sn.push(...t);return}for(Sn=t,bi=0;bi<Sn.length;bi++){const n=Sn[bi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Sn=null,bi=0}}const ur=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Lu(e){try{for(Zt=0;Zt<at.length;Zt++){const t=at[Zt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ar(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Zt<at.length;Zt++){const t=at[Zt];t&&(t.flags&=-2)}Zt=-1,at.length=0,Du(),cs=null,(at.length||yi.length)&&Lu()}}let He=null,Ru=null;function us(e){const t=He;return He=e,Ru=e&&e.type.__scopeId||null,t}function Cr(e,t=He,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&wl(-1);const s=us(t);let o;try{o=e(...r)}finally{us(s),i._d&&wl(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function ce(e,t){if(He===null)return e;const n=$s(He),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,c=xe]=t[r];s&&(Q(s)&&(s={mounted:s,updated:s}),s.deep&&fn(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return e}function Hn(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let c=a.dir[i];c&&(pn(),Ht(c,n,8,[e.el,a,e,t]),gn())}}const qh=Symbol("_vte"),Ou=e=>e.__isTeleport,En=Symbol("_leaveCb"),Br=Symbol("_enterCb");function $u(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return oi(()=>{e.isMounted=!0}),Ls(()=>{e.isUnmounting=!0}),e}const St=[Function,Array],Pu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},Mu=e=>{const t=e.subTree;return t.component?Mu(t.component):t},Zh={name:"BaseTransition",props:Pu,setup(e,{slots:t}){const n=lf(),i=$u();return()=>{const r=t.default&&ka(t.default(),!0);if(!r||!r.length)return;const s=Nu(r),o=le(e),{mode:a}=o;if(i.isLeaving)return ro(s);const c=al(s);if(!c)return ro(s);let l=fr(c,o,i,n,f=>l=f);c.type!==nt&&ei(c,l);let u=n.subTree&&al(n.subTree);if(u&&u.type!==nt&&!Vn(c,u)&&Mu(n).type!==nt){let f=fr(u,o,i,n);if(ei(u,f),a==="out-in"&&c.type!==nt)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},ro(s);a==="in-out"&&c.type!==nt?f.delayLeave=(d,h,p)=>{const v=Fu(i,u);v[String(u.key)]=u,d[En]=()=>{h(),d[En]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function Nu(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==nt){t=n;break}}return t}const Wh=Zh;function Fu(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function fr(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:E,onAppear:x,onAfterAppear:I,onAppearCancelled:k}=t,b=String(e.key),D=Fu(n,e),j=(T,O)=>{T&&Ht(T,i,9,O)},L=(T,O)=>{const P=O[1];j(T,O),Y(T)?T.every(N=>N.length<=1)&&P():T.length<=1&&P()},F={mode:o,persisted:a,beforeEnter(T){let O=c;if(!n.isMounted)if(s)O=E||c;else return;T[En]&&T[En](!0);const P=D[b];P&&Vn(e,P)&&P.el[En]&&P.el[En](),j(O,[T])},enter(T){let O=l,P=u,N=f;if(!n.isMounted)if(s)O=x||l,P=I||u,N=k||f;else return;let ie=!1;const oe=T[Br]=Oe=>{ie||(ie=!0,Oe?j(N,[T]):j(P,[T]),F.delayedLeave&&F.delayedLeave(),T[Br]=void 0)};O?L(O,[T,oe]):oe()},leave(T,O){const P=String(e.key);if(T[Br]&&T[Br](!0),n.isUnmounting)return O();j(d,[T]);let N=!1;const ie=T[En]=oe=>{N||(N=!0,O(),oe?j(v,[T]):j(p,[T]),T[En]=void 0,D[P]===e&&delete D[P])};D[P]=e,h?L(h,[T,ie]):ie()},clone(T){const O=fr(T,t,n,i,r);return r&&r(O),O}};return F}function ro(e){if(Dr(e))return e=Pn(e),e.children=null,e}function al(e){if(!Dr(e))return Ou(e.type)&&e.children?Nu(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Q(n.default))return n.default()}}function ei(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ei(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ka(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===de?(o.patchFlag&128&&r++,i=i.concat(ka(o.children,t,a))):(t||o.type!==nt)&&i.push(a!=null?Pn(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Kh(e,t){return Q(e)?Ue({name:e.name},t,{setup:e}):e}function Sa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fs(e,t,n,i,r=!1){if(Y(e)){e.forEach((p,v)=>fs(p,t&&(Y(t)?t[v]:t),n,i,r));return}if(xi(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&fs(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?$s(i.component):i.el,o=r?null:s,{i:a,r:c}=e,l=t&&t.r,u=a.refs===xe?a.refs={}:a.refs,f=a.setupState,d=le(f),h=f===xe?()=>!1:p=>ge(d,p);if(l!=null&&l!==c&&(De(l)?(u[l]=null,h(l)&&(f[l]=null)):Re(l)&&(l.value=null)),Q(c))Ar(c,a,12,[o,u]);else{const p=De(c),v=Re(c);if(p||v){const E=()=>{if(e.f){const x=p?h(c)?f[c]:u[c]:c.value;r?Y(x)&&fa(x,s):Y(x)?x.includes(s)||x.push(s):p?(u[c]=[s],h(c)&&(f[c]=u[c])):(c.value=[s],e.k&&(u[e.k]=c.value))}else p?(u[c]=o,h(c)&&(f[c]=o)):v&&(c.value=o,e.k&&(u[e.k]=o))};o?(E.id=-1,vt(E,n)):E()}}}const ll=e=>e.nodeType===8;Es().requestIdleCallback;Es().cancelIdleCallback;function Yh(e,t){if(ll(e)&&e.data==="["){let n=1,i=e.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(ll(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else t(e)}const xi=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Cs(e){Q(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:s,timeout:o,suspensible:a=!0,onError:c}=e;let l=null,u,f=0;const d=()=>(f++,l=null,h()),h=()=>{let p;return l||(p=l=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),c)return new Promise((E,x)=>{c(v,()=>E(d()),()=>x(v),f+1)});throw v}).then(v=>p!==l&&l?l:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),u=v,v)))};return Kh({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,v,E){const x=s?()=>{const k=s(()=>{E()},b=>Yh(p,b));k&&(v.bum||(v.bum=[])).push(k),(v.u||(v.u=[])).push(()=>!0)}:E;u?x():h().then(()=>!v.isUnmounted&&x())},get __asyncResolved(){return u},setup(){const p=Fe;if(Sa(p),u)return()=>so(u,p);const v=k=>{l=null,Ir(k,p,13,!i)};if(a&&p.suspense||Si)return h().then(k=>()=>so(k,p)).catch(k=>(v(k),()=>i?re(i,{error:k}):null));const E=ze(!1),x=ze(),I=ze(!!r);return r&&setTimeout(()=>{I.value=!1},r),o!=null&&setTimeout(()=>{if(!E.value&&!x.value){const k=new Error(`Async component timed out after ${o}ms.`);v(k),x.value=k}},o),h().then(()=>{E.value=!0,p.parent&&Dr(p.parent.vnode)&&p.parent.update()}).catch(k=>{v(k),x.value=k}),()=>{if(E.value&&u)return so(u,p);if(x.value&&i)return re(i,{error:x.value});if(n&&!I.value)return re(n)}}})}function so(e,t){const{ref:n,props:i,children:r,ce:s}=t.vnode,o=re(e,i,r);return o.ref=n,o.ce=s,delete t.vnode.ce,o}const Dr=e=>e.type.__isKeepAlive;function Jh(e,t){Hu(e,"a",t)}function Xh(e,t){Hu(e,"da",t)}function Hu(e,t,n=Fe){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ds(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Dr(r.parent.vnode)&&Qh(i,t,n,r),r=r.parent}}function Qh(e,t,n,i){const r=Ds(t,e,i,!0);Ea(()=>{fa(i[t],r)},n)}function Ds(e,t,n=Fe,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{pn();const a=Lr(n),c=Ht(t,n,e,o);return a(),gn(),c});return i?r.unshift(s):r.push(s),s}}const mn=e=>(t,n=Fe)=>{(!Si||e==="sp")&&Ds(e,(...i)=>t(...i),n)},ep=mn("bm"),oi=mn("m"),tp=mn("bu"),zu=mn("u"),Ls=mn("bum"),Ea=mn("um"),np=mn("sp"),ip=mn("rtg"),rp=mn("rtc");function sp(e,t=Fe){Ds("ec",e,t)}const op="components",Uu=Symbol.for("v-ndc");function cl(e){return De(e)?ap(op,e,!1)||e:e||Uu}function ap(e,t,n=!0,i=!1){const r=He||Fe;if(r){const s=r.type;{const a=Yp(s,!1);if(a&&(a===t||a===Dt(t)||a===Ss(Dt(t))))return s}const o=ul(r[e]||s[e],t)||ul(r.appContext[e],t);return!o&&i?s:o}}function ul(e,t){return e&&(e[t]||e[Dt(t)]||e[Ss(Dt(t))])}function it(e,t,n,i){let r;const s=n,o=Y(e);if(o||De(e)){const a=o&&Dn(e);let c=!1,l=!1;a&&(c=!It(e),l=$n(e),e=As(e)),r=new Array(e.length);for(let u=0,f=e.length;u<f;u++)r[u]=t(c?l?as(Ze(e[u])):Ze(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(ke(e))if(e[Symbol.iterator])r=Array.from(e,(a,c)=>t(a,c,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];r[c]=t(e[u],u,c,s)}}else r=[];return r}function lp(e,t,n={},i,r){if(He.ce||He.parent&&xi(He.parent)&&He.parent.ce)return H(),hn(de,null,[re("slot",n,i)],64);let s=e[t];s&&s._c&&(s._d=!1),H();const o=s&&Bu(s(n)),a=n.key||o&&o.key,c=hn(de,{key:(a&&!Ft(a)?a:`_${t}`)+""},o||[],o&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function Bu(e){return e.some(t=>hr(t)?!(t.type===nt||t.type===de&&!Bu(t.children)):!0)?e:null}function fl(e,t){const n={};for(const i in e)n[Jr(i)]=e[i];return n}const Fo=e=>e?cf(e)?$s(e):Fo(e.parent):null,Xi=Ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fo(e.parent),$root:e=>Fo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Gu(e),$forceUpdate:e=>e.f||(e.f=()=>{xa(e.update)}),$nextTick:e=>e.n||(e.n=Is.bind(e.proxy)),$watch:e=>Lp.bind(e)}),oo=(e,t)=>e!==xe&&!e.__isScriptSetup&&ge(e,t),cp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(oo(i,t))return o[t]=1,i[t];if(r!==xe&&ge(r,t))return o[t]=2,r[t];if((l=e.propsOptions[0])&&ge(l,t))return o[t]=3,s[t];if(n!==xe&&ge(n,t))return o[t]=4,n[t];Ho&&(o[t]=0)}}const u=Xi[t];let f,d;if(u)return t==="$attrs"&&tt(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==xe&&ge(n,t))return o[t]=4,n[t];if(d=c.config.globalProperties,ge(d,t))return d[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return oo(r,t)?(r[t]=n,!0):i!==xe&&ge(i,t)?(i[t]=n,!0):ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==xe&&ge(e,o)||oo(t,o)||(a=s[0])&&ge(a,o)||ge(i,o)||ge(Xi,o)||ge(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function dl(e){return Y(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ho=!0;function up(e){const t=Gu(e),n=e.proxy,i=e.ctx;Ho=!1,t.beforeCreate&&hl(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:E,beforeDestroy:x,beforeUnmount:I,destroyed:k,unmounted:b,render:D,renderTracked:j,renderTriggered:L,errorCaptured:F,serverPrefetch:T,expose:O,inheritAttrs:P,components:N,directives:ie,filters:oe}=t;if(l&&fp(l,i,null),o)for(const ne in o){const he=o[ne];Q(he)&&(i[ne]=he.bind(n))}if(r){const ne=r.call(n,n);ke(ne)&&(e.data=Tr(ne))}if(Ho=!0,s)for(const ne in s){const he=s[ne],Le=Q(he)?he.bind(n,n):Q(he.get)?he.get.bind(n,n):Xt,Ot=!Q(he)&&Q(he.set)?he.set.bind(n):Xt,we=Ye({get:Le,set:Ot});Object.defineProperty(i,ne,{enumerable:!0,configurable:!0,get:()=>we.value,set:Ce=>we.value=Ce})}if(a)for(const ne in a)Vu(a[ne],i,n,ne);if(c){const ne=Q(c)?c.call(n):c;Reflect.ownKeys(ne).forEach(he=>{_p(he,ne[he])})}u&&hl(u,e,"c");function ve(ne,he){Y(he)?he.forEach(Le=>ne(Le.bind(n))):he&&ne(he.bind(n))}if(ve(ep,f),ve(oi,d),ve(tp,h),ve(zu,p),ve(Jh,v),ve(Xh,E),ve(sp,F),ve(rp,j),ve(ip,L),ve(Ls,I),ve(Ea,b),ve(np,T),Y(O))if(O.length){const ne=e.exposed||(e.exposed={});O.forEach(he=>{Object.defineProperty(ne,he,{get:()=>n[he],set:Le=>n[he]=Le})})}else e.exposed||(e.exposed={});D&&e.render===Xt&&(e.render=D),P!=null&&(e.inheritAttrs=P),N&&(e.components=N),ie&&(e.directives=ie),T&&Sa(e)}function fp(e,t,n=Xt){Y(e)&&(e=zo(e));for(const i in e){const r=e[i];let s;ke(r)?"default"in r?s=Qi(r.from||i,r.default,!0):s=Qi(r.from||i):s=Qi(r),Re(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function hl(e,t,n){Ht(Y(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Vu(e,t,n,i){let r=i.includes(".")?nf(n,i):()=>n[i];if(De(e)){const s=t[e];Q(s)&&Mt(r,s)}else if(Q(e))Mt(r,e.bind(n));else if(ke(e))if(Y(e))e.forEach(s=>Vu(s,t,n,i));else{const s=Q(e.handler)?e.handler.bind(n):t[e.handler];Q(s)&&Mt(r,s,e)}}function Gu(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let c;return a?c=a:!r.length&&!n&&!i?c=t:(c={},r.length&&r.forEach(l=>ds(c,l,o,!0)),ds(c,t,o)),ke(t)&&s.set(t,c),c}function ds(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&ds(e,s,n,!0),r&&r.forEach(o=>ds(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=dp[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const dp={data:pl,props:gl,emits:gl,methods:qi,computed:qi,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:qi,directives:qi,watch:pp,provide:pl,inject:hp};function pl(e,t){return t?e?function(){return Ue(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function hp(e,t){return qi(zo(e),zo(t))}function zo(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function qi(e,t){return e?Ue(Object.create(null),e,t):t}function gl(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Ue(Object.create(null),dl(e),dl(t??{})):t}function pp(e,t){if(!e)return t;if(!t)return e;const n=Ue(Object.create(null),e);for(const i in t)n[i]=ot(e[i],t[i]);return n}function ju(){return{app:null,config:{isNativeTag:Qd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gp=0;function mp(e,t){return function(i,r=null){Q(i)||(i=Ue({},i)),r!=null&&!ke(r)&&(r=null);const s=ju(),o=new WeakSet,a=[];let c=!1;const l=s.app={_uid:gp++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Qp,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&Q(u.install)?(o.add(u),u.install(l,...f)):Q(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,d){if(!c){const h=l._ceVNode||re(i,r);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),e(h,u,d),c=!0,l._container=u,u.__vue_app__=l,$s(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Ht(a,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l},runWithContext(u){const f=Yn;Yn=l;try{return u()}finally{Yn=f}}};return l}}let Yn=null;function _p(e,t){if(Fe){let n=Fe.provides;const i=Fe.parent&&Fe.parent.provides;i===n&&(n=Fe.provides=Object.create(i)),n[e]=t}}function Qi(e,t,n=!1){const i=Fe||He;if(i||Yn){let r=Yn?Yn._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Q(t)?t.call(i&&i.proxy):t}}function bp(){return!!(Fe||He||Yn)}const qu={},Zu=()=>Object.create(qu),Wu=e=>Object.getPrototypeOf(e)===qu;function vp(e,t,n,i=!1){const r={},s=Zu();e.propsDefaults=Object.create(null),Ku(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:Rh(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function wp(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=le(r),[c]=e.propsOptions;let l=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Rs(e.emitsOptions,d))continue;const h=t[d];if(c)if(ge(s,d))h!==s[d]&&(s[d]=h,l=!0);else{const p=Dt(d);r[p]=Uo(c,a,p,h,e,!1)}else h!==s[d]&&(s[d]=h,l=!0)}}}else{Ku(e,t,r,s)&&(l=!0);let u;for(const f in a)(!t||!ge(t,f)&&((u=si(f))===f||!ge(t,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Uo(c,a,f,void 0,e,!0)):delete r[f]);if(s!==a)for(const f in s)(!t||!ge(t,f))&&(delete s[f],l=!0)}l&&un(e.attrs,"set","")}function Ku(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let c in t){if(Ki(c))continue;const l=t[c];let u;r&&ge(r,u=Dt(c))?!s||!s.includes(u)?n[u]=l:(a||(a={}))[u]=l:Rs(e.emitsOptions,c)||(!(c in i)||l!==i[c])&&(i[c]=l,o=!0)}if(s){const c=le(n),l=a||xe;for(let u=0;u<s.length;u++){const f=s[u];n[f]=Uo(r,c,f,l[f],e,!ge(l,f))}}return o}function Uo(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=ge(o,"default");if(a&&i===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Q(c)){const{propsDefaults:l}=r;if(n in l)i=l[n];else{const u=Lr(r);i=l[n]=c.call(null,t),u()}}else i=c;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===si(n))&&(i=!0))}return i}const yp=new WeakMap;function Yu(e,t,n=!1){const i=n?yp:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let c=!1;if(!Q(e)){const u=f=>{c=!0;const[d,h]=Yu(f,t,!0);Ue(o,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!c)return ke(e)&&i.set(e,vi),vi;if(Y(s))for(let u=0;u<s.length;u++){const f=Dt(s[u]);ml(f)&&(o[f]=xe)}else if(s)for(const u in s){const f=Dt(u);if(ml(f)){const d=s[u],h=o[f]=Y(d)||Q(d)?{type:d}:Ue({},d),p=h.type;let v=!1,E=!0;if(Y(p))for(let x=0;x<p.length;++x){const I=p[x],k=Q(I)&&I.name;if(k==="Boolean"){v=!0;break}else k==="String"&&(E=!1)}else v=Q(p)&&p.name==="Boolean";h[0]=v,h[1]=E,(v||ge(h,"default"))&&a.push(f)}}const l=[o,a];return ke(e)&&i.set(e,l),l}function ml(e){return e[0]!=="$"&&!Ki(e)}const Ta=e=>e[0]==="_"||e==="$stable",Aa=e=>Y(e)?e.map(Wt):[Wt(e)],xp=(e,t,n)=>{if(t._n)return t;const i=Cr((...r)=>Aa(t(...r)),n);return i._c=!1,i},Ju=(e,t,n)=>{const i=e._ctx;for(const r in e){if(Ta(r))continue;const s=e[r];if(Q(s))t[r]=xp(r,s,i);else if(s!=null){const o=Aa(s);t[r]=()=>o}}},Xu=(e,t)=>{const n=Aa(t);e.slots.default=()=>n},Qu=(e,t,n)=>{for(const i in t)(n||!Ta(i))&&(e[i]=t[i])},kp=(e,t,n)=>{const i=e.slots=Zu();if(e.vnode.shapeFlag&32){const r=t._;r?(Qu(i,t,n),n&&ru(i,"_",r,!0)):Ju(t,i)}else t&&Xu(e,t)},Sp=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=xe;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:Qu(r,t,n):(s=!t.$stable,Ju(t,r)),o=t}else t&&(Xu(e,t),o={default:1});if(s)for(const a in r)!Ta(a)&&o[a]==null&&delete r[a]},vt=Fp;function Ep(e){return Tp(e)}function Tp(e,t){const n=Es();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Xt,insertStaticContent:p}=e,v=(g,m,S,R=null,A=null,C=null,B=void 0,z=null,U=!!m.dynamicChildren)=>{if(g===m)return;g&&!Vn(g,m)&&(R=_n(g),Ce(g,A,C,!0),g=null),m.patchFlag===-2&&(U=!1,m.dynamicChildren=null);const{type:$,ref:J,shapeFlag:V}=m;switch($){case Os:E(g,m,S,R);break;case nt:x(g,m,S,R);break;case Qr:g==null&&I(m,S,R,B);break;case de:N(g,m,S,R,A,C,B,z,U);break;default:V&1?D(g,m,S,R,A,C,B,z,U):V&6?ie(g,m,S,R,A,C,B,z,U):(V&64||V&128)&&$.process(g,m,S,R,A,C,B,z,U,bn)}J!=null&&A&&fs(J,g&&g.ref,C,m||g,!m)},E=(g,m,S,R)=>{if(g==null)i(m.el=a(m.children),S,R);else{const A=m.el=g.el;m.children!==g.children&&l(A,m.children)}},x=(g,m,S,R)=>{g==null?i(m.el=c(m.children||""),S,R):m.el=g.el},I=(g,m,S,R)=>{[g.el,g.anchor]=p(g.children,m,S,R,g.el,g.anchor)},k=({el:g,anchor:m},S,R)=>{let A;for(;g&&g!==m;)A=d(g),i(g,S,R),g=A;i(m,S,R)},b=({el:g,anchor:m})=>{let S;for(;g&&g!==m;)S=d(g),r(g),g=S;r(m)},D=(g,m,S,R,A,C,B,z,U)=>{m.type==="svg"?B="svg":m.type==="math"&&(B="mathml"),g==null?j(m,S,R,A,C,B,z,U):T(g,m,A,C,B,z,U)},j=(g,m,S,R,A,C,B,z)=>{let U,$;const{props:J,shapeFlag:V,transition:Z,dirs:X}=g;if(U=g.el=o(g.type,C,J&&J.is,J),V&8?u(U,g.children):V&16&&F(g.children,U,null,R,A,ao(g,C),B,z),X&&Hn(g,null,R,"created"),L(U,g,g.scopeId,B,R),J){for(const be in J)be!=="value"&&!Ki(be)&&s(U,be,null,J[be],C,R);"value"in J&&s(U,"value",null,J.value,C),($=J.onVnodeBeforeMount)&&Bt($,R,g)}X&&Hn(g,null,R,"beforeMount");const te=Ap(A,Z);te&&Z.beforeEnter(U),i(U,m,S),(($=J&&J.onVnodeMounted)||te||X)&&vt(()=>{$&&Bt($,R,g),te&&Z.enter(U),X&&Hn(g,null,R,"mounted")},A)},L=(g,m,S,R,A)=>{if(S&&h(g,S),R)for(let C=0;C<R.length;C++)h(g,R[C]);if(A){let C=A.subTree;if(m===C||sf(C.type)&&(C.ssContent===m||C.ssFallback===m)){const B=A.vnode;L(g,B,B.scopeId,B.slotScopeIds,A.parent)}}},F=(g,m,S,R,A,C,B,z,U=0)=>{for(let $=U;$<g.length;$++){const J=g[$]=z?Tn(g[$]):Wt(g[$]);v(null,J,m,S,R,A,C,B,z)}},T=(g,m,S,R,A,C,B)=>{const z=m.el=g.el;let{patchFlag:U,dynamicChildren:$,dirs:J}=m;U|=g.patchFlag&16;const V=g.props||xe,Z=m.props||xe;let X;if(S&&zn(S,!1),(X=Z.onVnodeBeforeUpdate)&&Bt(X,S,m,g),J&&Hn(m,g,S,"beforeUpdate"),S&&zn(S,!0),(V.innerHTML&&Z.innerHTML==null||V.textContent&&Z.textContent==null)&&u(z,""),$?O(g.dynamicChildren,$,z,S,R,ao(m,A),C):B||he(g,m,z,null,S,R,ao(m,A),C,!1),U>0){if(U&16)P(z,V,Z,S,A);else if(U&2&&V.class!==Z.class&&s(z,"class",null,Z.class,A),U&4&&s(z,"style",V.style,Z.style,A),U&8){const te=m.dynamicProps;for(let be=0;be<te.length;be++){const ue=te[be],Je=V[ue],Be=Z[ue];(Be!==Je||ue==="value")&&s(z,ue,Je,Be,A,S)}}U&1&&g.children!==m.children&&u(z,m.children)}else!B&&$==null&&P(z,V,Z,S,A);((X=Z.onVnodeUpdated)||J)&&vt(()=>{X&&Bt(X,S,m,g),J&&Hn(m,g,S,"updated")},R)},O=(g,m,S,R,A,C,B)=>{for(let z=0;z<m.length;z++){const U=g[z],$=m[z],J=U.el&&(U.type===de||!Vn(U,$)||U.shapeFlag&198)?f(U.el):S;v(U,$,J,null,R,A,C,B,!0)}},P=(g,m,S,R,A)=>{if(m!==S){if(m!==xe)for(const C in m)!Ki(C)&&!(C in S)&&s(g,C,m[C],null,A,R);for(const C in S){if(Ki(C))continue;const B=S[C],z=m[C];B!==z&&C!=="value"&&s(g,C,z,B,A,R)}"value"in S&&s(g,"value",m.value,S.value,A)}},N=(g,m,S,R,A,C,B,z,U)=>{const $=m.el=g?g.el:a(""),J=m.anchor=g?g.anchor:a("");let{patchFlag:V,dynamicChildren:Z,slotScopeIds:X}=m;X&&(z=z?z.concat(X):X),g==null?(i($,S,R),i(J,S,R),F(m.children||[],S,J,A,C,B,z,U)):V>0&&V&64&&Z&&g.dynamicChildren?(O(g.dynamicChildren,Z,S,A,C,B,z),(m.key!=null||A&&m===A.subTree)&&ef(g,m,!0)):he(g,m,S,J,A,C,B,z,U)},ie=(g,m,S,R,A,C,B,z,U)=>{m.slotScopeIds=z,g==null?m.shapeFlag&512?A.ctx.activate(m,S,R,B,U):oe(m,S,R,A,C,B,U):Oe(g,m,U)},oe=(g,m,S,R,A,C,B)=>{const z=g.component=jp(g,R,A);if(Dr(g)&&(z.ctx.renderer=bn),qp(z,!1,B),z.asyncDep){if(A&&A.registerDep(z,ve,B),!g.el){const U=z.subTree=re(nt);x(null,U,m,S)}}else ve(z,g,m,S,A,C,B)},Oe=(g,m,S)=>{const R=m.component=g.component;if(Mp(g,m,S))if(R.asyncDep&&!R.asyncResolved){ne(R,m,S);return}else R.next=m,R.update();else m.el=g.el,R.vnode=m},ve=(g,m,S,R,A,C,B)=>{const z=()=>{if(g.isMounted){let{next:V,bu:Z,u:X,parent:te,vnode:be}=g;{const rt=tf(g);if(rt){V&&(V.el=be.el,ne(g,V,B)),rt.asyncDep.then(()=>{g.isUnmounted||z()});return}}let ue=V,Je;zn(g,!1),V?(V.el=be.el,ne(g,V,B)):V=be,Z&&Xr(Z),(Je=V.props&&V.props.onVnodeBeforeUpdate)&&Bt(Je,te,V,be),zn(g,!0);const Be=bl(g),bt=g.subTree;g.subTree=Be,v(bt,Be,f(bt.el),_n(bt),g,A,C),V.el=Be.el,ue===null&&Np(g,Be.el),X&&vt(X,A),(Je=V.props&&V.props.onVnodeUpdated)&&vt(()=>Bt(Je,te,V,be),A)}else{let V;const{el:Z,props:X}=m,{bm:te,m:be,parent:ue,root:Je,type:Be}=g,bt=xi(m);zn(g,!1),te&&Xr(te),!bt&&(V=X&&X.onVnodeBeforeMount)&&Bt(V,ue,m),zn(g,!0);{Je.ce&&Je.ce._injectChildStyle(Be);const rt=g.subTree=bl(g);v(null,rt,S,R,g,A,C),m.el=rt.el}if(be&&vt(be,A),!bt&&(V=X&&X.onVnodeMounted)){const rt=m;vt(()=>Bt(V,ue,rt),A)}(m.shapeFlag&256||ue&&xi(ue.vnode)&&ue.vnode.shapeFlag&256)&&g.a&&vt(g.a,A),g.isMounted=!0,m=S=R=null}};g.scope.on();const U=g.effect=new fu(z);g.scope.off();const $=g.update=U.run.bind(U),J=g.job=U.runIfDirty.bind(U);J.i=g,J.id=g.uid,U.scheduler=()=>xa(J),zn(g,!0),$()},ne=(g,m,S)=>{m.component=g;const R=g.vnode.props;g.vnode=m,g.next=null,wp(g,m.props,R,S),Sp(g,m.children,S),pn(),ol(g),gn()},he=(g,m,S,R,A,C,B,z,U=!1)=>{const $=g&&g.children,J=g?g.shapeFlag:0,V=m.children,{patchFlag:Z,shapeFlag:X}=m;if(Z>0){if(Z&128){Ot($,V,S,R,A,C,B,z,U);return}else if(Z&256){Le($,V,S,R,A,C,B,z,U);return}}X&8?(J&16&&$t($,A,C),V!==$&&u(S,V)):J&16?X&16?Ot($,V,S,R,A,C,B,z,U):$t($,A,C,!0):(J&8&&u(S,""),X&16&&F(V,S,R,A,C,B,z,U))},Le=(g,m,S,R,A,C,B,z,U)=>{g=g||vi,m=m||vi;const $=g.length,J=m.length,V=Math.min($,J);let Z;for(Z=0;Z<V;Z++){const X=m[Z]=U?Tn(m[Z]):Wt(m[Z]);v(g[Z],X,S,null,A,C,B,z,U)}$>J?$t(g,A,C,!0,!1,V):F(m,S,R,A,C,B,z,U,V)},Ot=(g,m,S,R,A,C,B,z,U)=>{let $=0;const J=m.length;let V=g.length-1,Z=J-1;for(;$<=V&&$<=Z;){const X=g[$],te=m[$]=U?Tn(m[$]):Wt(m[$]);if(Vn(X,te))v(X,te,S,null,A,C,B,z,U);else break;$++}for(;$<=V&&$<=Z;){const X=g[V],te=m[Z]=U?Tn(m[Z]):Wt(m[Z]);if(Vn(X,te))v(X,te,S,null,A,C,B,z,U);else break;V--,Z--}if($>V){if($<=Z){const X=Z+1,te=X<J?m[X].el:R;for(;$<=Z;)v(null,m[$]=U?Tn(m[$]):Wt(m[$]),S,te,A,C,B,z,U),$++}}else if($>Z)for(;$<=V;)Ce(g[$],A,C,!0),$++;else{const X=$,te=$,be=new Map;for($=te;$<=Z;$++){const Pe=m[$]=U?Tn(m[$]):Wt(m[$]);Pe.key!=null&&be.set(Pe.key,$)}let ue,Je=0;const Be=Z-te+1;let bt=!1,rt=0;const zt=new Array(Be);for($=0;$<Be;$++)zt[$]=0;for($=X;$<=V;$++){const Pe=g[$];if(Je>=Be){Ce(Pe,A,C,!0);continue}let dt;if(Pe.key!=null)dt=be.get(Pe.key);else for(ue=te;ue<=Z;ue++)if(zt[ue-te]===0&&Vn(Pe,m[ue])){dt=ue;break}dt===void 0?Ce(Pe,A,C,!0):(zt[dt-te]=$+1,dt>=rt?rt=dt:bt=!0,v(Pe,m[dt],S,null,A,C,B,z,U),Je++)}const kt=bt?Ip(zt):vi;for(ue=kt.length-1,$=Be-1;$>=0;$--){const Pe=te+$,dt=m[Pe],fi=Pe+1<J?m[Pe+1].el:R;zt[$]===0?v(null,dt,S,fi,A,C,B,z,U):bt&&(ue<0||$!==kt[ue]?we(dt,S,fi,2):ue--)}}},we=(g,m,S,R,A=null)=>{const{el:C,type:B,transition:z,children:U,shapeFlag:$}=g;if($&6){we(g.component.subTree,m,S,R);return}if($&128){g.suspense.move(m,S,R);return}if($&64){B.move(g,m,S,bn);return}if(B===de){i(C,m,S);for(let V=0;V<U.length;V++)we(U[V],m,S,R);i(g.anchor,m,S);return}if(B===Qr){k(g,m,S);return}if(R!==2&&$&1&&z)if(R===0)z.beforeEnter(C),i(C,m,S),vt(()=>z.enter(C),A);else{const{leave:V,delayLeave:Z,afterLeave:X}=z,te=()=>{g.ctx.isUnmounted?r(C):i(C,m,S)},be=()=>{V(C,()=>{te(),X&&X()})};Z?Z(C,te,be):be()}else i(C,m,S)},Ce=(g,m,S,R=!1,A=!1)=>{const{type:C,props:B,ref:z,children:U,dynamicChildren:$,shapeFlag:J,patchFlag:V,dirs:Z,cacheIndex:X}=g;if(V===-2&&(A=!1),z!=null&&(pn(),fs(z,null,S,g,!0),gn()),X!=null&&(m.renderCache[X]=void 0),J&256){m.ctx.deactivate(g);return}const te=J&1&&Z,be=!xi(g);let ue;if(be&&(ue=B&&B.onVnodeBeforeUnmount)&&Bt(ue,m,g),J&6)Ae(g.component,S,R);else{if(J&128){g.suspense.unmount(S,R);return}te&&Hn(g,null,m,"beforeUnmount"),J&64?g.type.remove(g,m,S,bn,R):$&&!$.hasOnce&&(C!==de||V>0&&V&64)?$t($,m,S,!1,!0):(C===de&&V&384||!A&&J&16)&&$t(U,m,S),R&&$e(g)}(be&&(ue=B&&B.onVnodeUnmounted)||te)&&vt(()=>{ue&&Bt(ue,m,g),te&&Hn(g,null,m,"unmounted")},S)},$e=g=>{const{type:m,el:S,anchor:R,transition:A}=g;if(m===de){Mr(S,R);return}if(m===Qr){b(g);return}const C=()=>{r(S),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:B,delayLeave:z}=A,U=()=>B(S,C);z?z(g.el,C,U):U()}else C()},Mr=(g,m)=>{let S;for(;g!==m;)S=d(g),r(g),g=S;r(m)},Ae=(g,m,S)=>{const{bum:R,scope:A,job:C,subTree:B,um:z,m:U,a:$,parent:J,slots:{__:V}}=g;_l(U),_l($),R&&Xr(R),J&&Y(V)&&V.forEach(Z=>{J.renderCache[Z]=void 0}),A.stop(),C&&(C.flags|=8,Ce(B,g,m,S)),z&&vt(z,m),vt(()=>{g.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},$t=(g,m,S,R=!1,A=!1,C=0)=>{for(let B=C;B<g.length;B++)Ce(g[B],m,S,R,A)},_n=g=>{if(g.shapeFlag&6)return _n(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=d(g.anchor||g.el),S=m&&m[qh];return S?d(S):m};let ci=!1;const ui=(g,m,S)=>{g==null?m._vnode&&Ce(m._vnode,null,null,!0):v(m._vnode||null,g,m,null,null,null,S),m._vnode=g,ci||(ci=!0,ol(),Du(),ci=!1)},bn={p:v,um:Ce,m:we,r:$e,mt:oe,mc:F,pc:he,pbc:O,n:_n,o:e};return{render:ui,hydrate:void 0,createApp:mp(ui)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function zn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ap(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ef(e,t,n=!1){const i=e.children,r=t.children;if(Y(i)&&Y(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Tn(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&ef(o,a)),a.type===Os&&(a.el=o.el),a.type===nt&&!a.el&&(a.el=o.el)}}function Ip(e){const t=e.slice(),n=[0];let i,r,s,o,a;const c=e.length;for(i=0;i<c;i++){const l=e[i];if(l!==0){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function tf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:tf(t)}function _l(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Cp=Symbol.for("v-scx"),Dp=()=>Qi(Cp);function zx(e,t){return Ia(e,null,t)}function Mt(e,t,n){return Ia(e,t,n)}function Ia(e,t,n=xe){const{immediate:i,deep:r,flush:s,once:o}=n,a=Ue({},n),c=t&&i||!t&&s!=="post";let l;if(Si){if(s==="sync"){const h=Dp();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Xt,h.resume=Xt,h.pause=Xt,h}}const u=Fe;a.call=(h,p,v)=>Ht(h,u,p,v);let f=!1;s==="post"?a.scheduler=h=>{vt(h,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(h,p)=>{p?h():xa(h)}),a.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Bh(e,t,a);return Si&&(l?l.push(d):c&&d()),d}function Lp(e,t,n){const i=this.proxy,r=De(e)?e.includes(".")?nf(i,e):()=>i[e]:e.bind(i,i);let s;Q(t)?s=t:(s=t.handler,n=t);const o=Lr(this),a=Ia(r,s.bind(i),n);return o(),a}function nf(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const Rp=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Dt(t)}Modifiers`]||e[`${si(t)}Modifiers`];function Op(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||xe;let r=n;const s=t.startsWith("update:"),o=s&&Rp(i,t.slice(7));o&&(o.trim&&(r=n.map(u=>De(u)?u.trim():u)),o.number&&(r=n.map(ss)));let a,c=i[a=Jr(t)]||i[a=Jr(Dt(t))];!c&&s&&(c=i[a=Jr(si(t))]),c&&Ht(c,e,6,r);const l=i[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ht(l,e,6,r)}}function rf(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!Q(e)){const c=l=>{const u=rf(l,t,!0);u&&(a=!0,Ue(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!a?(ke(e)&&i.set(e,null),null):(Y(s)?s.forEach(c=>o[c]=null):Ue(o,s),ke(e)&&i.set(e,o),o)}function Rs(e,t){return!e||!xs(t)?!1:(t=t.slice(2).replace(/Once$/,""),ge(e,t[0].toLowerCase()+t.slice(1))||ge(e,si(t))||ge(e,t))}function bl(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,E=us(e);let x,I;try{if(n.shapeFlag&4){const b=r||i,D=b;x=Wt(l.call(D,b,u,f,h,d,p)),I=a}else{const b=t;x=Wt(b.length>1?b(f,{attrs:a,slots:o,emit:c}):b(f,null)),I=t.props?a:$p(a)}}catch(b){er.length=0,Ir(b,e,1),x=re(nt)}let k=x;if(I&&v!==!1){const b=Object.keys(I),{shapeFlag:D}=k;b.length&&D&7&&(s&&b.some(ua)&&(I=Pp(I,s)),k=Pn(k,I,!1,!0))}return n.dirs&&(k=Pn(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&ei(k,n.transition),x=k,us(E),x}const $p=e=>{let t;for(const n in e)(n==="class"||n==="style"||xs(n))&&((t||(t={}))[n]=e[n]);return t},Pp=(e,t)=>{const n={};for(const i in e)(!ua(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Mp(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:c}=t,l=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?vl(i,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==i[d]&&!Rs(l,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?vl(i,o,l):!0:!!o;return!1}function vl(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!Rs(n,s))return!0}return!1}function Np({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const sf=e=>e.__isSuspense;function Fp(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):jh(e)}const de=Symbol.for("v-fgt"),Os=Symbol.for("v-txt"),nt=Symbol.for("v-cmt"),Qr=Symbol.for("v-stc"),er=[];let yt=null;function H(e=!1){er.push(yt=e?null:[])}function Hp(){er.pop(),yt=er[er.length-1]||null}let dr=1;function wl(e,t=!1){dr+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function of(e){return e.dynamicChildren=dr>0?yt||vi:null,Hp(),dr>0&&yt&&yt.push(e),e}function G(e,t,n,i,r,s){return of(y(e,t,n,i,r,s,!0))}function hn(e,t,n,i,r){return of(re(e,t,n,i,r,!0))}function hr(e){return e?e.__v_isVNode===!0:!1}function Vn(e,t){return e.type===t.type&&e.key===t.key}const af=({key:e})=>e??null,es=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||Re(e)||Q(e)?{i:He,r:e,k:t,f:!!n}:e:null);function y(e,t=null,n=null,i=0,r=null,s=e===de?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&af(t),ref:t&&es(t),scopeId:Ru,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:He};return a?(Ca(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=De(n)?8:16),dr>0&&!o&&yt&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&yt.push(c),c}const re=zp;function zp(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===Uu)&&(e=nt),hr(e)){const a=Pn(e,t,!0);return n&&Ca(a,n),dr>0&&!s&&yt&&(a.shapeFlag&6?yt[yt.indexOf(e)]=a:yt.push(a)),a.patchFlag=-2,a}if(Jp(e)&&(e=e.__vccOpts),t){t=Up(t);let{class:a,style:c}=t;a&&!De(a)&&(t.class=pt(a)),ke(c)&&(wa(c)&&!Y(c)&&(c=Ue({},c)),t.style=Ts(c))}const o=De(e)?1:sf(e)?128:Ou(e)?64:ke(e)?4:Q(e)?2:0;return y(e,t,n,i,r,o,s,!0)}function Up(e){return e?wa(e)||Wu(e)?Ue({},e):e:null}function Pn(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:c}=e,l=t?hs(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&af(l),ref:t&&t.ref?n&&s?Y(s)?s.concat(es(t)):[s,es(t)]:es(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Pn(e.ssContent),ssFallback:e.ssFallback&&Pn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&i&&ei(u,c.clone(u)),u}function Et(e=" ",t=0){return re(Os,null,e,t)}function Bp(e,t){const n=re(Qr,null,e);return n.staticCount=t,n}function Me(e="",t=!1){return t?(H(),hn(nt,null,e)):re(nt,null,e)}function Wt(e){return e==null||typeof e=="boolean"?re(nt):Y(e)?re(de,null,e.slice()):hr(e)?Tn(e):re(Os,null,String(e))}function Tn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Pn(e)}function Ca(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Y(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Ca(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Wu(t)?t._ctx=He:r===3&&He&&(He.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:He},n=32):(t=String(t),i&64?(n=16,t=[Et(t)]):n=8);e.children=t,e.shapeFlag|=n}function hs(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=pt([t.class,i.class]));else if(r==="style")t.style=Ts([t.style,i.style]);else if(xs(r)){const s=t[r],o=i[r];o&&s!==o&&!(Y(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function Bt(e,t,n,i=null){Ht(e,t,7,[n,i])}const Vp=ju();let Gp=0;function jp(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||Vp,s={uid:Gp++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new lu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yu(i,r),emitsOptions:rf(i,r),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:i.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Op.bind(null,s),e.ce&&e.ce(s),s}let Fe=null;const lf=()=>Fe||He;let ps,Bo;{const e=Es(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};ps=t("__VUE_INSTANCE_SETTERS__",n=>Fe=n),Bo=t("__VUE_SSR_SETTERS__",n=>Si=n)}const Lr=e=>{const t=Fe;return ps(e),e.scope.on(),()=>{e.scope.off(),ps(t)}},yl=()=>{Fe&&Fe.scope.off(),ps(null)};function cf(e){return e.vnode.shapeFlag&4}let Si=!1;function qp(e,t=!1,n=!1){t&&Bo(t);const{props:i,children:r}=e.vnode,s=cf(e);vp(e,i,s,t),kp(e,r,n||t);const o=s?Zp(e,t):void 0;return t&&Bo(!1),o}function Zp(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,cp);const{setup:i}=n;if(i){pn();const r=e.setupContext=i.length>1?Kp(e):null,s=Lr(e),o=Ar(i,e,0,[e.props,r]),a=tu(o);if(gn(),s(),(a||e.sp)&&!xi(e)&&Sa(e),a){if(o.then(yl,yl),t)return o.then(c=>{xl(e,c)}).catch(c=>{Ir(c,e,0)});e.asyncDep=o}else xl(e,o)}else uf(e)}function xl(e,t,n){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ke(t)&&(e.setupState=Au(t)),uf(e)}function uf(e,t,n){const i=e.type;e.render||(e.render=i.render||Xt);{const r=Lr(e);pn();try{up(e)}finally{gn(),r()}}}const Wp={get(e,t){return tt(e,"get",""),e[t]}};function Kp(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Wp),slots:e.slots,emit:e.emit,expose:t}}function $s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Au(ya(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xi)return Xi[n](e)},has(t,n){return n in t||n in Xi}})):e.proxy}function Yp(e,t=!0){return Q(e)?e.displayName||e.name:e.name||t&&e.__name}function Jp(e){return Q(e)&&"__vccOpts"in e}const Ye=(e,t)=>zh(e,t,Si);function Xp(e,t,n){const i=arguments.length;return i===2?ke(t)&&!Y(t)?hr(t)?re(e,null,[t]):re(e,t):re(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&hr(n)&&(n=[n]),re(e,t,n))}const Qp="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vo;const kl=typeof window<"u"&&window.trustedTypes;if(kl)try{Vo=kl.createPolicy("vue",{createHTML:e=>e})}catch{}const ff=Vo?e=>Vo.createHTML(e):e=>e,eg="http://www.w3.org/2000/svg",tg="http://www.w3.org/1998/Math/MathML",an=typeof document<"u"?document:null,Sl=an&&an.createElement("template"),ng={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?an.createElementNS(eg,e):t==="mathml"?an.createElementNS(tg,e):n?an.createElement(e,{is:n}):an.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>an.createTextNode(e),createComment:e=>an.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>an.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Sl.innerHTML=ff(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=Sl.content;if(i==="svg"||i==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vn="transition",Mi="animation",Ei=Symbol("_vtc"),df={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hf=Ue({},Pu,df),ig=e=>(e.displayName="Transition",e.props=hf,e),pf=ig((e,{slots:t})=>Xp(Wh,gf(e),t)),Un=(e,t=[])=>{Y(e)?e.forEach(n=>n(...t)):e&&e(...t)},El=e=>e?Y(e)?e.some(t=>t.length>1):e.length>1:!1;function gf(e){const t={};for(const N in e)N in df||(t[N]=e[N]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=rg(r),v=p&&p[0],E=p&&p[1],{onBeforeEnter:x,onEnter:I,onEnterCancelled:k,onLeave:b,onLeaveCancelled:D,onBeforeAppear:j=x,onAppear:L=I,onAppearCancelled:F=k}=t,T=(N,ie,oe,Oe)=>{N._enterCancelled=Oe,xn(N,ie?u:a),xn(N,ie?l:o),oe&&oe()},O=(N,ie)=>{N._isLeaving=!1,xn(N,f),xn(N,h),xn(N,d),ie&&ie()},P=N=>(ie,oe)=>{const Oe=N?L:I,ve=()=>T(ie,N,oe);Un(Oe,[ie,ve]),Tl(()=>{xn(ie,N?c:s),jt(ie,N?u:a),El(Oe)||Al(ie,i,v,ve)})};return Ue(t,{onBeforeEnter(N){Un(x,[N]),jt(N,s),jt(N,o)},onBeforeAppear(N){Un(j,[N]),jt(N,c),jt(N,l)},onEnter:P(!1),onAppear:P(!0),onLeave(N,ie){N._isLeaving=!0;const oe=()=>O(N,ie);jt(N,f),N._enterCancelled?(jt(N,d),Go()):(Go(),jt(N,d)),Tl(()=>{N._isLeaving&&(xn(N,f),jt(N,h),El(b)||Al(N,i,E,oe))}),Un(b,[N,oe])},onEnterCancelled(N){T(N,!1,void 0,!0),Un(k,[N])},onAppearCancelled(N){T(N,!0,void 0,!0),Un(F,[N])},onLeaveCancelled(N){O(N),Un(D,[N])}})}function rg(e){if(e==null)return null;if(ke(e))return[lo(e.enter),lo(e.leave)];{const t=lo(e);return[t,t]}}function lo(e){return rh(e)}function jt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ei]||(e[Ei]=new Set)).add(t)}function xn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[Ei];n&&(n.delete(t),n.size||(e[Ei]=void 0))}function Tl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let sg=0;function Al(e,t,n,i){const r=e._endId=++sg,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:c}=mf(e,t);if(!o)return i();const l=o+"end";let u=0;const f=()=>{e.removeEventListener(l,d),s()},d=h=>{h.target===e&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),e.addEventListener(l,d)}function mf(e,t){const n=window.getComputedStyle(e),i=p=>(n[p]||"").split(", "),r=i(`${vn}Delay`),s=i(`${vn}Duration`),o=Il(r,s),a=i(`${Mi}Delay`),c=i(`${Mi}Duration`),l=Il(a,c);let u=null,f=0,d=0;t===vn?o>0&&(u=vn,f=o,d=s.length):t===Mi?l>0&&(u=Mi,f=l,d=c.length):(f=Math.max(o,l),u=f>0?o>l?vn:Mi:null,d=u?u===vn?s.length:c.length:0);const h=u===vn&&/\b(transform|all)(,|$)/.test(i(`${vn}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function Il(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>Cl(n)+Cl(e[i])))}function Cl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Go(){return document.body.offsetHeight}function og(e,t,n){const i=e[Ei];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const gs=Symbol("_vod"),_f=Symbol("_vsh"),bf={beforeMount(e,{value:t},{transition:n}){e[gs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ni(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Ni(e,!0),i.enter(e)):i.leave(e,()=>{Ni(e,!1)}):Ni(e,t))},beforeUnmount(e,{value:t}){Ni(e,t)}};function Ni(e,t){e.style.display=t?e[gs]:"none",e[_f]=!t}const ag=Symbol(""),lg=/(^|;)\s*display\s*:/;function cg(e,t,n){const i=e.style,r=De(n);let s=!1;if(n&&!r){if(t)if(De(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ts(i,a,"")}else for(const o in t)n[o]==null&&ts(i,o,"");for(const o in n)o==="display"&&(s=!0),ts(i,o,n[o])}else if(r){if(t!==n){const o=i[ag];o&&(n+=";"+o),i.cssText=n,s=lg.test(n)}}else t&&e.removeAttribute("style");gs in e&&(e[gs]=s?i.display:"",e[_f]&&(i.display="none"))}const Dl=/\s*!important$/;function ts(e,t,n){if(Y(n))n.forEach(i=>ts(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=ug(e,t);Dl.test(n)?e.setProperty(si(i),n.replace(Dl,""),"important"):e[i]=n}}const Ll=["Webkit","Moz","ms"],co={};function ug(e,t){const n=co[t];if(n)return n;let i=Dt(t);if(i!=="filter"&&i in e)return co[t]=i;i=Ss(i);for(let r=0;r<Ll.length;r++){const s=Ll[r]+i;if(s in e)return co[t]=s}return t}const Rl="http://www.w3.org/1999/xlink";function Ol(e,t,n,i,r,s=uh(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Rl,t.slice(6,t.length)):e.setAttributeNS(Rl,t,n):n==null||s&&!su(n)?e.removeAttribute(t):e.setAttribute(t,s?"":Ft(n)?String(n):n)}function $l(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ff(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=su(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function dn(e,t,n,i){e.addEventListener(t,n,i)}function fg(e,t,n,i){e.removeEventListener(t,n,i)}const Pl=Symbol("_vei");function dg(e,t,n,i,r=null){const s=e[Pl]||(e[Pl]={}),o=s[t];if(i&&o)o.value=i;else{const[a,c]=hg(t);if(i){const l=s[t]=mg(i,r);dn(e,a,l,c)}else o&&(fg(e,a,o,c),s[t]=void 0)}}const Ml=/(?:Once|Passive|Capture)$/;function hg(e){let t;if(Ml.test(e)){t={};let i;for(;i=e.match(Ml);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):si(e.slice(2)),t]}let uo=0;const pg=Promise.resolve(),gg=()=>uo||(pg.then(()=>uo=0),uo=Date.now());function mg(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ht(_g(i,n.value),t,5,[i])};return n.value=e,n.attached=gg(),n}function _g(e,t){if(Y(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Nl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bg=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?og(e,i,o):t==="style"?cg(e,n,i):xs(t)?ua(t)||dg(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):vg(e,t,i,o))?($l(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ol(e,t,i,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!De(i))?$l(e,Dt(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Ol(e,t,i,o))};function vg(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Nl(t)&&Q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Nl(t)&&De(n)?!1:t in e}const vf=new WeakMap,wf=new WeakMap,ms=Symbol("_moveCb"),Fl=Symbol("_enterCb"),wg=e=>(delete e.props.mode,e),yg=wg({name:"TransitionGroup",props:Ue({},hf,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=lf(),i=$u();let r,s;return zu(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Tg(r[0].el,n.vnode.el,o)){r=[];return}r.forEach(kg),r.forEach(Sg);const a=r.filter(Eg);Go(),a.forEach(c=>{const l=c.el,u=l.style;jt(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=l[ms]=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",f),l[ms]=null,xn(l,o))};l.addEventListener("transitionend",f)}),r=[]}),()=>{const o=le(e),a=gf(o);let c=o.tag||de;if(r=[],s)for(let l=0;l<s.length;l++){const u=s[l];u.el&&u.el instanceof Element&&(r.push(u),ei(u,fr(u,a,i,n)),vf.set(u,u.el.getBoundingClientRect()))}s=t.default?ka(t.default()):[];for(let l=0;l<s.length;l++){const u=s[l];u.key!=null&&ei(u,fr(u,a,i,n))}return re(c,null,s)}}}),xg=yg;function kg(e){const t=e.el;t[ms]&&t[ms](),t[Fl]&&t[Fl]()}function Sg(e){wf.set(e,e.el.getBoundingClientRect())}function Eg(e){const t=vf.get(e),n=wf.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function Tg(e,t,n){const i=e.cloneNode(),r=e[Ei];r&&r.forEach(a=>{a.split(/\s+/).forEach(c=>c&&i.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=mf(i);return s.removeChild(i),o}const Mn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?n=>Xr(t,n):t};function Ag(e){e.target.composing=!0}function Hl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ct=Symbol("_assign"),Ie={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[Ct]=Mn(r);const s=i||r.props&&r.props.type==="number";dn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=ss(a)),e[Ct](a)}),n&&dn(e,"change",()=>{e.value=e.value.trim()}),t||(dn(e,"compositionstart",Ag),dn(e,"compositionend",Hl),dn(e,"change",Hl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[Ct]=Mn(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?ss(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===c)||(e.value=c))}},yf={deep:!0,created(e,t,n){e[Ct]=Mn(n),dn(e,"change",()=>{const i=e._modelValue,r=Ti(e),s=e.checked,o=e[Ct];if(Y(i)){const a=ha(i,r),c=a!==-1;if(s&&!c)o(i.concat(r));else if(!s&&c){const l=[...i];l.splice(a,1),o(l)}}else if(Ci(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(xf(e,s))})},mounted:zl,beforeUpdate(e,t,n){e[Ct]=Mn(n),zl(e,t,n)}};function zl(e,{value:t,oldValue:n},i){e._modelValue=t;let r;if(Y(t))r=ha(t,i.props.value)>-1;else if(Ci(t))r=t.has(i.props.value);else{if(t===n)return;r=Qn(t,xf(e,!0))}e.checked!==r&&(e.checked=r)}const Ux={created(e,{value:t},n){e.checked=Qn(t,n.props.value),e[Ct]=Mn(n),dn(e,"change",()=>{e[Ct](Ti(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e[Ct]=Mn(i),t!==n&&(e.checked=Qn(t,i.props.value))}},Jn={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const r=Ci(t);dn(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?ss(Ti(o)):Ti(o));e[Ct](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,Is(()=>{e._assigning=!1})}),e[Ct]=Mn(i)},mounted(e,{value:t}){Ul(e,t)},beforeUpdate(e,t,n){e[Ct]=Mn(n)},updated(e,{value:t}){e._assigning||Ul(e,t)}};function Ul(e,t){const n=e.multiple,i=Y(t);if(!(n&&!i&&!Ci(t))){for(let r=0,s=e.options.length;r<s;r++){const o=e.options[r],a=Ti(o);if(n)if(i){const c=typeof a;c==="string"||c==="number"?o.selected=t.some(l=>String(l)===String(a)):o.selected=ha(t,a)>-1}else o.selected=t.has(a);else if(Qn(Ti(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ti(e){return"_value"in e?e._value:e.value}function xf(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ig=["ctrl","shift","alt","meta"],Cg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ig.some(n=>e[`${n}Key`]&&!t.includes(n))},Dg=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<t.length;o++){const a=Cg[t[o]];if(a&&a(r,t))return}return e(r,...s)})},Lg=Ue({patchProp:bg},ng);let Bl;function Rg(){return Bl||(Bl=Ep(Lg))}const Og=(...e)=>{const t=Rg().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Pg(i);if(!r)return;const s=t._component;!Q(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,$g(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function $g(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Pg(e){return De(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let kf;const Ps=e=>kf=e,Sf=Symbol();function jo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var tr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(tr||(tr={}));function Mg(){const e=cu(!0),t=e.run(()=>ze({}));let n=[],i=[];const r=ya({install(s){Ps(r),r._a=s,s.provide(Sf,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Ef=()=>{};function Vl(e,t,n,i=Ef){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&uu()&&dh(r),r}function gi(e,...t){e.slice().forEach(n=>{n(...t)})}const Ng=e=>e(),Gl=Symbol(),fo=Symbol();function qo(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];jo(r)&&jo(i)&&e.hasOwnProperty(n)&&!Re(i)&&!Dn(i)?e[n]=qo(r,i):e[n]=i}return e}const Fg=Symbol();function Hg(e){return!jo(e)||!e.hasOwnProperty(Fg)}const{assign:kn}=Object;function zg(e){return!!(Re(e)&&e.effect)}function Ug(e,t,n,i){const{state:r,actions:s,getters:o}=t,a=n.state.value[e];let c;function l(){a||(n.state.value[e]=r?r():{});const u=Mh(n.state.value[e]);return kn(u,s,Object.keys(o||{}).reduce((f,d)=>(f[d]=ya(Ye(()=>{Ps(n);const h=n._s.get(e);return o[d].call(h,h)})),f),{}))}return c=Tf(e,l,t,n,i,!0),c}function Tf(e,t,n={},i,r,s){let o;const a=kn({actions:{}},n),c={deep:!0};let l,u,f=[],d=[],h;const p=i.state.value[e];!s&&!p&&(i.state.value[e]={}),ze({});let v;function E(F){let T;l=u=!1,typeof F=="function"?(F(i.state.value[e]),T={type:tr.patchFunction,storeId:e,events:h}):(qo(i.state.value[e],F),T={type:tr.patchObject,payload:F,storeId:e,events:h});const O=v=Symbol();Is().then(()=>{v===O&&(l=!0)}),u=!0,gi(f,T,i.state.value[e])}const x=s?function(){const{state:T}=n,O=T?T():{};this.$patch(P=>{kn(P,O)})}:Ef;function I(){o.stop(),f=[],d=[],i._s.delete(e)}const k=(F,T="")=>{if(Gl in F)return F[fo]=T,F;const O=function(){Ps(i);const P=Array.from(arguments),N=[],ie=[];function oe(ne){N.push(ne)}function Oe(ne){ie.push(ne)}gi(d,{args:P,name:O[fo],store:D,after:oe,onError:Oe});let ve;try{ve=F.apply(this&&this.$id===e?this:D,P)}catch(ne){throw gi(ie,ne),ne}return ve instanceof Promise?ve.then(ne=>(gi(N,ne),ne)).catch(ne=>(gi(ie,ne),Promise.reject(ne))):(gi(N,ve),ve)};return O[Gl]=!0,O[fo]=T,O},b={_p:i,$id:e,$onAction:Vl.bind(null,d),$patch:E,$reset:x,$subscribe(F,T={}){const O=Vl(f,F,T.detached,()=>P()),P=o.run(()=>Mt(()=>i.state.value[e],N=>{(T.flush==="sync"?u:l)&&F({storeId:e,type:tr.direct,events:h},N)},kn({},c,T)));return O},$dispose:I},D=Tr(b);i._s.set(e,D);const L=(i._a&&i._a.runWithContext||Ng)(()=>i._e.run(()=>(o=cu()).run(()=>t({action:k}))));for(const F in L){const T=L[F];if(Re(T)&&!zg(T)||Dn(T))s||(p&&Hg(T)&&(Re(T)?T.value=p[F]:qo(T,p[F])),i.state.value[e][F]=T);else if(typeof T=="function"){const O=k(T,F);L[F]=O,a.actions[F]=T}}return kn(D,L),kn(le(D),L),Object.defineProperty(D,"$state",{get:()=>i.state.value[e],set:F=>{E(T=>{kn(T,F)})}}),i._p.forEach(F=>{kn(D,o.run(()=>F({store:D,app:i._a,pinia:i,options:a})))}),p&&s&&n.hydrate&&n.hydrate(D.$state,p),l=!0,u=!0,D}/*! #__NO_SIDE_EFFECTS__ */function Ms(e,t,n){let i,r;const s=typeof t=="function";typeof e=="string"?(i=e,r=s?n:t):(r=e,i=e.id);function o(a,c){const l=bp();return a=a||(l?Qi(Sf,null):null),a&&Ps(a),a=kf,a._s.has(i)||(s?Tf(i,t,r,a):Ug(i,r,a)),a._s.get(i)}return o.$id=i,o}const ee={specialSkillData:{tactics:[{value:"concealed_weapon",label:""},{value:"fence_off",label:""},{value:"covering_fire",label:""},{value:"stance",label:""},{value:"riding_combat",label:""},{value:"fatal_spot_attack",label:""},{value:"high_angle_fire",label:""},{value:"ready_to_die",label:""},{value:"martial_arts",label:""},{value:"escort",label:""},{value:"heavy_attack",label:""},{value:"risk_attack",label:""},{value:"machine_gunning",label:""},{value:"snipe",label:""},{value:"provoke",label:""},{value:"lightning_speed",label:""},{value:"rush",label:""},{value:"cleave",label:""},{value:"knock_shooting",label:""},{value:"parry",label:""},{value:"feint",label:""},{value:"throw_weapon",label:""},{value:"break_weapon",label:""},{value:"fortitude",label:""},{value:"gait",label:""},{value:"anticipate",label:""},{value:"pierce_armor",label:""}],magic:[{value:"light",label:""},{value:"dozing",label:""},{value:"enchant",label:""},{value:"send_sound",label:""},{value:"silence",label:""},{value:"recovery",label:""},{value:"read_wind",label:""},{value:"activate",label:""},{value:"fear",label:""},{value:"warning",label:""},{value:"barrier",label:""},{value:"illusion",label:""},{value:"telecommunication",label:""},{value:"power_of_word",label:""},{value:"ritual_of_spirit",label:""},{value:"heal",label:""},{value:"calling",label:""},{value:"familiar",label:""},{value:"ignite",label:""},{value:"extend_magic",label:""},{value:"light_brush",label:""},{value:"cover",label:""},{value:"float",label:""},{value:"magic_weapon",label:""}],features:[{value:"wisdom",label:""},{value:"concentrate",label:""},{value:"acrobatics",label:""},{value:"connivance",label:""},{value:"thin",label:""},{value:"cajolery",label:""},{value:"connection",label:""},{value:"change_clothes",label:""},{value:"hide_object",label:""},{value:"auto_writing",label:""},{value:"pickpocket",label:""},{value:"instant",label:""},{value:"infinite_bagpack",label:""},{value:"training",label:""},{value:"instruction",label:""},{value:"cleverness",label:""},{value:"adaptability",label:""},{value:"cipher",label:""},{value:"spoofing",label:""},{value:"beauty",label:""},{value:"other_name",label:""},{value:"decompose",label:""},{value:"honor",label:""},{value:"night_vision",label:""}]},baseSkills:[{id:"motion",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"avoidance",name:"",checked:!1,canHaveExperts:!1,experts:[]},{id:"sense",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"observation",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"technique",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"shooting",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"sociality",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"knowledge",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"combat",name:"",checked:!1,canHaveExperts:!0,experts:[{value:""}]},{id:"defense",name:"",checked:!1,canHaveExperts:!1,experts:[]}],externalSkillOrder:["motion","avoidance","sense","observation","technique","shooting","sociality","knowledge","combat","defense"],specialSkillsRequiringNote:["enchant","ritual_of_spirit","familiar","magic_weapon","wisdom","connection","hide_object","training","spoofing","other_name","honor"],speciesOptions:[{value:"",label:"",disabled:!0},{value:"human",label:""},{value:"elf",label:""},{value:"dwarf",label:""},{value:"halfling",label:""},{value:"therianthropy",label:""},{value:"dragonfolk",label:""},{value:"treefolk",label:""},{value:"other",label:""}],weaponOptions:[{value:"",label:""},{value:"combat_small",label:""},{value:"combat_medium",label:""},{value:"combat_large",label:""},{value:"shooting",label:""},{value:"catalyst",label:""}],armorOptions:[{value:"",label:""},{value:"light_armor",label:""},{value:"heavy_armor",label:""}],weaknessAcquisitionOptions:[{value:"--",text:"--",disabled:!1},{value:"",text:"",disabled:!1}],specialSkillGroupOptions:[{value:"",label:""},{value:"tactics",label:""},{value:"magic",label:""},{value:"features",label:""},{value:"free",label:""}],speciesLabelMap:{human:"",elf:"",dwarf:"",halfling:"",therianthropy:"",dragonfolk:"",treefolk:"",other:"","":""},equipmentGroupLabelMap:{"":"",combat_small:"",combat_medium:"",combat_large:"",shooting:"",catalyst:"",light_armor:"",heavy_armor:""},weaponDamage:{"":"",combat_small:"1d4+1",combat_medium:"1d6+1",combat_large:"1d10",shooting:"1d8",catalyst:""},equipmentWeights:{weapon:{"":0,combat_small:1,combat_medium:3,combat_large:5,shooting:2,catalyst:1},armor:{"":0,light_armor:2,heavy_armor:5}},defaultCharacterData:{images:[],name:"",playerName:"",species:"",rareSpecies:"",occupation:"",age:null,gender:"",height:"",weight:"",origin:"",faith:"",otherItems:"",currentScar:0,initialScar:0,linkCurrentToInitialScar:!0,memo:"",weaknesses:null},experiencePointValues:{skillBase:10,expertSkill:5,specialSkill:5,weakness:10,basePoints:100,maxInitialBonus:20},placeholderTexts:{expertSkill:"",expertSkillDisabled:" ()",weaponName:"",armorName:"",specialSkillNote:"",characterMemo:""},config:{initialSpecialSkillCount:8,maxSpecialSkills:20,maxWeaknesses:10},helpText:`#### 
- ****: (.json  .zip)
- ****: 
- ****: 

#### Google Drive
- ****: Google
- ****: 

#### 
- ****: 
- ****: 
- ****: Google Drive(Google Drive)
- ****: Google Drive

#### 
- **Google Drive**: 
- ****: 
- ****: 

#### 
- bright-trpgJSON
- [GitHub Issues](https://github.com/ktakahiro1729/aioniacs/issues)
  `},ho={general:"",invalid:"",expired:"",passwordRequired:"",decryptionFailed:""},q={googleDrive:{signIn:{loading:()=>({title:"Google Drive",message:"..."}),success:()=>({title:"",message:""}),error:e=>({title:"",message:e.message||e.details||""})},signOut:{success:()=>({title:"",message:""})},folderPicker:{error:e=>({title:"Google Drive",message:(e==null?void 0:e.message)||""})},save:{loading:()=>({title:"Google Drive",message:"..."}),success:()=>({title:"",message:""}),error:e=>({title:"",message:e.message||""})},load:{loading:e=>({title:"Google Drive",message:`${e} ...`}),success:e=>({title:"",message:`${e} `}),error:e=>({title:"",message:e.message||""})},apiInitError:()=>({title:"Google API ",message:""}),signInInitError:()=>({title:"Google ",message:""})},share:{copied:e=>({title:"",message:e}),copyFailed:e=>({title:"",message:e.message}),needSignIn:()=>({title:"Google Drive",message:""}),generateFailed:e=>({title:"",message:e.message}),loadError:{...ho,toast:e=>({title:"",message:ho[e]||ho.general})}},characterHub:{loadConfirm:e=>({title:"",message:`${e} `,buttons:[{label:"",value:"load",variant:"primary"},{label:"",value:"cancel",variant:"secondary",duration:1}]}),deleteConfirm:e=>({title:"",message:`${e} `,buttons:[{label:"",value:"delete",variant:"primary"},{label:"",value:"cancel",variant:"secondary",duration:1}]}),delete:{successToast:()=>({title:"",message:""}),asyncToast:{loading:()=>({title:"",message:"..."}),success:()=>({title:"",message:""}),error:e=>({title:"",message:e.message||""})}},export:{loading:()=>({title:"",message:"..."}),success:()=>({title:"",message:""}),error:e=>({title:"",message:e.message||""})}},image:{loadError:e=>({title:"",message:e.message})},dataExport:{loadError:e=>({title:"",message:e})},file:{loadError:"JSON"},ui:{header:{defaultTitle:"Aionia TRPG Character Sheet",cloudHub:"Cloud Hub",helpLabel:"?"},footer:{experience:"",io:"",share:"",copyEdit:""},viewModeBanner:"",buttons:{saveCloud:"Drive",saveCloudNew:"",saveCloudOverwrite:"",saveCloudTitle:"Google Drive",loadCloud:"Drive",loadCloudTitle:"Google Drive",saveLocal:"",saveLocalTitle:"",loadLocal:"",loadLocalTitle:""},prompts:{sharedDataPassword:""},modal:{hubTitle:"",generate:"",shareTitle:"",cancel:"",shareFailed:"",io:{title:"",buttons:{saveLocal:"",loadLocal:"",output:"",print:"",driveFolder:""}}}},outputButton:{default:"",success:"",successFallback:" (fallback)",failed:" (fallback)",error:" (fallback)",animating:"",animationTimings:{state1_bgFill:500,state2_textHold:1e3,state3_textFadeOut:500,state4_bgReset:700,state5_successHold:300}},weaknessDropdownHelp:""};function Xn(e){return JSON.parse(JSON.stringify(e))}function Zo(e){return Array(e).fill(null).map(()=>({text:"",acquired:"--"}))}function jl(){const e=Xn(ee.defaultCharacterData);return e.weaknesses=Zo(ee.config.maxWeaknesses),e}function ql(){return Xn(ee.baseSkills)}function Zl(){return Array(ee.config.initialSpecialSkillCount).fill(null).map(()=>({group:"",name:"",note:"",showNote:!1}))}function Wl(){return{weapon1:{group:"",name:""},weapon2:{group:"",name:""},armor:{group:"",name:""}}}function Kl(){return[{sessionName:"",gotExperiments:null,memo:""}]}const je=Ms("character",{state:()=>({character:jl(),skills:ql(),specialSkills:Zl(),equipments:Wl(),histories:Kl()}),getters:{maxExperiencePoints(e){const t=Number(e.character.initialScar)||0,n=e.character.weaknesses.reduce((s,o)=>s+(o.text&&o.text.trim()!==""&&o.acquired===""?ee.experiencePointValues.weakness:0),0),i=Math.min(t+n,ee.experiencePointValues.maxInitialBonus),r=e.histories.reduce((s,o)=>s+(Number(o.gotExperiments)||0),0);return ee.experiencePointValues.basePoints+i+r},currentExperiencePoints(e){const t=e.skills.reduce((r,s)=>r+(s.checked?ee.experiencePointValues.skillBase:0),0),n=e.skills.reduce((r,s)=>s.checked&&s.canHaveExperts?r+s.experts.reduce((o,a)=>o+(a.value&&a.value.trim()!==""?ee.experiencePointValues.expertSkill:0),0):r,0),i=e.specialSkills.reduce((r,s)=>r+(s.name&&s.name.trim()!==""?ee.experiencePointValues.specialSkill:0),0);return t+n+i},currentWeight(e){const t=ee.equipmentWeights.weapon,n=ee.equipmentWeights.armor;let i=0;return i+=t[e.equipments.weapon1.group]||0,i+=t[e.equipments.weapon2.group]||0,i+=n[e.equipments.armor.group]||0,i},sessionNamesForWeaknessDropdown(e){const t=[...ee.weaknessAcquisitionOptions],n=e.histories.map(r=>r.sessionName).filter(r=>r&&r.trim()!=="").map(r=>({value:r,text:r,disabled:!1})),i={value:"help-text",text:q.weaknessDropdownHelp,disabled:!0};return t.concat(n,i)}},actions:{_manageListItem({list:e,action:t,index:n,newItemFactory:i,hasContentChecker:r,maxLength:s}){if(t==="add"){if(s&&e.length>=s)return;const o=typeof i=="function"?i():i;e.push(typeof o=="object"&&o!==null?Xn(o):o)}else if(t==="remove"){if(e.length>1)e.splice(n,1);else if(e.length===1&&r&&r(e[n])){const o=typeof i=="function"?i():i;e[n]=typeof o=="object"&&o!==null?Xn(o):o}}},addSpecialSkillItem(){this._manageListItem({list:this.specialSkills,action:"add",newItemFactory:()=>({group:"",name:"",note:"",showNote:!1}),maxLength:ee.config.maxSpecialSkills})},removeSpecialSkill(e){this._manageListItem({list:this.specialSkills,action:"remove",index:e,newItemFactory:()=>({group:"",name:"",note:"",showNote:!1}),hasContentChecker:t=>!!(t.group||t.name||t.note)})},addHistoryItem(){this._manageListItem({list:this.histories,action:"add",newItemFactory:()=>({sessionName:"",gotExperiments:null,memo:""})})},removeHistoryItem(e){this._manageListItem({list:this.histories,action:"remove",index:e,newItemFactory:()=>({sessionName:"",gotExperiments:null,memo:""}),hasContentChecker:t=>!!(t.sessionName||t.gotExperiments!==null&&t.gotExperiments!==""||t.memo)})},addExpert(e){const t=this.skills.find(n=>n.id===e);t&&t.canHaveExperts&&this._manageListItem({list:t.experts,action:"add",newItemFactory:()=>({value:""})})},removeExpert(e,t){const n=this.skills.find(i=>i.id===e);n&&n.canHaveExperts&&this._manageListItem({list:n.experts,action:"remove",index:t,newItemFactory:()=>({value:""}),hasContentChecker:i=>i.value&&i.value.trim()!==""})},updateHistoryItem(e,t,n){this.histories[e]&&(this.histories[e][t]=t==="gotExperiments"&&n!==""&&n!==null?Number(n):n)},handleSpeciesChange(){this.character.species!=="other"&&(this.character.rareSpecies="")},initializeAll(){Object.assign(this.character,jl()),this.skills.splice(0,this.skills.length,...ql()),this.specialSkills.splice(0,this.specialSkills.length,...Zl()),Object.assign(this.equipments,Wl()),this.histories.splice(0,this.histories.length,...Kl())}}}),mt=Ms("ui",{state:()=>({isCloudSaveSuccess:!1,isSignedIn:!1,isGapiInitialized:!1,isGisInitialized:!1,isLoading:!1,driveFolderId:null,driveFolderName:"",currentDriveFileId:null,isViewingShared:!1,driveCharacters:[],pendingDriveSaves:{},showHeader:!0}),getters:{experienceStatusClass(){const e=je();return e.currentExperiencePoints>e.maxExperiencePoints?"status-display--experience-over":"status-display--experience-ok"},canSignInToGoogle(e){return e.isGapiInitialized&&e.isGisInitialized&&!e.isSignedIn},canOperateDrive(e){return e.isSignedIn&&e.driveFolderId}},actions:{setLoading(e){this.isLoading=e},async refreshDriveCharacters(e){if(!e)return;const t=this.driveCharacters.filter(s=>s.id.startsWith("temp-")),n=await e.readIndexFile(),i=new Set(n.map(s=>s.id));let r=this.driveCharacters.filter(s=>s.id.startsWith("temp-")||i.has(s.id));n.forEach(s=>{const o=r.findIndex(a=>a.id===s.id);o!==-1?r[o]={...r[o],...s}:r.push(s)}),t.forEach(s=>{r.some(o=>o.id===s.id)||r.push(s)}),this.driveCharacters=r},clearDriveCharacters(){this.driveCharacters=[]},addDriveCharacter(e){this.driveCharacters.push(e)},updateDriveCharacter(e,t){const n=this.driveCharacters.findIndex(i=>i.id===e);n!==-1&&(this.driveCharacters[n]={...this.driveCharacters[n],...t})},removeDriveCharacter(e){this.driveCharacters=this.driveCharacters.filter(t=>t.id!==e)},registerPendingDriveSave(e){return this.pendingDriveSaves[e]={canceled:!1},this.pendingDriveSaves[e]},cancelPendingDriveSave(e){this.pendingDriveSaves[e]&&(this.pendingDriveSaves[e].canceled=!0)},completePendingDriveSave(e){delete this.pendingDriveSaves[e]}}});let Af=class{constructor(t,n){this.apiKey=t,this.clientId=n,this.discoveryDocs=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],this.scope="https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file",this.gapiLoadedCallback=null,this.gisLoadedCallback=null,this.tokenClient=null,this.pickerApiLoaded=!1,this.handleSignIn=this.handleSignIn.bind(this),this.handleSignOut=this.handleSignOut.bind(this)}onGapiLoad(){return new Promise((t,n)=>{if(typeof gapi>"u"||!gapi.load){const i=new Error("GAPI core script not available for gapi.load.");return console.error("GDM: "+i.message),n(i)}gapi.load("client:picker",()=>{if(typeof gapi.client>"u"||!gapi.client.init){const i=new Error("GAPI client script not available for gapi.client.init.");return console.error("GDM: "+i.message),n(i)}gapi.client.init({apiKey:this.apiKey,discoveryDocs:this.discoveryDocs}).then(()=>{this.pickerApiLoaded=!0,console.log("GDM: GAPI client and Picker initialized."),t()}).catch(i=>{console.error("GDM: Error initializing GAPI client:",i),n(i)})})})}onGisLoad(){return new Promise((t,n)=>{if(typeof google>"u"||!google.accounts||!google.accounts.oauth2||!google.accounts.oauth2.initTokenClient){const i=new Error("GIS library not fully available to initialize token client (google.accounts.oauth2.initTokenClient is undefined).");return console.error("GDM: "+i.message),n(i)}try{this.tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:this.scope,callback:""}),console.log("GDM: GIS Token Client initialized."),t()}catch(i){console.error("GDM: Error initializing GIS Token Client:",i),n(i)}})}handleSignIn(t){if(!this.tokenClient){console.error("GIS Token Client not initialized."),t&&t(new Error("GIS Token Client not initialized."));return}this.tokenClient.callback=n=>{if(n.error){console.error("Google Sign-In error:",n.error),t&&t(new Error(n.error));return}console.log("Sign-in successful, token obtained."),t&&t(null,{signedIn:!0})},gapi.client.getToken()===null?this.tokenClient.requestAccessToken({prompt:"consent"}):this.tokenClient.requestAccessToken({prompt:""})}handleSignOut(t){const n=gapi.client.getToken();n!==null?google.accounts.oauth2.revoke(n.access_token,()=>{gapi.client.setToken(""),console.log("User signed out and token revoked."),t&&t()}):t&&t()}async createFolder(t){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded."),null;try{const n=await gapi.client.drive.files.create({resource:{name:t,mimeType:"application/vnd.google-apps.folder"},fields:"id, name"});return console.log("Folder created successfully:",n.result),n.result}catch(n){return console.error("Error creating folder:",n),null}}async findFolder(t){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded."),null;try{const i=(await gapi.client.drive.files.list({q:`mimeType='application/vnd.google-apps.folder' and name='${t}' and trashed=false`,fields:"files(id, name)",spaces:"drive"})).result.files;return i&&i.length>0?(console.log("Folder found:",i[0]),i[0]):(console.log("Folder not found:",t),null)}catch(n){return console.error("Error finding folder:",n),null}}async getOrCreateAppFolder(t){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded for getOrCreateAppFolder."),null;try{let n=await this.findFolder(t);return n||(console.log(`Folder "${t}" not found, creating it.`),n=await this.createFolder(t)),n}catch(n){return console.error(`Error in getOrCreateAppFolder for "${t}":`,n),null}}async listFiles(t,n="application/json"){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded for listFiles."),[];try{return(await gapi.client.drive.files.list({q:`'${t}' in parents and mimeType='${n}' and trashed=false`,fields:"files(id, name)",spaces:"drive"})).result.files||[]}catch(i){return console.error("Error listing files:",i),[]}}async saveFile(t,n,i,r=null){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded for saveFile."),null;if(r)try{const s="-------314159265358979323846",o=`\r
--${s}\r
`,a=`\r
--${s}--`,c="application/json",l={name:n,mimeType:c},u=o+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(l)+o+`Content-Type: ${c}\r
\r
`+i+a,f=await gapi.client.request({path:`/upload/drive/v3/files/${r}`,method:"PATCH",params:{uploadType:"multipart"},headers:{"Content-Type":`multipart/related; boundary=${s}`},body:u});return console.log("File updated successfully:",f.result),{id:f.result.id,name:f.result.name}}catch(s){if(s.status===404)throw console.error("Error creating file: The parent folder was not found.",s),new Error("Parent folder not found. Please select a new folder.");return console.error("Error creating new file:",s),s.result&&s.result.error&&console.error("Detailed error:",s.result.error.message),null}try{const s="-------314159265358979323846",o=`\r
--${s}\r
`,a=`\r
--${s}--`,c="application/json",l={name:n,parents:[t],mimeType:c},u=o+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(l)+o+`Content-Type: ${c}\r
\r
`+i+a,f=await gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart",fields:"id,name"},headers:{"Content-Type":`multipart/related; boundary=${s}`},body:u});return console.log("File created successfully:",f.result),{id:f.result.id,name:f.result.name}}catch(s){return console.error("Error creating new file:",s),s.result&&s.result.error&&console.error("Detailed error:",s.result.error.message),null}}async loadFileContent(t){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded for loadFileContent."),null;try{const n=await gapi.client.drive.files.get({fileId:t,alt:"media"});return typeof n.body=="object"?JSON.stringify(n.body):n.body}catch(n){return console.error("Error loading file content:",n),n.result&&n.result.error&&console.error("Detailed error:",n.result.error.message),null}}async uploadAndShareFile(t,n,i){if(!gapi.client||!gapi.client.drive)return console.error("GAPI client or Drive API not loaded for uploadAndShareFile."),null;try{const r="-------314159265358979323846",s=`\r
--${r}\r
`,o=`\r
--${r}--`,a={name:n,mimeType:i},c=s+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(a)+s+`Content-Type: ${i}\r
\r
`+t+o,l=await gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart",fields:"id"},headers:{"Content-Type":`multipart/related; boundary=${r}`},body:c});return await gapi.client.drive.permissions.create({fileId:l.result.id,resource:{role:"reader",type:"anyone"}}),l.result.id}catch(r){return console.error("Error uploading and sharing file:",r),null}}showFilePicker(t,n=null,i=["application/json"]){if(!this.pickerApiLoaded){console.error("Picker API not loaded yet."),t&&t(new Error("Picker API not loaded."));return}const r=gapi.client.getToken();if(!r){console.error("User not signed in or token not available for Picker."),t&&t(new Error("Not signed in or token unavailable."));return}const s=l=>{if(l[google.picker.Response.ACTION]===google.picker.Action.PICKED){const u=l[google.picker.Response.DOCUMENTS][0];t&&t(null,{id:u.id,name:u.name})}else l[google.picker.Response.ACTION]===google.picker.Action.CANCEL&&(console.log("Picker cancelled by user."),t&&t(new Error("Picker cancelled by user.")))},o=new google.picker.View(google.picker.ViewId.DOCS);n&&o.setParent(n),i&&i.length>0&&o.setMimeTypes(i.join(",")),new google.picker.PickerBuilder().setOrigin(window.location.origin).addView(o).enableFeature(google.picker.Feature.NAV_HIDDEN).setOAuthToken(r.access_token).setCallback(s).build().setVisible(!0)}showFolderPicker(t){if(!this.pickerApiLoaded){console.error("Picker API not loaded yet for folder picker."),t&&t(new Error("Picker API not loaded."));return}const n=gapi.client.getToken();if(!n){console.error("User not signed in or token not available for Folder Picker."),t&&t(new Error("Not signed in or token unavailable."));return}const i=a=>{if(a[google.picker.Response.ACTION]===google.picker.Action.PICKED){const c=a[google.picker.Response.DOCUMENTS][0];t&&t(null,{id:c.id,name:c.name})}else a[google.picker.Response.ACTION]===google.picker.Action.CANCEL&&(console.log("Folder Picker cancelled by user."),t&&t(new Error("Folder Picker cancelled by user.")))},r=new google.picker.DocsView;r.setIncludeFolders(!0),r.setSelectFolderEnabled(!0),r.setMimeTypes("application/vnd.google-apps.folder"),new google.picker.PickerBuilder().setOrigin(window.location.origin).addView(r).setTitle("Select a folder").setOAuthToken(n.access_token).setCallback(i).build().setVisible(!0)}async ensureIndexFile(){const t=(await gapi.client.drive.files.list({q:"name='character_index.json' and trashed=false",spaces:"appDataFolder",fields:"files(id,name)"})).result.files||[];if(t.length>0)return this.indexFileId=t[0].id,t[0];const n=await this.saveFile("appDataFolder","character_index.json","[]");return n&&(this.indexFileId=n.id),n}async readIndexFile(){const t=await this.ensureIndexFile();if(!t)return[];const n=await this.loadFileContent(t.id);try{return JSON.parse(n||"[]")}catch{return[]}}async writeIndexFile(t){const n=await this.ensureIndexFile();return n?this.saveFile("appDataFolder","character_index.json",JSON.stringify(t,null,2),n.id):null}async addIndexEntry(t){const n=await this.readIndexFile();n.push({...t,updatedAt:new Date().toISOString()}),await this.writeIndexFile(n)}async renameIndexEntry(t,n){const i=await this.readIndexFile();i.forEach(r=>{r.id===t&&(r.characterName=n,r.updatedAt=new Date().toISOString())}),await this.writeIndexFile(i)}async removeIndexEntry(t){const i=(await this.readIndexFile()).filter(r=>r.id!==t);await this.writeIndexFile(i)}async createCharacterFile(t){var i;const n=`${(((i=t.character)==null?void 0:i.name)||"").replace(/[\\/:*?"<>|]/g,"_")}.json`;return this.saveFile("appDataFolder",n,JSON.stringify(t,null,2))}async updateCharacterFile(t,n){var r;const i=`${(((r=n.character)==null?void 0:r.name)||"").replace(/[\\/:*?"<>|]/g,"_")}.json`;return this.saveFile("appDataFolder",i,JSON.stringify(n,null,2),t)}async loadCharacterFile(t){const n=await this.loadFileContent(t);return n?JSON.parse(n):null}async deleteCharacterFile(t){if(!gapi.client||!gapi.client.drive)return null;await gapi.client.drive.files.delete({fileId:t}),await this.removeIndexEntry(t)}};window.GoogleDriveManager=Af;class Bg{constructor(t,n){this.apiKey=t,this.clientId=n,this.storageKey="mockGoogleDriveData",console.log("MockGoogleDriveManager is active and uses localStorage."),this._loadState()}_loadState(){try{const t=localStorage.getItem(this.storageKey);if(t){const n=JSON.parse(t);this.appData=n.appData,this.folders=n.folders,this.fileCounter=n.fileCounter,this.indexFileId=n.indexFileId,this.signedIn=n.signedIn}else this._initState()}catch(t){console.error("Failed to load mock state from localStorage, resetting.",t),this._initState()}this.pickerApiLoaded=!0}_saveState(){const t={appData:this.appData,folders:this.folders,fileCounter:this.fileCounter,indexFileId:this.indexFileId,signedIn:this.signedIn};localStorage.setItem(this.storageKey,JSON.stringify(t))}_initState(){this.appData={},this.folders={},this.fileCounter=1,this.indexFileId=null,this.signedIn=!1,this._saveState()}onGapiLoad(){return Promise.resolve()}onGisLoad(){return Promise.resolve()}handleSignIn(t){this.signedIn=!0,this._saveState(),t&&t(null,{signedIn:!0})}handleSignOut(t){this.signedIn=!1,this._saveState(),t&&t()}async createFolder(t){const n=Object.values(this.folders).find(s=>s.name===t);if(n)return n;const i=`folder-${this.fileCounter++}`,r={id:i,name:t};return this.folders[i]=r,this._saveState(),r}async findFolder(t){return Object.values(this.folders).find(n=>n.name===t)||null}async getOrCreateAppFolder(t){let n=await this.findFolder(t);return n||(n=await this.createFolder(t)),n}async listFiles(t,n="application/json"){return Object.values(this.appData).filter(i=>i.parentId===t).map(i=>({id:i.id,name:i.name}))}async saveFile(t,n,i,r=null){const s=r||`file-${this.fileCounter++}`;return this.appData[s]={id:s,name:n,content:i,parentId:t},this._saveState(),{id:s,name:n}}async loadFileContent(t){const n=this.appData[t];return n?n.content:null}async uploadAndShareFile(t,n,i){return(await this.saveFile("drive",n,t)).id}showFilePicker(t,n=null,i=["application/json"]){const s=Object.values(this.appData).filter(o=>!n||o.parentId===n)[0];s?t&&t(null,{id:s.id,name:s.name}):t&&t(new Error("No files available."))}showFolderPicker(t){const n=Object.values(this.folders)[0];n?t&&t(null,{id:n.id,name:n.name}):t&&t(new Error("No folders available."))}async ensureIndexFile(){if(this.indexFileId&&this.appData[this.indexFileId])return{id:this.indexFileId,name:"character_index.json"};const t=Object.keys(this.appData).find(i=>this.appData[i].name==="character_index.json");if(t)return this.indexFileId=t,this._saveState(),{id:t,name:"character_index.json"};const n=await this.saveFile("appDataFolder","character_index.json","[]");return this.indexFileId=n.id,this._saveState(),n}async readIndexFile(){const t=await this.ensureIndexFile(),n=await this.loadFileContent(t.id);try{return JSON.parse(n||"[]")}catch{return[]}}async writeIndexFile(t){const n=await this.ensureIndexFile();return this.saveFile("appDataFolder","character_index.json",JSON.stringify(t,null,2),n.id)}async addIndexEntry(t){const n=await this.readIndexFile();n.push({...t,updatedAt:new Date().toISOString()}),await this.writeIndexFile(n)}async renameIndexEntry(t,n){const i=await this.readIndexFile();i.forEach(r=>{r.id===t&&(r.characterName=n,r.updatedAt=new Date().toISOString())}),await this.writeIndexFile(i)}async removeIndexEntry(t){const i=(await this.readIndexFile()).filter(r=>r.id!==t);await this.writeIndexFile(i)}async createCharacterFile(t){var i;const n=`${(((i=t.character)==null?void 0:i.name)||"").replace(/[\\/:*?"<>|]/g,"_")}.json`;return this.saveFile("appDataFolder",n,JSON.stringify(t,null,2))}async updateCharacterFile(t,n){var r;const i=`${(((r=n.character)==null?void 0:r.name)||"").replace(/[\\/:*?"<>|]/g,"_")}.json`;return this.saveFile("appDataFolder",i,JSON.stringify(n,null,2),t)}async loadCharacterFile(t){const n=await this.loadFileContent(t);return n?JSON.parse(n):null}async deleteCharacterFile(t){delete this.appData[t],this._saveState(),await this.removeIndexEntry(t)}}window.MockGoogleDriveManager=Bg;const If=Ms("notification",{state:()=>({toasts:[]}),actions:{addToast(e){const t=Date.now()+Math.random(),n={id:t,duration:1e3,type:"info",...e};return this.toasts.push(n),n.duration>0&&setTimeout(()=>{this.removeToast(t)},n.duration),t},updateToast(e,t){const n=this.toasts.findIndex(r=>r.id===e);if(n===-1)return;const i=this.toasts[n];Object.assign(i,t),t.duration>0&&setTimeout(()=>{this.removeToast(e)},t.duration)},removeToast(e){this.toasts=this.toasts.filter(t=>t.id!==e)}}});function ai(){const e=If();function t(i){return e.addToast(i)}function n(i,r){const s=t({duration:0,type:"info",...r.loading||{}}),o=(a,c)=>{const l=a.duration===void 0?1e3:a.duration;console.log(a.duration,a.duration===void 0,l),e.updateToast(s,{duration:l,type:c,...a})};return i.then(a=>(o(r.success||{},"success"),a)).catch(a=>{const c=typeof r.error=="function"?r.error(a):{...r.error||{},message:r.error&&r.error.message||a.message};o(c,"error")}),i}return{showToast:t,showAsyncToast:n}}const Vg=Af;function Gg(e){const t=mt(),n=je(),i=ze(null),{showToast:r,showAsyncToast:s}=ai(),o=Ye(()=>t.canSignInToGoogle);function a(){if(!i.value)return;const p=new Promise((v,E)=>{i.value.handleSignIn((x,I)=>{x||!I||!I.signedIn?(t.isSignedIn=!1,E(x||new Error("Ensure pop-ups are enabled."))):(t.isSignedIn=!0,e.loadCharacterListFromDrive().then(k=>t.driveCharacters=k),v())})});s(p,{loading:q.googleDrive.signIn.loading(),success:q.googleDrive.signIn.success(),error:v=>q.googleDrive.signIn.error(v)})}function c(){i.value&&i.value.handleSignOut(()=>{t.isSignedIn=!1,t.clearDriveCharacters(),r({type:"success",...q.googleDrive.signOut.success()})})}function l(){const p=e.googleDriveManager;p&&p.showFolderPicker((v,E)=>{if(v||!E){r({type:"error",...q.googleDrive.folderPicker.error(v)});return}t.driveFolderId=E.id,t.driveFolderName=E.name})}async function u(p){if(!e.googleDriveManager)return;t.isCloudSaveSuccess=!1;const v=n.character.name||"",E=new Date().toISOString();if(p){const x=t.driveCharacters.findIndex(b=>b.id===p),I=x!==-1?{...t.driveCharacters[x]}:null;t.updateDriveCharacter(p,{characterName:v,updatedAt:E});const k=e.saveDataToAppData(n.character,n.skills,n.specialSkills,n.equipments,n.histories,p).then(b=>{b&&(t.isCloudSaveSuccess=!0)}).catch(b=>{throw I&&t.updateDriveCharacter(p,I),b});return s(k,{loading:q.googleDrive.save.loading(),success:q.googleDrive.save.success(),error:b=>q.googleDrive.save.error(b)}),k}else{const x=`temp-${Date.now()}`;t.addDriveCharacter({id:x,characterName:v,updatedAt:E});const I=t.registerPendingDriveSave(x),k=e.saveDataToAppData(n.character,n.skills,n.specialSkills,n.equipments,n.histories,p).then(b=>{!I.canceled&&b&&(t.isCloudSaveSuccess=!0,t.updateDriveCharacter(x,{id:b.id,updatedAt:E}),t.currentDriveFileId=b.id),t.completePendingDriveSave(x)}).catch(b=>{throw I.canceled||t.removeDriveCharacter(x),t.completePendingDriveSave(x),b});return s(k,{loading:q.googleDrive.save.loading(),success:q.googleDrive.save.success(),error:b=>q.googleDrive.save.error(b)}),k}}function f(){return u(t.currentDriveFileId)}function d(){return u(t.currentDriveFileId)}function h(){const p="AIzaSyBXvh_XH2XdHedIO5AaZKWLl1NJm7UAHnU",v="913887099800-5pkljcl9uua4ktealpbndilam9i1q1dg.apps.googleusercontent.com";i.value=new Vg(p,v),e.setGoogleDriveManager(i.value);const E=async()=>{if(!(t.isGapiInitialized||!i.value)){t.isGapiInitialized=!0,console.info("Google API Loading...");try{await i.value.onGapiLoad(),console.info("Google API Ready")}catch{r({type:"error",...q.googleDrive.apiInitError()})}}},x=async()=>{if(!(t.isGisInitialized||!i.value)){t.isGisInitialized=!0,console.info("Google Sign-In Loading...");try{await i.value.onGisLoad(),console.info("Google Sign-In Ready")}catch{r({type:"error",...q.googleDrive.signInInitError()})}}};function I(k,b){return new Promise((D,j)=>{if(b()){D();return}const L=document.querySelector(k);if(!L){j(new Error("Script not found"));return}L.addEventListener("load",D,{once:!0}),L.addEventListener("error",()=>j(new Error("Script load failed")),{once:!0})})}I('script[src="https://apis.google.com/js/api.js"]',()=>window.gapi&&window.gapi.load).then(E).catch(()=>r({type:"error",...q.googleDrive.apiInitError()})),I('script[src="https://accounts.google.com/gsi/client"]',()=>window.google&&window.google.accounts).then(x).catch(()=>r({type:"error",...q.googleDrive.signInInitError()}))}return oi(()=>{(window.GoogleDriveManager||window.MockGoogleDriveManager)&&h()}),{canSignInToGoogle:o,handleSignInClick:a,handleSignOutClick:c,promptForDriveFolder:l,saveCharacterToDrive:u,handleSaveToDriveClick:f,saveOrUpdateCurrentCharacterInDrive:d}}function Cf(){return!("ontouchstart"in window||navigator.maxTouchPoints>0)}function jg(e,t){const n=ze("closed"),i=ze(!1),r=Ye(()=>n.value!=="closed");function s(){i.value&&n.value==="closed"&&(n.value="hovered")}function o(){i.value&&n.value==="hovered"&&(n.value="closed")}function a(){i.value?n.value=n.value==="fixed"?"closed":"fixed":n.value=n.value==="closed"?"fixed":"closed"}function c(){n.value="closed"}function l(u){var h,p;if(n.value!=="fixed")return;const f=((h=e.value)==null?void 0:h.panelEl)||e.value,d=(p=t.value)==null?void 0:p.helpIcon;f&&d&&!f.contains(u.target)&&!d.contains(u.target)&&(n.value="closed")}return oi(()=>{i.value=Cf(),document.addEventListener("click",l)}),Ls(()=>{document.removeEventListener("click",l)}),{helpState:n,isHelpVisible:r,handleHelpIconMouseOver:s,handleHelpIconMouseLeave:o,handleHelpIconClick:a,closeHelpPanel:c}}const qg="modulepreload",Zg=function(e,t){return new URL(e,t).href},Yl={},At=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(n.map(u=>{if(u=Zg(u,i),u in Yl)return;Yl[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!i)for(let v=a.length-1;v>=0;v--){const E=a[v];if(E.href===u&&(!f||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":qg,f||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((v,E)=>{p.addEventListener("load",v),p.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};class Df{constructor(t){this.gameData=t,this.googleDriveManager=null}setGoogleDriveManager(t){this.googleDriveManager=t}_sanitizeFileName(t){return(t||"").replace(/[\\/:*?"<>|]/g,"_").trim()||""}async saveData(t,n,i,r,s){const o={...t};let a=null;o.images&&o.images.length>0&&(a=[...o.images],delete o.images);const c={character:o,skills:n.map(k=>({id:k.id,checked:k.checked,canHaveExperts:k.canHaveExperts,experts:k.canHaveExperts?k.experts.filter(b=>b.value&&b.value.trim()!=="").map(b=>({value:b.value})):[]})),specialSkills:i.filter(k=>k.group&&k.name),equipments:r,histories:s.filter(k=>k.sessionName||k.gotExperiments!==null&&k.gotExperiments!==""||k.memo)},l=JSON.stringify(c,null,2),u=this._sanitizeFileName(t.name),f=new Date,d=f.getFullYear(),h=String(f.getMonth()+1).padStart(2,"0"),p=String(f.getDate()).padStart(2,"0"),v=String(f.getHours()).padStart(2,"0"),E=String(f.getMinutes()).padStart(2,"0"),x=String(f.getSeconds()).padStart(2,"0"),I=`${d}${h}${p}${v}${E}${x}`;if(a)try{const{default:k}=await At(async()=>{const{default:T}=await import("./jszip.min-BmGvmV6A.js").then(O=>O.j);return{default:T}},[],import.meta.url),b=new k;b.file("character_data.json",l);const D=b.folder("images");a.forEach((T,O)=>{const P=T.substring(T.indexOf(",")+1),N=T.substring(T.indexOf("/")+1,T.indexOf(";"));D.file(`image_${O}.${N||"png"}`,P,{base64:!0})});const j=await b.generateAsync({type:"blob"}),L=URL.createObjectURL(j),F=document.createElement("a");F.href=L,F.download=`${u}_${I}.zip`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(L)}catch(k){throw console.error("Error saving ZIP file:",k),new Error("ZIP: "+k.message)}else{const k=new Blob([l],{type:"application/json"}),b=URL.createObjectURL(k),D=document.createElement("a");D.href=b,D.download=`${u}_${I}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(b)}}handleFileUpload(t,n,i){const r=t.target.files[0];if(!r)return;const s=r.name,o=new FileReader;s.endsWith(".zip")?(o.onload=async a=>{try{const{default:c}=await At(async()=>{const{default:E}=await import("./jszip.min-BmGvmV6A.js").then(x=>x.j);return{default:E}},[],import.meta.url),l=await c.loadAsync(a.target.result),u=l.file("character_data.json");if(!u)throw new Error("ZIP character_data.json ");const f=await u.async("string"),d=JSON.parse(f),h=[],p=l.folder("images");if(p){const E=[];p.forEach((x,I)=>{if(!I.dir){const k=I.async("base64").then(b=>{const D=x.substring(x.lastIndexOf(".")+1)||"png",j=`image/${D==="jpg"?"jpeg":D}`;h.push({relativePath:x,imageDataUrl:`data:${j};base64,${b}`})}).catch(b=>{console.error(`Error loading image ${x} from zip:`,b)});E.push(k)}}),await Promise.all(E),h.sort((x,I)=>{const k=/image_(\d+)\..+/i,b=x.relativePath.match(k),D=I.relativePath.match(k),j=b?parseInt(b[1],10):1/0,L=D?parseInt(D[1],10):1/0;return j!==1/0&&L!==1/0?j-L:j!==1/0?-1:L!==1/0?1:x.relativePath.localeCompare(I.relativePath)})}d.character||(d.character={}),d.character.images=h.map(E=>E.imageDataUrl);const v=this.parseLoadedData(d);n(v)}catch(c){console.error("Failed to parse ZIP file:",c),i(q.file.loadError+" (ZIP: "+c.message+")")}},o.readAsArrayBuffer(r)):(o.onload=a=>{const c=a.target.result;try{const l=JSON.parse(c),u=this.parseLoadedData(l);n(u)}catch(l){console.error("Failed to parse JSON file:",l),i(q.file.loadError)}},o.readAsText(r)),t.target.value=null}async exportDataToDriveFolder(t,n,i,r,s,o,a){if(!this.googleDriveManager)throw console.error("GoogleDriveManager not set in DataManager."),new Error("GoogleDriveManager not configured. Please sign in or initialize the Drive manager.");const c={character:t,skills:n.map(f=>({id:f.id,checked:f.checked,canHaveExperts:f.canHaveExperts,experts:f.canHaveExperts?f.experts.filter(d=>d.value&&d.value.trim()!=="").map(d=>({value:d.value})):[]})),specialSkills:i.filter(f=>f.group&&f.name),equipments:r,histories:s.filter(f=>f.sessionName||f.gotExperiments!==null&&f.gotExperiments!==""||f.memo)},l=JSON.stringify(c,null,2),u=(t.name||"").replace(/[\\/:*?"<>|]/g,"_")+".json";try{return await this.googleDriveManager.saveFile(o,u,l,a)}catch(f){throw console.error("Error saving data to Google Drive:",f),f}}async saveDataToAppData(t,n,i,r,s,o){if(!this.googleDriveManager)throw console.error("GoogleDriveManager not set in DataManager."),new Error("GoogleDriveManager not configured. Please sign in or initialize the Drive manager.");const a={character:t,skills:n.map(l=>({id:l.id,checked:l.checked,canHaveExperts:l.canHaveExperts,experts:l.canHaveExperts?l.experts.filter(u=>u.value&&u.value.trim()!=="").map(u=>({value:u.value})):[]})),specialSkills:i.filter(l=>l.group&&l.name),equipments:r,histories:s.filter(l=>l.sessionName||l.gotExperiments!==null&&l.gotExperiments!==""||l.memo)};if(o){const l=await this.googleDriveManager.updateCharacterFile(o,a);return await this.googleDriveManager.renameIndexEntry(o,t.name||""),l}const c=await this.googleDriveManager.createCharacterFile(a);return c&&await this.googleDriveManager.addIndexEntry({id:c.id,characterName:t.name||""}),c}async loadDataFromDrive(t){if(!this.googleDriveManager)throw console.error("GoogleDriveManager not set in DataManager."),new Error("GoogleDriveManager not configured. Please sign in or initialize the Drive manager.");try{const n=await this.googleDriveManager.loadFileContent(t);if(n){const i=JSON.parse(n);return this.parseLoadedData(i)}return null}catch(n){throw console.error("Error loading data from Google Drive:",n),n instanceof SyntaxError?new Error(q.file.loadError):n}}async loadCharacterListFromDrive(){if(!this.googleDriveManager)throw console.error("GoogleDriveManager not set in DataManager."),new Error("GoogleDriveManager not configured. Please sign in or initialize the Drive manager.");const t=await this.googleDriveManager.readIndexFile(),n=[];for(const i of t)try{await this.loadDataFromDrive(i.id)?n.push(i):console.error(`Character file not found or invalid: ${i.id}`)}catch(r){console.error(`Failed to load character file ${i.id}:`,r)}return n}convertExternalJsonToInternalFormat(t){const n={character:{name:t.name||"",playerName:t.player||"",species:t.species||"",rareSpecies:t.rare_species||"",occupation:t.occupation||"",age:t.age?parseInt(t.age,10):null,gender:t.gender||"",height:t.height||"",weight:t.weight||"",origin:t.origin||"",faith:t.faith||"",otherItems:t.otherItems||"",initialScar:t.init_scar?parseInt(t.init_scar,10):0,currentScar:t.init_scar?parseInt(t.init_scar,10):0,linkCurrentToInitialScar:typeof t.linkCurrentToInitialScar=="boolean"?t.linkCurrentToInitialScar:!0,memo:t.character_memo||"",images:[],weaknesses:Zo(this.gameData.config.maxWeaknesses)},skills:[],specialSkills:[],equipments:{weapon1:{group:"",name:""},weapon2:{group:"",name:""},armor:{group:"",name:""}},histories:[]};return t.init_weakness1&&(n.character.weaknesses[0]={text:t.init_weakness1,acquired:""}),t.init_weakness2&&(n.character.weaknesses[1]={text:t.init_weakness2,acquired:""}),this._convertSkillsData(t,n),this._convertSpecialSkillsData(t,n),this._convertEquipmentData(t,n),this._convertHistoryData(t,n),n}parseLoadedData(t){let n=t;if(this._isExternalFormat(t))console.log("External JSON format (bright-trpg tool) detected, converting..."),n=this.convertExternalJsonToInternalFormat(t);else if(this._isInternalFormat(t))console.log("Internal JSON format (this tool) detected."),n.character&&typeof n.character.images>"u"&&(n.character.images=[]);else{console.warn("Unknown JSON format, attempting to parse as is. Data integrity not guaranteed.");let i=[];t&&t.character&&Array.isArray(t.character.images)?i=t.character.images:t&&t.character&&typeof t.character.images<"u"&&console.warn("Loaded character data has an 'images' property that is not an array. Defaulting to empty images array."),n={character:{images:i,...t.character||{}},skills:[],specialSkills:[],equipments:{},histories:[],...t},n.character?Array.isArray(n.character.images)||(n.character.images=[]):n.character={images:[]}}return this._normalizeLoadedData(n)}_isExternalFormat(t){return t&&typeof t.player<"u"&&typeof t.character_memo<"u"}_isInternalFormat(t){return t&&t.character&&typeof t.character.playerName<"u"}_convertSkillsData(t,n){t.skills&&Array.isArray(t.skills)?this.gameData.externalSkillOrder.forEach((i,r)=>{const s=this.gameData.baseSkills.find(o=>o.id===i);if(s&&t.skills[r]){const o=t.skills[r],a={id:s.id,name:s.name,checked:!!o.selected,canHaveExperts:s.canHaveExperts,experts:[]};a.checked&&a.canHaveExperts?(o.expert_skills&&o.expert_skills.length>0&&(a.experts=o.expert_skills.map(c=>({value:c||""})).filter(c=>c.value)),a.experts.length===0&&a.experts.push({value:""})):a.canHaveExperts&&a.experts.push({value:""}),n.skills.push(a)}else s&&n.skills.push(Xn(s))}):n.skills=Xn(this.gameData.baseSkills)}_convertSpecialSkillsData(t,n){t.special_skills&&Array.isArray(t.special_skills)&&(n.specialSkills=t.special_skills.filter(i=>i.group&&i.name).map(i=>({group:i.group||"",name:i.name||"",note:i.note||"",showNote:this.gameData.specialSkillsRequiringNote.includes(i.name||"")})))}_convertEquipmentData(t,n){n.equipments={weapon1:{group:"",name:""},weapon2:{group:"",name:""},armor:{group:"",name:""}},(t.weapon1_type||t.weapon1_name)&&(n.equipments.weapon1={group:t.weapon1_type||"",name:t.weapon1_name||""}),(t.weapon2_type||t.weapon2_name)&&(n.equipments.weapon2={group:t.weapon2_type||"",name:t.weapon2_name||""}),(t.armor_type||t.armor_name)&&(n.equipments.armor={group:t.armor_type||"",name:t.armor_name||""})}_convertHistoryData(t,n){t.history&&Array.isArray(t.history)&&(n.histories=t.history.map(i=>({sessionName:i.name||"",gotExperiments:i.experiments?parseInt(i.experiments,10):null,memo:i.memo||i.stress||""})))}_normalizeLoadedData(t){const i={...{...this.gameData.defaultCharacterData,weaknesses:Zo(this.gameData.config.maxWeaknesses)},...t.character||{}};Array.isArray(i.images)||(i.images=[]);const r={character:i,skills:this._normalizeSkillsData(t.skills),specialSkills:this._normalizeSpecialSkillsData(t.specialSkills),equipments:this._normalizeEquipmentData(t.equipments),histories:this._normalizeHistoryData(t.histories)};return typeof r.character.linkCurrentToInitialScar>"u"&&(r.character.linkCurrentToInitialScar=!0),r}_normalizeSkillsData(t){const n=Xn(this.gameData.baseSkills);if(t&&Array.isArray(t)){const i=new Map(t.map(r=>[r.id,r]));return n.map(r=>{const s=i.get(r.id);return s?(r.checked=!!s.checked,r.canHaveExperts?(r.experts=s.experts&&s.experts.length>0?s.experts.map(o=>({value:o.value||""})):[{value:""}],r.experts.length>1&&r.experts.every(o=>o.value==="")&&(r.experts=[{value:""}])):r.experts=[]):r.canHaveExperts?r.experts=[{value:""}]:r.experts=[],r})}return n}_normalizeSpecialSkillsData(t){let n=0;t&&Array.isArray(t)&&(n=t.length);const i=Math.min(Math.max(this.gameData.config.initialSpecialSkillCount,n),this.gameData.config.maxSpecialSkills),r=[];for(let s=0;s<i;s++)if(t&&s<t.length){const o=t[s];r.push({group:o.group||"",name:o.name||"",note:o.note||"",showNote:this.gameData.specialSkillsRequiringNote.includes(o.name||"")})}else r.push({group:"",name:"",note:"",showNote:!1});return r}_normalizeEquipmentData(t){const n={weapon1:{group:"",name:""},weapon2:{group:"",name:""},armor:{group:"",name:""}};return t?{weapon1:{...n.weapon1,...t.weapon1||{}},weapon2:{...n.weapon2,...t.weapon2||{}},armor:{...n.armor,...t.armor||{}}}:n}_normalizeHistoryData(t){return t&&t.length>0?t.map(n=>({sessionName:n.sessionName||"",gotExperiments:n.gotExperiments===null||n.gotExperiments===void 0||n.gotExperiments===""?null:Number(n.gotExperiments),memo:n.memo||""})):[{sessionName:"",gotExperiments:null,memo:""}]}}window.DataManager=Df;class Lf{constructor(){this.MAX_MEMO_LENGTH=200,this.BREAK_CHARS=[`
`,"",""],this.MIN_BREAK_POSITION_RATIO=.5}buildCharacterBasicInfo(t,n){const i=[];i.push(`${t.name||""}${t.playerName?`${t.playerName}`:""}`);const r=n[t.species]||t.species,s=t.species==="other"?`${r}${t.rareSpecies||""}`:r;return i.push(`${s}`),t.gender&&i.push(`${t.gender}`),t.age!==null&&i.push(`${t.age}`),t.origin&&i.push(`${t.origin}`),t.occupation&&i.push(`${t.occupation}`),t.faith&&i.push(`${t.faith}`),t.height&&i.push(`${t.height}`),t.weight&&i.push(`${t.weight}`),i}buildWeaknessesInfo(t){const n=[];return t.forEach(i=>{i.text&&i.text.trim()!==""&&n.push(i.text)}),n.length>0?[`
`,...n]:[]}buildSkillsInfo(t){const n=[];return t.forEach(i=>{if(i.checked){let r=`${i.name}`;if(i.canHaveExperts&&i.experts.some(s=>s.value&&s.value.trim()!=="")){const s=i.experts.filter(o=>o.value&&o.value.trim()!=="").map(o=>o.value);s.length>0&&(r=`${i.name}${s.join("/")}`)}n.push(r)}}),n.length>0?[`
`,n.join(" ")]:[]}buildSpecialSkillsInfo(t,n,i){let r="";return t.forEach(s=>{if(s.group&&s.name){const a=(n[s.group]||[]).find(l=>l.value===s.name),c=a?a.label:s.name;i.includes(s.name)&&s.note?r+=`${c}${s.note}`:r+=`${c}`}}),r?[`
`,r]:[]}buildEquipmentInfo(t,n){const i=[];if(t.weapon1.group||t.weapon1.name){const r=n[t.weapon1.group]||t.weapon1.group;i.push(`${t.weapon1.name||"1"}${r||""}`)}if(t.weapon2.group||t.weapon2.name){const r=n[t.weapon2.group]||t.weapon2.group;i.push(`${t.weapon2.name||"2"}${r||""}`)}if(t.armor.group||t.armor.name){const r=n[t.armor.group]||t.armor.group;i.push(`${t.armor.name||""}${r||""}`)}return i.length>0?[`
`,...i]:[]}buildOtherItemsInfo(t){return t?[`
`,t]:[]}buildCharacterMemoInfo(t){if(!t)return[];let n="";return t.length<=this.MAX_MEMO_LENGTH?n=t:n=this.truncateCharacterMemo(t,this.MAX_MEMO_LENGTH),[`
`,n.trim()]}truncateCharacterMemo(t,n){const i=t.substring(0,n);let r=-1;for(const s of this.BREAK_CHARS){const o=i.lastIndexOf(s);o>r&&o>n*this.MIN_BREAK_POSITION_RATIO&&(r=o)}return r!==-1?t.substring(0,r+1)+(t.length>r+1?"":""):t.substring(0,n)+""}buildCocofoliaCommands(t,n,i,r){Number(t.currentScar);let s=`1d100>={}+{} 
1d100>={} 
:={}+{}/2 
:=0                 
`;return n.forEach(o=>{const a=o.checked?"2d10":"1d10";s+=`${a} ${o.name}
`,o.name===""?(s+=`${a} ${o.name}
`,s+=`${a}+2 ${o.name}
`):s+=`${a} ${o.name}
`,o.checked&&o.canHaveExperts&&o.experts.forEach(c=>{c.value&&c.value.trim()!==""&&(s+=`3d10 ${o.name}${c.value}
`)})}),i.weapon1.group&&r[i.weapon1.group]&&(s+=`${r[i.weapon1.group]} ${i.weapon1.name||"1"}
`),i.weapon2.group&&r[i.weapon2.group]&&(s+=`${r[i.weapon2.group]} ${i.weapon2.name||"2"}
`),s.trim()}buildCocofoliaCharacterObject(t,n,i,r){const s=Number(t.currentScar)||0;return{kind:"character",data:{params:[],status:[{label:"",value:0},{label:"",value:s},{label:"",value:0}],name:t.name||"",initiative:r*-1,memo:n,externalUrl:"",commands:i}}}generateCocofoliaData(t){const{character:n,skills:i,specialSkills:r,equipments:s,currentWeight:o,speciesLabelMap:a,equipmentGroupLabelMap:c,specialSkillData:l,specialSkillsRequiringNote:u,weaponDamage:f}=t,h=[...this.buildCharacterBasicInfo(n,a),...this.buildWeaknessesInfo(n.weaknesses),...this.buildSkillsInfo(i),...this.buildSpecialSkillsInfo(r,l,u),...this.buildEquipmentInfo(s,c),...this.buildOtherItemsInfo(n.otherItems),...this.buildCharacterMemoInfo(n.memo)].join(`
`).trim(),p=this.buildCocofoliaCommands(n,i,s,f);return this.buildCocofoliaCharacterObject(n,h,p,o)}}window.CocofoliaExporter=Lf;async function Wg(e){if(navigator&&navigator.clipboard){await navigator.clipboard.writeText(e);return}const t=document.createElement("textarea");t.value=e,t.style.cssText="position: fixed; top: 0; left: 0; opacity: 0;",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Kg(){const e=je(),t=new Df(ee),n=new Lf,{showToast:i}=ai();function r(){t.saveData(e.character,e.skills,e.specialSkills,e.equipments,e.histories)}function s(c){t.handleFileUpload(c,l=>{Object.assign(e.character,l.character),e.skills.splice(0,e.skills.length,...l.skills),e.specialSkills.splice(0,e.specialSkills.length,...l.specialSkills),Object.assign(e.equipments,l.equipments),e.histories.splice(0,e.histories.length,...l.histories)},l=>i({type:"error",...q.dataExport.loadError(l)}))}async function o(c){try{await Wg(c),document.dispatchEvent(new CustomEvent("aionia-copy-success",{detail:{type:"cocofolia"}}))}catch(l){console.error("Failed to copy: ",l),i({type:"error",title:q.outputButton.error})}}function a(){const c={character:e.character,skills:e.skills,specialSkills:e.specialSkills,equipments:e.equipments,currentWeight:e.currentWeight,speciesLabelMap:ee.speciesLabelMap,equipmentGroupLabelMap:ee.equipmentGroupLabelMap,specialSkillData:ee.specialSkillData,specialSkillsRequiringNote:ee.specialSkillsRequiringNote,weaponDamage:ee.weaponDamage},l=n.generateCocofoliaData(c),u=JSON.stringify(l,null,2);o(u)}return{dataManager:t,saveData:r,handleFileUpload:s,outputToCocofolia:a}}function Yg(){const e=document.body;let t=window.innerHeight,n=!1;const i=150;function r(){const c=window.innerHeight;t-c>i?n||(e.classList.add("keyboard-visible"),n=!0):n&&(e.classList.remove("keyboard-visible"),n=!1)}function s(c){c.target.matches("input, textarea")&&setTimeout(r,200)}function o(c){c.target.matches("input, textarea")&&setTimeout(r,200)}function a(){r()}oi(()=>{t=window.innerHeight,document.addEventListener("focusin",s),document.addEventListener("focusout",o),window.addEventListener("resize",a),document.activeElement&&(document.activeElement.matches("input")||document.activeElement.matches("textarea"))&&setTimeout(r,200)}),Ls(()=>{document.removeEventListener("focusin",s),document.removeEventListener("focusout",o),window.removeEventListener("resize",a),e.classList.remove("keyboard-visible"),n=!1})}function Jg(e){return e.filter(t=>t.checked).map(t=>{let n=`${t.name}`;if(t.canHaveExperts){const i=t.experts.filter(r=>r.value&&r.value.trim()!=="").map(r=>r.value);i.length>0&&(n=`${t.name}${i.join("/")}`)}return n}).join("")}function Xg(e,t,n){return e.filter(i=>i.group&&i.name).map(i=>{const s=(t[i.group]||[]).find(a=>a.value===i.name),o=s?s.label:i.name;return n.includes(i.name)&&i.note?`${o}${i.note}`:`${o}`}).join("")}function Qg(){je();async function e(){const{default:i}=await At(async()=>{const{default:p}=await import("./print-template-Q4EN_oRV.js");return{default:p}},[],import.meta.url),{default:r}=await At(async()=>{const{default:p}=await import("./print-styles-CXxiF29I.js");return{default:p}},[],import.meta.url),s=je(),o=s.character;let a=i;const c=(p,v="")=>{a=a.replace(new RegExp(`{{${p}}}`,"g"),v)};c("character-name",o.name||""),c("player-name",o.playerName||"");const l=ee.speciesLabelMap[o.species]||o.species||"";c("race",l===""?"":l),c("gender",o.gender||""),c("age",o.age!=null?String(o.age):""),c("height",o.height||""),c("weight",o.weight||""),c("origin",o.origin||""),c("occupation",o.occupation||""),c("faith",o.faith||""),c("current-scar-value",String(o.currentScar??"")),c("current-experience-value",s.currentExperiencePoints+"/"+s.maxExperiencePoints);for(let p=0;p<10;p++){const v=o.weaknesses[p]||{};c(`weakness-content-${p}`,v.text||""),c(`weakness-acquired-${p}`,v.acquired==="--"?"":v.acquired||"")}c("skills-content",Jg(s.skills)),c("abilities-content",Xg(s.specialSkills,ee.specialSkillData,ee.specialSkillsRequiringNote));const u=s.equipments,f=ee.equipmentGroupLabelMap[u.weapon1.group]||"";c("weapon1-type",f===""?"":f),c("weapon1-detail",u.weapon1.name||"");const d=ee.equipmentGroupLabelMap[u.weapon2.group]||"";c("weapon2-type",d===""?"":d),c("weapon2-detail",u.weapon2.name||"");const h=ee.equipmentGroupLabelMap[u.armor.group]||"";c("armor-type",h===""?"":h),c("armor-detail",u.armor.name||""),c("equipment-weight-value",String(s.currentWeight||"")),c("inventory-content",o.otherItems||""),c("background-content",o.memo||"");for(let p=0;p<7;p++){const v=s.histories[p]||{};c(`adventure-scenario-${p}`,v.sessionName||""),c(`adventure-memo-${p}`,v.memo||""),c(`adventure-experience-${p}`,v.gotExperiments!=null?String(v.gotExperiments):"")}return a=a.replace(/{{[^}]+}}/g,""),a=a.replace("</head>",`<style>${r}</style></head>`),a}async function t(){console.log("");try{const i=await e();if(!i){console.error("HTML");return}const r=document.createElement("iframe");r.style.position="fixed",r.style.width="0",r.style.height="0",r.style.border="0",r.style.visibility="hidden",r.onload=()=>{var s,o;try{(s=r.contentWindow)==null||s.focus(),(o=r.contentWindow)==null||o.print()}catch(a){console.error(":",a)}finally{setTimeout(()=>{document.body.contains(r)&&document.body.removeChild(r)},500)}},r.onerror=s=>{console.error("iframe:",s)},r.srcdoc=i,document.body.appendChild(r)}catch(i){console.error(":",i)}}async function n(){console.log("");try{const i=await e(),r=window.open();r?(r.document.open(),r.document.write(i),r.document.close(),console.log("")):(console.error(""),alert(""))}catch(i){console.error(":",i)}}return{printCharacterSheet:t,openPreviewPage:n}}const Ns=Ms("modal",{state:()=>({isVisible:!1,title:"",message:"",component:Oh(null),props:{},buttons:[],events:{},globalActions:null,resolvePromise:null,rejectPromise:null}),actions:{showModal(e){return new Promise((t,n)=>{this.isVisible=!0,this.title=e.title||"",this.message=e.message||"",this.component=e.component||null,this.props=e.props||{},this.buttons=e.buttons||[],this.events=e.on||{},this.globalActions=e.globalActions||null,this.resolvePromise=t,this.rejectPromise=n})},hideModal(){this.isVisible=!1,this.title="",this.message="",this.component=null,this.props={},this.buttons=[],this.events={},this.globalActions=null,this.resolvePromise=null,this.rejectPromise=null},resolveModal(e){this.resolvePromise&&this.resolvePromise(e),this.hideModal()}}});function Fs(){const e=Ns();function t(n){return e.showModal(n)}return{showModal:t}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function em(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function nr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Rr(e,...t){if(!em(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Rf(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");nr(e.outputLen),nr(e.blockLen)}function _s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function tm(e,t){Rr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ns(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Vt(e,t){return e<<32-t|e>>>t}function Of(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Da(e){return typeof e=="string"&&(e=Of(e)),Rr(e),e}function Jl(e){return typeof e=="string"&&(e=Of(e)),Rr(e),e}function nm(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(e,t)}class $f{}function im(e){const t=i=>e().update(Da(i)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class Pf extends $f{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Rf(t);const i=Da(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(i.length>r?t.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),pr(s)}update(t){return _s(this),this.iHash.update(t),this}digestInto(t){_s(this),Rr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:r,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mf=(e,t,n)=>new Pf(e,t).update(n).digest();Mf.create=(e,t)=>new Pf(e,t);function rm(e,t,n,i){Rf(e);const r=nm({dkLen:32,asyncTick:10},i),{c:s,dkLen:o,asyncTick:a}=r;if(nr(s),nr(o),nr(a),s<1)throw new Error("iterations (c) should be >= 1");const c=Jl(t),l=Jl(n),u=new Uint8Array(o),f=Mf.create(e,c),d=f._cloneInto().update(l);return{c:s,dkLen:o,asyncTick:a,DK:u,PRF:f,PRFSalt:d}}function sm(e,t,n,i,r){return e.destroy(),t.destroy(),i&&i.destroy(),pr(r),n}function om(e,t,n,i){const{c:r,dkLen:s,DK:o,PRF:a,PRFSalt:c}=rm(e,t,n,i);let l;const u=new Uint8Array(4),f=ns(u),d=new Uint8Array(a.outputLen);for(let h=1,p=0;p<s;h++,p+=a.outputLen){const v=o.subarray(p,p+a.outputLen);f.setInt32(0,h,!1),(l=c._cloneInto(l)).update(u).digestInto(d),v.set(d.subarray(0,v.length));for(let E=1;E<r;E++){a._cloneInto(l).update(d).digestInto(d);for(let x=0;x<v.length;x++)v[x]^=d[x]}}return sm(a,c,o,l,d)}function am(e,t,n,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,i);const r=BigInt(32),s=BigInt(4294967295),o=Number(n>>r&s),a=Number(n&s),c=i?4:0,l=i?0:4;e.setUint32(t+c,o,i),e.setUint32(t+l,a,i)}function lm(e,t,n){return e&t^~e&n}function cm(e,t,n){return e&t^e&n^t&n}class um extends $f{constructor(t,n,i,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=r,this.buffer=new Uint8Array(t),this.view=ns(this.buffer)}update(t){_s(this),t=Da(t),Rr(t);const{view:n,buffer:i,blockLen:r}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(r-this.pos,s-o);if(a===r){const c=ns(t);for(;r<=s-o;o+=r)this.process(c,o);continue}i.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){_s(this),tm(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:r,isLE:s}=this;let{pos:o}=this;n[o++]=128,pr(this.buffer.subarray(o)),this.padOffset>r-o&&(this.process(i,0),o=0);for(let f=o;f<r;f++)n[f]=0;am(i,r-8,BigInt(this.length*8),s),this.process(i,0);const a=ns(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:r,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=r,t.pos=a,r%n&&t.buffer.set(i),t}clone(){return this._cloneInto()}}const wn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fm=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yn=new Uint32Array(64);class dm extends um{constructor(t=32){super(64,t,8,!1),this.A=wn[0]|0,this.B=wn[1]|0,this.C=wn[2]|0,this.D=wn[3]|0,this.E=wn[4]|0,this.F=wn[5]|0,this.G=wn[6]|0,this.H=wn[7]|0}get(){const{A:t,B:n,C:i,D:r,E:s,F:o,G:a,H:c}=this;return[t,n,i,r,s,o,a,c]}set(t,n,i,r,s,o,a,c){this.A=t|0,this.B=n|0,this.C=i|0,this.D=r|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)yn[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=yn[f-15],h=yn[f-2],p=Vt(d,7)^Vt(d,18)^d>>>3,v=Vt(h,17)^Vt(h,19)^h>>>10;yn[f]=v+yn[f-7]+p+yn[f-16]|0}let{A:i,B:r,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Vt(a,6)^Vt(a,11)^Vt(a,25),h=u+d+lm(a,c,l)+fm[f]+yn[f]|0,v=(Vt(i,2)^Vt(i,13)^Vt(i,22))+cm(i,r,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=r,r=i,i=h+v|0}i=i+this.A|0,r=r+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(i,r,s,o,a,c,l,u)}roundClean(){pr(yn)}destroy(){this.set(0,0,0,0,0,0,0,0),pr(this.buffer)}}const hm=im(()=>new dm),pm=hm;class Wo extends Error{constructor(t){super(t),this.name="InvalidLinkError"}}class Nf extends Error{constructor(t){super(t),this.name="ExpiredLinkError"}}class Ff extends Error{constructor(t){super(t),this.name="PasswordRequiredError"}}class gm extends Error{constructor(t){super(t),this.name="DecryptionError"}}class mm extends Error{constructor(t="Payload too large for simple mode. Please use Cloud Mode instead."){super(t),this.name="PayloadTooLargeError"}}const Nn=globalThis.crypto;function We(e){let t="";const n=new Uint8Array(e);for(const i of n)t+=String.fromCharCode(i);return btoa(t)}function Ke(e){const t=atob(e),n=t.length,i=new Uint8Array(n);for(let r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer}function Hf(e=16){return Nn.getRandomValues(new Uint8Array(e))}async function zf(){return Nn.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])}async function Hs(e,t){if(!e||!t)throw new Error("Password and salt are required for KEK generation.");const n=om(pm,e,t,{c:1e5,dkLen:32});return Nn.subtle.importKey("raw",n,{name:"AES-GCM"},!0,["encrypt","decrypt"])}async function Uf(e){const t=await Nn.subtle.exportKey("raw",e);return We(t)}async function Bf(e){const t=Ke(e);return Nn.subtle.importKey("raw",t,{name:"AES-GCM"},!0,["encrypt","decrypt"])}async function Gn(e,t,n){const i=Nn.getRandomValues(new Uint8Array(12)),r={name:"AES-GCM",iv:i};return n&&(r.additionalData=n),{ciphertext:await Nn.subtle.encrypt(r,e,t),iv:i}}async function jn(e,{ciphertext:t,iv:n,additionalData:i}){try{const r={name:"AES-GCM",iv:n};return i&&(r.additionalData=i),await Nn.subtle.decrypt(r,e,t)}catch{throw new gm("Failed to decrypt data. The key may be incorrect or the data may be corrupted.")}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const _m=4,Xl=0,Ql=1,bm=2;function Di(e){let t=e.length;for(;--t>=0;)e[t]=0}const vm=0,Vf=1,wm=2,ym=3,xm=258,La=29,Or=256,gr=Or+1+La,ki=30,Ra=19,Gf=2*gr+1,qn=15,po=16,km=7,Oa=256,jf=16,qf=17,Zf=18,Ko=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),is=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Sm=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Em=512,ln=new Array((gr+2)*2);Di(ln);const ir=new Array(ki*2);Di(ir);const mr=new Array(Em);Di(mr);const _r=new Array(xm-ym+1);Di(_r);const $a=new Array(La);Di($a);const bs=new Array(ki);Di(bs);function go(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let Kf,Yf,Jf;function mo(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Xf=e=>e<256?mr[e]:mr[256+(e>>>7)],br=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},gt=(e,t,n)=>{e.bi_valid>po-n?(e.bi_buf|=t<<e.bi_valid&65535,br(e,e.bi_buf),e.bi_buf=t>>po-e.bi_valid,e.bi_valid+=n-po):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Kt=(e,t,n)=>{gt(e,n[t*2],n[t*2+1])},Qf=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},Tm=e=>{e.bi_valid===16?(br(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Am=(e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let l,u,f,d,h,p,v=0;for(d=0;d<=qn;d++)e.bl_count[d]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Gf;l++)u=e.heap[l],d=n[n[u*2+1]*2+1]+1,d>c&&(d=c,v++),n[u*2+1]=d,!(u>i)&&(e.bl_count[d]++,h=0,u>=a&&(h=o[u-a]),p=n[u*2],e.opt_len+=p*(d+h),s&&(e.static_len+=p*(r[u*2+1]+h)));if(v!==0){do{for(d=c-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[c]--,v-=2}while(v>0);for(d=c;d!==0;d--)for(u=e.bl_count[d];u!==0;)f=e.heap[--l],!(f>i)&&(n[f*2+1]!==d&&(e.opt_len+=(d-n[f*2+1])*n[f*2],n[f*2+1]=d),u--)}},ed=(e,t,n)=>{const i=new Array(qn+1);let r=0,s,o;for(s=1;s<=qn;s++)r=r+n[s-1]<<1,i[s]=r;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=Qf(i[a]++,a))}},Im=()=>{let e,t,n,i,r;const s=new Array(qn+1);for(n=0,i=0;i<La-1;i++)for($a[i]=n,e=0;e<1<<Ko[i];e++)_r[n++]=i;for(_r[n-1]=i,r=0,i=0;i<16;i++)for(bs[i]=r,e=0;e<1<<is[i];e++)mr[r++]=i;for(r>>=7;i<ki;i++)for(bs[i]=r<<7,e=0;e<1<<is[i]-7;e++)mr[256+r++]=i;for(t=0;t<=qn;t++)s[t]=0;for(e=0;e<=143;)ln[e*2+1]=8,e++,s[8]++;for(;e<=255;)ln[e*2+1]=9,e++,s[9]++;for(;e<=279;)ln[e*2+1]=7,e++,s[7]++;for(;e<=287;)ln[e*2+1]=8,e++,s[8]++;for(ed(ln,gr+1,s),e=0;e<ki;e++)ir[e*2+1]=5,ir[e*2]=Qf(e,5);Kf=new go(ln,Ko,Or+1,gr,qn),Yf=new go(ir,is,0,ki,qn),Jf=new go(new Array(0),Sm,0,Ra,km)},td=e=>{let t;for(t=0;t<gr;t++)e.dyn_ltree[t*2]=0;for(t=0;t<ki;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Ra;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Oa*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},nd=e=>{e.bi_valid>8?br(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ec=(e,t,n,i)=>{const r=t*2,s=n*2;return e[r]<e[s]||e[r]===e[s]&&i[t]<=i[n]},_o=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&ec(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!ec(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},tc=(e,t,n)=>{let i,r,s=0,o,a;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+s++]&255,i+=(e.pending_buf[e.sym_buf+s++]&255)<<8,r=e.pending_buf[e.sym_buf+s++],i===0?Kt(e,r,t):(o=_r[r],Kt(e,o+Or+1,t),a=Ko[o],a!==0&&(r-=$a[o],gt(e,r,a)),i--,o=Xf(i),Kt(e,o,n),a=is[o],a!==0&&(i-=bs[o],gt(e,i,a)));while(s<e.sym_next);Kt(e,Oa,t)},Yo=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,c=-1,l;for(e.heap_len=0,e.heap_max=Gf,o=0;o<s;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[l*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)_o(e,n,o);l=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_o(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[l*2]=n[o*2]+n[a*2],e.depth[l]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=l,e.heap[1]=l++,_o(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Am(e,t),ed(n,c,e.bl_count)},nc=(e,t,n)=>{let i,r=-1,s,o=t[0*2+1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),t[(n+1)*2+1]=65535,i=0;i<=n;i++)s=o,o=t[(i+1)*2+1],!(++a<c&&s===o)&&(a<l?e.bl_tree[s*2]+=a:s!==0?(s!==r&&e.bl_tree[s*2]++,e.bl_tree[jf*2]++):a<=10?e.bl_tree[qf*2]++:e.bl_tree[Zf*2]++,a=0,r=s,o===0?(c=138,l=3):s===o?(c=6,l=3):(c=7,l=4))},ic=(e,t,n)=>{let i,r=-1,s,o=t[0*2+1],a=0,c=7,l=4;for(o===0&&(c=138,l=3),i=0;i<=n;i++)if(s=o,o=t[(i+1)*2+1],!(++a<c&&s===o)){if(a<l)do Kt(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==r&&(Kt(e,s,e.bl_tree),a--),Kt(e,jf,e.bl_tree),gt(e,a-3,2)):a<=10?(Kt(e,qf,e.bl_tree),gt(e,a-3,3)):(Kt(e,Zf,e.bl_tree),gt(e,a-11,7));a=0,r=s,o===0?(c=138,l=3):s===o?(c=6,l=3):(c=7,l=4)}},Cm=e=>{let t;for(nc(e,e.dyn_ltree,e.l_desc.max_code),nc(e,e.dyn_dtree,e.d_desc.max_code),Yo(e,e.bl_desc),t=Ra-1;t>=3&&e.bl_tree[Wf[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Dm=(e,t,n,i)=>{let r;for(gt(e,t-257,5),gt(e,n-1,5),gt(e,i-4,4),r=0;r<i;r++)gt(e,e.bl_tree[Wf[r]*2+1],3);ic(e,e.dyn_ltree,t-1),ic(e,e.dyn_dtree,n-1)},Lm=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Xl;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ql;for(n=32;n<Or;n++)if(e.dyn_ltree[n*2]!==0)return Ql;return Xl};let rc=!1;const Rm=e=>{rc||(Im(),rc=!0),e.l_desc=new mo(e.dyn_ltree,Kf),e.d_desc=new mo(e.dyn_dtree,Yf),e.bl_desc=new mo(e.bl_tree,Jf),e.bi_buf=0,e.bi_valid=0,td(e)},id=(e,t,n,i)=>{gt(e,(vm<<1)+(i?1:0),3),nd(e),br(e,n),br(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Om=e=>{gt(e,Vf<<1,3),Kt(e,Oa,ln),Tm(e)},$m=(e,t,n,i)=>{let r,s,o=0;e.level>0?(e.strm.data_type===bm&&(e.strm.data_type=Lm(e)),Yo(e,e.l_desc),Yo(e,e.d_desc),o=Cm(e),r=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=r&&(r=s)):r=s=n+5,n+4<=r&&t!==-1?id(e,t,n,i):e.strategy===_m||s===r?(gt(e,(Vf<<1)+(i?1:0),3),tc(e,ln,ir)):(gt(e,(wm<<1)+(i?1:0),3),Dm(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),tc(e,e.dyn_ltree,e.dyn_dtree)),td(e),i&&nd(e)},Pm=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(_r[n]+Or+1)*2]++,e.dyn_dtree[Xf(t)*2]++),e.sym_next===e.sym_end);var Mm=Rm,Nm=id,Fm=$m,Hm=Pm,zm=Om,Um={_tr_init:Mm,_tr_stored_block:Nm,_tr_flush_block:Fm,_tr_tally:Hm,_tr_align:zm};const Bm=(e,t,n,i)=>{let r=e&65535|0,s=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do r=r+t[i++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0};var vr=Bm;const Vm=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Gm=new Uint32Array(Vm()),jm=(e,t,n,i)=>{const r=Gm,s=i+n;e^=-1;for(let o=i;o<s;o++)e=e>>>8^r[(e^t[o])&255];return e^-1};var Ge=jm,ti={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zs={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:qm,_tr_stored_block:Jo,_tr_flush_block:Zm,_tr_tally:Ln,_tr_align:Wm}=Um,{Z_NO_FLUSH:Rn,Z_PARTIAL_FLUSH:Km,Z_FULL_FLUSH:Ym,Z_FINISH:Tt,Z_BLOCK:sc,Z_OK:qe,Z_STREAM_END:oc,Z_STREAM_ERROR:Qt,Z_DATA_ERROR:Jm,Z_BUF_ERROR:bo,Z_DEFAULT_COMPRESSION:Xm,Z_FILTERED:Qm,Z_HUFFMAN_ONLY:Vr,Z_RLE:e_,Z_FIXED:t_,Z_DEFAULT_STRATEGY:n_,Z_UNKNOWN:i_,Z_DEFLATED:Us}=zs,r_=9,s_=15,o_=8,a_=29,l_=256,Xo=l_+1+a_,c_=30,u_=19,f_=2*Xo+1,d_=15,ae=3,In=258,en=In+ae+1,h_=32,Ai=42,Pa=57,Qo=69,ea=73,ta=91,na=103,Zn=113,Zi=666,lt=1,Li=2,ni=3,Ri=4,p_=3,Wn=(e,t)=>(e.msg=ti[t],t),ac=e=>e*2-(e>4?9:0),An=e=>{let t=e.length;for(;--t>=0;)e[t]=0},g_=e=>{let t,n,i,r=e.w_size;t=e.hash_size,i=t;do n=e.head[--i],e.head[i]=n>=r?n-r:0;while(--t);t=r,i=t;do n=e.prev[--i],e.prev[i]=n>=r?n-r:0;while(--t)};let m_=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,On=m_;const wt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},xt=(e,t)=>{Zm(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,wt(e.strm)},pe=(e,t)=>{e.pending_buf[e.pending++]=t},Fi=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},ia=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),e.state.wrap===1?e.adler=vr(e.adler,t,r,n):e.state.wrap===2&&(e.adler=Ge(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},rd=(e,t)=>{let n=e.max_chain_length,i=e.strstart,r,s,o=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-en?e.strstart-(e.w_size-en):0,l=e.window,u=e.w_mask,f=e.prev,d=e.strstart+In;let h=l[i+o-1],p=l[i+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(r=t,!(l[r+o]!==p||l[r+o-1]!==h||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<d);if(s=In-(d-i),i=d-In,s>o){if(e.match_start=t,o=s,s>=a)break;h=l[i+o-1],p=l[i+o]}}while((t=f[t&u])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},Ii=e=>{const t=e.w_size;let n,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-en)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),g_(e),i+=t),e.strm.avail_in===0)break;if(n=ia(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=ae)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=On(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=On(e,e.ins_h,e.window[r+ae-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<ae)););}while(e.lookahead<en&&e.strm.avail_in!==0)},sd=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,s,o=0,a=e.strm.avail_in;do{if(i=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>s&&(i=s),i<n&&(i===0&&t!==Tt||t===Rn||i!==r+e.strm.avail_in)))break;o=t===Tt&&i===r+e.strm.avail_in?1:0,Jo(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,wt(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(ia(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Ri:t!==Rn&&t!==Tt&&e.strm.avail_in===0&&e.strstart===e.block_start?Li:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(ia(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,r=e.strstart-e.block_start,(r>=n||(r||t===Tt)&&t!==Rn&&e.strm.avail_in===0&&r<=s)&&(i=r>s?s:r,o=t===Tt&&e.strm.avail_in===0&&i===r?1:0,Jo(e,e.block_start,i,o),e.block_start+=i,wt(e.strm)),o?ni:lt)},vo=(e,t)=>{let n,i;for(;;){if(e.lookahead<en){if(Ii(e),e.lookahead<en&&t===Rn)return lt;if(e.lookahead===0)break}if(n=0,e.lookahead>=ae&&(e.ins_h=On(e,e.ins_h,e.window[e.strstart+ae-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-en&&(e.match_length=rd(e,n)),e.match_length>=ae)if(i=Ln(e,e.strstart-e.match_start,e.match_length-ae),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ae){e.match_length--;do e.strstart++,e.ins_h=On(e,e.ins_h,e.window[e.strstart+ae-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=On(e,e.ins_h,e.window[e.strstart+1]);else i=Ln(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(xt(e,!1),e.strm.avail_out===0))return lt}return e.insert=e.strstart<ae-1?e.strstart:ae-1,t===Tt?(xt(e,!0),e.strm.avail_out===0?ni:Ri):e.sym_next&&(xt(e,!1),e.strm.avail_out===0)?lt:Li},mi=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<en){if(Ii(e),e.lookahead<en&&t===Rn)return lt;if(e.lookahead===0)break}if(n=0,e.lookahead>=ae&&(e.ins_h=On(e,e.ins_h,e.window[e.strstart+ae-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ae-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-en&&(e.match_length=rd(e,n),e.match_length<=5&&(e.strategy===Qm||e.match_length===ae&&e.strstart-e.match_start>4096)&&(e.match_length=ae-1)),e.prev_length>=ae&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ae,i=Ln(e,e.strstart-1-e.prev_match,e.prev_length-ae),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=On(e,e.ins_h,e.window[e.strstart+ae-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=ae-1,e.strstart++,i&&(xt(e,!1),e.strm.avail_out===0))return lt}else if(e.match_available){if(i=Ln(e,0,e.window[e.strstart-1]),i&&xt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return lt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Ln(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ae-1?e.strstart:ae-1,t===Tt?(xt(e,!0),e.strm.avail_out===0?ni:Ri):e.sym_next&&(xt(e,!1),e.strm.avail_out===0)?lt:Li},__=(e,t)=>{let n,i,r,s;const o=e.window;for(;;){if(e.lookahead<=In){if(Ii(e),e.lookahead<=In&&t===Rn)return lt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=ae&&e.strstart>0&&(r=e.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){s=e.strstart+In;do;while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);e.match_length=In-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ae?(n=Ln(e,1,e.match_length-ae),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ln(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(xt(e,!1),e.strm.avail_out===0))return lt}return e.insert=0,t===Tt?(xt(e,!0),e.strm.avail_out===0?ni:Ri):e.sym_next&&(xt(e,!1),e.strm.avail_out===0)?lt:Li},b_=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Ii(e),e.lookahead===0)){if(t===Rn)return lt;break}if(e.match_length=0,n=Ln(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(xt(e,!1),e.strm.avail_out===0))return lt}return e.insert=0,t===Tt?(xt(e,!0),e.strm.avail_out===0?ni:Ri):e.sym_next&&(xt(e,!1),e.strm.avail_out===0)?lt:Li};function Gt(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const Wi=[new Gt(0,0,0,0,sd),new Gt(4,4,8,4,vo),new Gt(4,5,16,8,vo),new Gt(4,6,32,32,vo),new Gt(4,4,16,16,mi),new Gt(8,16,32,32,mi),new Gt(8,16,128,128,mi),new Gt(8,32,128,256,mi),new Gt(32,128,258,1024,mi),new Gt(32,258,258,4096,mi)],v_=e=>{e.window_size=2*e.w_size,An(e.head),e.max_lazy_match=Wi[e.level].max_lazy,e.good_match=Wi[e.level].good_length,e.nice_match=Wi[e.level].nice_length,e.max_chain_length=Wi[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ae-1,e.match_available=0,e.ins_h=0};function w_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Us,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(f_*2),this.dyn_dtree=new Uint16Array((2*c_+1)*2),this.bl_tree=new Uint16Array((2*u_+1)*2),An(this.dyn_ltree),An(this.dyn_dtree),An(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(d_+1),this.heap=new Uint16Array(2*Xo+1),An(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Xo+1),An(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $r=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ai&&t.status!==Pa&&t.status!==Qo&&t.status!==ea&&t.status!==ta&&t.status!==na&&t.status!==Zn&&t.status!==Zi?1:0},od=e=>{if($r(e))return Wn(e,Qt);e.total_in=e.total_out=0,e.data_type=i_;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Pa:t.wrap?Ai:Zn,e.adler=t.wrap===2?0:1,t.last_flush=-2,qm(t),qe},ad=e=>{const t=od(e);return t===qe&&v_(e.state),t},y_=(e,t)=>$r(e)||e.state.wrap!==2?Qt:(e.state.gzhead=t,qe),ld=(e,t,n,i,r,s)=>{if(!e)return Qt;let o=1;if(t===Xm&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>r_||n!==Us||i<8||i>15||t<0||t>9||s<0||s>t_||i===8&&o!==1)return Wn(e,Qt);i===8&&(i=9);const a=new w_;return e.state=a,a.strm=e,a.status=Ai,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ae-1)/ae),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=n,ad(e)},x_=(e,t)=>ld(e,t,Us,s_,o_,n_),k_=(e,t)=>{if($r(e)||t>sc||t<0)return e?Wn(e,Qt):Qt;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Zi&&t!==Tt)return Wn(e,e.avail_out===0?bo:Qt);const i=n.last_flush;if(n.last_flush=t,n.pending!==0){if(wt(e),e.avail_out===0)return n.last_flush=-1,qe}else if(e.avail_in===0&&ac(t)<=ac(i)&&t!==Tt)return Wn(e,bo);if(n.status===Zi&&e.avail_in!==0)return Wn(e,bo);if(n.status===Ai&&n.wrap===0&&(n.status=Zn),n.status===Ai){let r=Us+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=Vr||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,r|=s<<6,n.strstart!==0&&(r|=h_),r+=31-r%31,Fi(n,r),n.strstart!==0&&(Fi(n,e.adler>>>16),Fi(n,e.adler&65535)),e.adler=1,n.status=Zn,wt(e),n.pending!==0)return n.last_flush=-1,qe}if(n.status===Pa){if(e.adler=0,pe(n,31),pe(n,139),pe(n,8),n.gzhead)pe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),pe(n,n.gzhead.time&255),pe(n,n.gzhead.time>>8&255),pe(n,n.gzhead.time>>16&255),pe(n,n.gzhead.time>>24&255),pe(n,n.level===9?2:n.strategy>=Vr||n.level<2?4:0),pe(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(pe(n,n.gzhead.extra.length&255),pe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ge(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Qo;else if(pe(n,0),pe(n,0),pe(n,0),pe(n,0),pe(n,0),pe(n,n.level===9?2:n.strategy>=Vr||n.level<2?4:0),pe(n,p_),n.status=Zn,wt(e),n.pending!==0)return n.last_flush=-1,qe}if(n.status===Qo){if(n.gzhead.extra){let r=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(e.adler=Ge(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=a,wt(e),n.pending!==0)return n.last_flush=-1,qe;r=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>r&&(e.adler=Ge(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=ea}if(n.status===ea){if(n.gzhead.name){let r=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Ge(e.adler,n.pending_buf,n.pending-r,r)),wt(e),n.pending!==0)return n.last_flush=-1,qe;r=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,pe(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>r&&(e.adler=Ge(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=ta}if(n.status===ta){if(n.gzhead.comment){let r=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Ge(e.adler,n.pending_buf,n.pending-r,r)),wt(e),n.pending!==0)return n.last_flush=-1,qe;r=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,pe(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>r&&(e.adler=Ge(e.adler,n.pending_buf,n.pending-r,r))}n.status=na}if(n.status===na){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(wt(e),n.pending!==0))return n.last_flush=-1,qe;pe(n,e.adler&255),pe(n,e.adler>>8&255),e.adler=0}if(n.status=Zn,wt(e),n.pending!==0)return n.last_flush=-1,qe}if(e.avail_in!==0||n.lookahead!==0||t!==Rn&&n.status!==Zi){let r=n.level===0?sd(n,t):n.strategy===Vr?b_(n,t):n.strategy===e_?__(n,t):Wi[n.level].func(n,t);if((r===ni||r===Ri)&&(n.status=Zi),r===lt||r===ni)return e.avail_out===0&&(n.last_flush=-1),qe;if(r===Li&&(t===Km?Wm(n):t!==sc&&(Jo(n,0,0,!1),t===Ym&&(An(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),wt(e),e.avail_out===0))return n.last_flush=-1,qe}return t!==Tt?qe:n.wrap<=0?oc:(n.wrap===2?(pe(n,e.adler&255),pe(n,e.adler>>8&255),pe(n,e.adler>>16&255),pe(n,e.adler>>24&255),pe(n,e.total_in&255),pe(n,e.total_in>>8&255),pe(n,e.total_in>>16&255),pe(n,e.total_in>>24&255)):(Fi(n,e.adler>>>16),Fi(n,e.adler&65535)),wt(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?qe:oc)},S_=e=>{if($r(e))return Qt;const t=e.state.status;return e.state=null,t===Zn?Wn(e,Jm):qe},E_=(e,t)=>{let n=t.length;if($r(e))return Qt;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==Ai||i.lookahead)return Qt;if(r===1&&(e.adler=vr(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){r===0&&(An(i.head),i.strstart=0,i.block_start=0,i.insert=0);let c=new Uint8Array(i.w_size);c.set(t.subarray(n-i.w_size,n),0),t=c,n=i.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ii(i);i.lookahead>=ae;){let c=i.strstart,l=i.lookahead-(ae-1);do i.ins_h=On(i,i.ins_h,i.window[c+ae-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++;while(--l);i.strstart=c,i.lookahead=ae-1,Ii(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ae-1,i.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,i.wrap=r,qe};var T_=x_,A_=ld,I_=ad,C_=od,D_=y_,L_=k_,R_=S_,O_=E_,$_="pako deflate (from Nodeca project)",rr={deflateInit:T_,deflateInit2:A_,deflateReset:I_,deflateResetKeep:C_,deflateSetHeader:D_,deflate:L_,deflateEnd:R_,deflateSetDictionary:O_,deflateInfo:$_};const P_=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var M_=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)P_(n,i)&&(e[i]=n[i])}}return e},N_=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,s=e.length;i<s;i++){let o=e[i];n.set(o,r),r+=o.length}return n},Bs={assign:M_,flattenChunks:N_};let cd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cd=!1}const wr=new Uint8Array(256);for(let e=0;e<256;e++)wr[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;wr[254]=wr[254]=1;var F_=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,s,o=e.length,a=0;for(r=0;r<o;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<o&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const H_=(e,t)=>{if(t<65534&&e.subarray&&cd)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var z_=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let o=e[i++];if(o<128){s[r++]=o;continue}let a=wr[o];if(a>4){s[r++]=65533,i+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&i<n;)o=o<<6|e[i++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return H_(s,r)},U_=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+wr[e[n]]>t?n:t},yr={string2buf:F_,buf2string:z_,utf8border:U_};function B_(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ud=B_;const fd=Object.prototype.toString,{Z_NO_FLUSH:V_,Z_SYNC_FLUSH:G_,Z_FULL_FLUSH:j_,Z_FINISH:q_,Z_OK:vs,Z_STREAM_END:Z_,Z_DEFAULT_COMPRESSION:W_,Z_DEFAULT_STRATEGY:K_,Z_DEFLATED:Y_}=zs;function Vs(e){this.options=Bs.assign({level:W_,method:Y_,chunkSize:16384,windowBits:15,memLevel:8,strategy:K_},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ud,this.strm.avail_out=0;let n=rr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==vs)throw new Error(ti[n]);if(t.header&&rr.deflateSetHeader(this.strm,t.header),t.dictionary){let i;if(typeof t.dictionary=="string"?i=yr.string2buf(t.dictionary):fd.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,n=rr.deflateSetDictionary(this.strm,i),n!==vs)throw new Error(ti[n]);this._dict_set=!0}}Vs.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?q_:V_,typeof e=="string"?n.input=yr.string2buf(e):fd.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(s===G_||s===j_)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(r=rr.deflate(n,s),r===Z_)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=rr.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===vs;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Vs.prototype.onData=function(e){this.chunks.push(e)};Vs.prototype.onEnd=function(e){e===vs&&(this.result=Bs.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function J_(e,t){const n=new Vs(t);if(n.push(e,!0),n.err)throw n.msg||ti[n.err];return n.result}function X_(e,t){return t=t||{},t.gzip=!0,J_(e,t)}var Q_=X_,eb={gzip:Q_};const Gr=16209,tb=16191;var nb=function(t,n){let i,r,s,o,a,c,l,u,f,d,h,p,v,E,x,I,k,b,D,j,L,F,T,O;const P=t.state;i=t.next_in,T=t.input,r=i+(t.avail_in-5),s=t.next_out,O=t.output,o=s-(n-t.avail_out),a=s+(t.avail_out-257),c=P.dmax,l=P.wsize,u=P.whave,f=P.wnext,d=P.window,h=P.hold,p=P.bits,v=P.lencode,E=P.distcode,x=(1<<P.lenbits)-1,I=(1<<P.distbits)-1;e:do{p<15&&(h+=T[i++]<<p,p+=8,h+=T[i++]<<p,p+=8),k=v[h&x];t:for(;;){if(b=k>>>24,h>>>=b,p-=b,b=k>>>16&255,b===0)O[s++]=k&65535;else if(b&16){D=k&65535,b&=15,b&&(p<b&&(h+=T[i++]<<p,p+=8),D+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=T[i++]<<p,p+=8,h+=T[i++]<<p,p+=8),k=E[h&I];n:for(;;){if(b=k>>>24,h>>>=b,p-=b,b=k>>>16&255,b&16){if(j=k&65535,b&=15,p<b&&(h+=T[i++]<<p,p+=8,p<b&&(h+=T[i++]<<p,p+=8)),j+=h&(1<<b)-1,j>c){t.msg="invalid distance too far back",P.mode=Gr;break e}if(h>>>=b,p-=b,b=s-o,j>b){if(b=j-b,b>u&&P.sane){t.msg="invalid distance too far back",P.mode=Gr;break e}if(L=0,F=d,f===0){if(L+=l-b,b<D){D-=b;do O[s++]=d[L++];while(--b);L=s-j,F=O}}else if(f<b){if(L+=l+f-b,b-=f,b<D){D-=b;do O[s++]=d[L++];while(--b);if(L=0,f<D){b=f,D-=b;do O[s++]=d[L++];while(--b);L=s-j,F=O}}}else if(L+=f-b,b<D){D-=b;do O[s++]=d[L++];while(--b);L=s-j,F=O}for(;D>2;)O[s++]=F[L++],O[s++]=F[L++],O[s++]=F[L++],D-=3;D&&(O[s++]=F[L++],D>1&&(O[s++]=F[L++]))}else{L=s-j;do O[s++]=O[L++],O[s++]=O[L++],O[s++]=O[L++],D-=3;while(D>2);D&&(O[s++]=O[L++],D>1&&(O[s++]=O[L++]))}}else if((b&64)===0){k=E[(k&65535)+(h&(1<<b)-1)];continue n}else{t.msg="invalid distance code",P.mode=Gr;break e}break}}else if((b&64)===0){k=v[(k&65535)+(h&(1<<b)-1)];continue t}else if(b&32){P.mode=tb;break e}else{t.msg="invalid literal/length code",P.mode=Gr;break e}break}}while(i<r&&s<a);D=p>>3,i-=D,p-=D<<3,h&=(1<<p)-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=s<a?257+(a-s):257-(s-a),P.hold=h,P.bits=p};const _i=15,lc=852,cc=592,uc=0,wo=1,fc=2,ib=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rb=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),sb=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ob=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ab=(e,t,n,i,r,s,o,a)=>{const c=a.bits;let l=0,u=0,f=0,d=0,h=0,p=0,v=0,E=0,x=0,I=0,k,b,D,j,L,F=null,T;const O=new Uint16Array(_i+1),P=new Uint16Array(_i+1);let N=null,ie,oe,Oe;for(l=0;l<=_i;l++)O[l]=0;for(u=0;u<i;u++)O[t[n+u]]++;for(h=c,d=_i;d>=1&&O[d]===0;d--);if(h>d&&(h=d),d===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<d&&O[f]===0;f++);for(h<f&&(h=f),E=1,l=1;l<=_i;l++)if(E<<=1,E-=O[l],E<0)return-1;if(E>0&&(e===uc||d!==1))return-1;for(P[1]=0,l=1;l<_i;l++)P[l+1]=P[l]+O[l];for(u=0;u<i;u++)t[n+u]!==0&&(o[P[t[n+u]]++]=u);if(e===uc?(F=N=o,T=20):e===wo?(F=ib,N=rb,T=257):(F=sb,N=ob,T=0),I=0,u=0,l=f,L=s,p=h,v=0,D=-1,x=1<<h,j=x-1,e===wo&&x>lc||e===fc&&x>cc)return 1;for(;;){ie=l-v,o[u]+1<T?(oe=0,Oe=o[u]):o[u]>=T?(oe=N[o[u]-T],Oe=F[o[u]-T]):(oe=96,Oe=0),k=1<<l-v,b=1<<p,f=b;do b-=k,r[L+(I>>v)+b]=ie<<24|oe<<16|Oe|0;while(b!==0);for(k=1<<l-1;I&k;)k>>=1;if(k!==0?(I&=k-1,I+=k):I=0,u++,--O[l]===0){if(l===d)break;l=t[n+o[u]]}if(l>h&&(I&j)!==D){for(v===0&&(v=h),L+=f,p=l-v,E=1<<p;p+v<d&&(E-=O[p+v],!(E<=0));)p++,E<<=1;if(x+=1<<p,e===wo&&x>lc||e===fc&&x>cc)return 1;D=I&j,r[D]=h<<24|p<<16|L-s|0}}return I!==0&&(r[L+I]=l-v<<24|64<<16|0),a.bits=h,0};var sr=ab;const lb=0,dd=1,hd=2,{Z_FINISH:dc,Z_BLOCK:cb,Z_TREES:jr,Z_OK:ii,Z_STREAM_END:ub,Z_NEED_DICT:fb,Z_STREAM_ERROR:Lt,Z_DATA_ERROR:pd,Z_MEM_ERROR:gd,Z_BUF_ERROR:db,Z_DEFLATED:hc}=zs,Gs=16180,pc=16181,gc=16182,mc=16183,_c=16184,bc=16185,vc=16186,wc=16187,yc=16188,xc=16189,ws=16190,sn=16191,yo=16192,kc=16193,xo=16194,Sc=16195,Ec=16196,Tc=16197,Ac=16198,qr=16199,Zr=16200,Ic=16201,Cc=16202,Dc=16203,Lc=16204,Rc=16205,ko=16206,Oc=16207,$c=16208,Te=16209,md=16210,_d=16211,hb=852,pb=592,gb=15,mb=gb,Pc=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function _b(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const li=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Gs||t.mode>_d?1:0},bd=e=>{if(li(e))return Lt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Gs,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(hb),t.distcode=t.distdyn=new Int32Array(pb),t.sane=1,t.back=-1,ii},vd=e=>{if(li(e))return Lt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bd(e)},wd=(e,t)=>{let n;if(li(e))return Lt;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Lt:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,vd(e))},yd=(e,t)=>{if(!e)return Lt;const n=new _b;e.state=n,n.strm=e,n.window=null,n.mode=Gs;const i=wd(e,t);return i!==ii&&(e.state=null),i},bb=e=>yd(e,mb);let Mc=!0,So,Eo;const vb=e=>{if(Mc){So=new Int32Array(512),Eo=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(sr(dd,e.lens,0,288,So,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;sr(hd,e.lens,0,32,Eo,0,e.work,{bits:5}),Mc=!1}e.lencode=So,e.lenbits=9,e.distcode=Eo,e.distbits=5},xd=(e,t,n,i)=>{let r;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(t.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},wb=(e,t)=>{let n,i,r,s,o,a,c,l,u,f,d,h,p,v,E=0,x,I,k,b,D,j,L,F;const T=new Uint8Array(4);let O,P;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(li(e)||!e.output||!e.input&&e.avail_in!==0)return Lt;n=e.state,n.mode===sn&&(n.mode=yo),o=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,i=e.input,a=e.avail_in,l=n.hold,u=n.bits,f=a,d=c,F=ii;e:for(;;)switch(n.mode){case Gs:if(n.wrap===0){n.mode=yo;break}for(;u<16;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(n.wrap&2&&l===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=l&255,T[1]=l>>>8&255,n.check=Ge(n.check,T,2,0),l=0,u=0,n.mode=pc;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=Te;break}if((l&15)!==hc){e.msg="unknown compression method",n.mode=Te;break}if(l>>>=4,u-=4,L=(l&15)+8,n.wbits===0&&(n.wbits=L),L>15||L>n.wbits){e.msg="invalid window size",n.mode=Te;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=l&512?xc:sn,l=0,u=0;break;case pc:for(;u<16;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==hc){e.msg="unknown compression method",n.mode=Te;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Te;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,n.check=Ge(n.check,T,2,0)),l=0,u=0,n.mode=gc;case gc:for(;u<32;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,T[2]=l>>>16&255,T[3]=l>>>24&255,n.check=Ge(n.check,T,4,0)),l=0,u=0,n.mode=mc;case mc:for(;u<16;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,n.check=Ge(n.check,T,2,0)),l=0,u=0,n.mode=_c;case _c:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&n.wrap&4&&(T[0]=l&255,T[1]=l>>>8&255,n.check=Ge(n.check,T,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=bc;case bc:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+h),L)),n.flags&512&&n.wrap&4&&(n.check=Ge(n.check,i,h,s)),a-=h,s+=h,n.length-=h),n.length))break e;n.length=0,n.mode=vc;case vc:if(n.flags&2048){if(a===0)break e;h=0;do L=i[s+h++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L));while(L&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ge(n.check,i,h,s)),a-=h,s+=h,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=wc;case wc:if(n.flags&4096){if(a===0)break e;h=0;do L=i[s+h++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L));while(L&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Ge(n.check,i,h,s)),a-=h,s+=h,L)break e}else n.head&&(n.head.comment=null);n.mode=yc;case yc:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(n.wrap&4&&l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Te;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=sn;break;case xc:for(;u<32;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}e.adler=n.check=Pc(l),l=0,u=0,n.mode=ws;case ws:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,fb;e.adler=n.check=1,n.mode=sn;case sn:if(t===cb||t===jr)break e;case yo:if(n.last){l>>>=u&7,u-=u&7,n.mode=ko;break}for(;u<3;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=kc;break;case 1:if(vb(n),n.mode=qr,t===jr){l>>>=2,u-=2;break e}break;case 2:n.mode=Ec;break;case 3:e.msg="invalid block type",n.mode=Te}l>>>=2,u-=2;break;case kc:for(l>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Te;break}if(n.length=l&65535,l=0,u=0,n.mode=xo,t===jr)break e;case xo:n.mode=Sc;case Sc:if(h=n.length,h){if(h>a&&(h=a),h>c&&(h=c),h===0)break e;r.set(i.subarray(s,s+h),o),a-=h,s+=h,c-=h,o+=h,n.length-=h;break}n.mode=sn;break;case Ec:for(;u<14;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Te;break}n.have=0,n.mode=Tc;case Tc:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}n.lens[N[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},F=sr(lb,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,F){e.msg="invalid code lengths set",n.mode=Te;break}n.have=0,n.mode=Ac;case Ac:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[l&(1<<n.lenbits)-1],x=E>>>24,I=E>>>16&255,k=E&65535,!(x<=u);){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(k<16)l>>>=x,u-=x,n.lens[n.have++]=k;else{if(k===16){for(P=x+2;u<P;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(l>>>=x,u-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=Te;break}L=n.lens[n.have-1],h=3+(l&3),l>>>=2,u-=2}else if(k===17){for(P=x+3;u<P;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}l>>>=x,u-=x,L=0,h=3+(l&7),l>>>=3,u-=3}else{for(P=x+7;u<P;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}l>>>=x,u-=x,L=0,h=11+(l&127),l>>>=7,u-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Te;break}for(;h--;)n.lens[n.have++]=L}}if(n.mode===Te)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Te;break}if(n.lenbits=9,O={bits:n.lenbits},F=sr(dd,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,F){e.msg="invalid literal/lengths set",n.mode=Te;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},F=sr(hd,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,F){e.msg="invalid distances set",n.mode=Te;break}if(n.mode=qr,t===jr)break e;case qr:n.mode=Zr;case Zr:if(a>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,nb(e,d),o=e.next_out,r=e.output,c=e.avail_out,s=e.next_in,i=e.input,a=e.avail_in,l=n.hold,u=n.bits,n.mode===sn&&(n.back=-1);break}for(n.back=0;E=n.lencode[l&(1<<n.lenbits)-1],x=E>>>24,I=E>>>16&255,k=E&65535,!(x<=u);){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(I&&(I&240)===0){for(b=x,D=I,j=k;E=n.lencode[j+((l&(1<<b+D)-1)>>b)],x=E>>>24,I=E>>>16&255,k=E&65535,!(b+x<=u);){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=x,u-=x,n.back+=x,n.length=k,I===0){n.mode=Rc;break}if(I&32){n.back=-1,n.mode=sn;break}if(I&64){e.msg="invalid literal/length code",n.mode=Te;break}n.extra=I&15,n.mode=Ic;case Ic:if(n.extra){for(P=n.extra;u<P;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Cc;case Cc:for(;E=n.distcode[l&(1<<n.distbits)-1],x=E>>>24,I=E>>>16&255,k=E&65535,!(x<=u);){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if((I&240)===0){for(b=x,D=I,j=k;E=n.distcode[j+((l&(1<<b+D)-1)>>b)],x=E>>>24,I=E>>>16&255,k=E&65535,!(b+x<=u);){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=x,u-=x,n.back+=x,I&64){e.msg="invalid distance code",n.mode=Te;break}n.offset=k,n.extra=I&15,n.mode=Dc;case Dc:if(n.extra){for(P=n.extra;u<P;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Te;break}n.mode=Lc;case Lc:if(c===0)break e;if(h=d-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Te;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=r,p=o-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do r[o++]=v[p++];while(--h);n.length===0&&(n.mode=Zr);break;case Rc:if(c===0)break e;r[o++]=n.length,c--,n.mode=Zr;break;case ko:if(n.wrap){for(;u<32;){if(a===0)break e;a--,l|=i[s++]<<u,u+=8}if(d-=c,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?Ge(n.check,r,d,o-d):vr(n.check,r,d,o-d)),d=c,n.wrap&4&&(n.flags?l:Pc(l))!==n.check){e.msg="incorrect data check",n.mode=Te;break}l=0,u=0}n.mode=Oc;case Oc:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,l+=i[s++]<<u,u+=8}if(n.wrap&4&&l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Te;break}l=0,u=0}n.mode=$c;case $c:F=ub;break e;case Te:F=pd;break e;case md:return gd;case _d:default:return Lt}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=a,n.hold=l,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<Te&&(n.mode<ko||t!==dc))&&xd(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,n.total+=d,n.wrap&4&&d&&(e.adler=n.check=n.flags?Ge(n.check,r,d,e.next_out-d):vr(n.check,r,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===sn?128:0)+(n.mode===qr||n.mode===xo?256:0),(f===0&&d===0||t===dc)&&F===ii&&(F=db),F},yb=e=>{if(li(e))return Lt;let t=e.state;return t.window&&(t.window=null),e.state=null,ii},xb=(e,t)=>{if(li(e))return Lt;const n=e.state;return(n.wrap&2)===0?Lt:(n.head=t,t.done=!1,ii)},kb=(e,t)=>{const n=t.length;let i,r,s;return li(e)||(i=e.state,i.wrap!==0&&i.mode!==ws)?Lt:i.mode===ws&&(r=1,r=vr(r,t,n,0),r!==i.check)?pd:(s=xd(e,t,n,n),s?(i.mode=md,gd):(i.havedict=1,ii))};var Sb=vd,Eb=wd,Tb=bd,Ab=bb,Ib=yd,Cb=wb,Db=yb,Lb=xb,Rb=kb,Ob="pako inflate (from Nodeca project)",cn={inflateReset:Sb,inflateReset2:Eb,inflateResetKeep:Tb,inflateInit:Ab,inflateInit2:Ib,inflate:Cb,inflateEnd:Db,inflateGetHeader:Lb,inflateSetDictionary:Rb,inflateInfo:Ob};function $b(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Pb=$b;const kd=Object.prototype.toString,{Z_NO_FLUSH:Mb,Z_FINISH:Nb,Z_OK:xr,Z_STREAM_END:To,Z_NEED_DICT:Ao,Z_STREAM_ERROR:Fb,Z_DATA_ERROR:Nc,Z_MEM_ERROR:Hb}=zs;function js(e){this.options=Bs.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ud,this.strm.avail_out=0;let n=cn.inflateInit2(this.strm,t.windowBits);if(n!==xr)throw new Error(ti[n]);if(this.header=new Pb,cn.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=yr.string2buf(t.dictionary):kd.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=cn.inflateSetDictionary(this.strm,t.dictionary),n!==xr)))throw new Error(ti[n])}js.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Nb:Mb,kd.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=cn.inflate(n,o),s===Ao&&r&&(s=cn.inflateSetDictionary(n,r),s===xr?s=cn.inflate(n,o):s===Nc&&(s=Ao));n.avail_in>0&&s===To&&n.state.wrap>0&&e[n.next_in]!==0;)cn.inflateReset(n),s=cn.inflate(n,o);switch(s){case Fb:case Nc:case Ao:case Hb:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===To))if(this.options.to==="string"){let c=yr.utf8border(n.output,n.next_out),l=n.next_out-c,u=yr.buf2string(n.output,c);n.next_out=l,n.avail_out=i-l,l&&n.output.set(n.output.subarray(c,c+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===xr&&a===0)){if(s===To)return s=cn.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};js.prototype.onData=function(e){this.chunks.push(e)};js.prototype.onEnd=function(e){e===xr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bs.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zb(e,t){const n=new js(t);if(n.push(e),n.err)throw n.msg||ti[n.err];return n.result}var Ub=zb,Bb={ungzip:Ub};const{gzip:Vb}=eb,{ungzip:Gb}=Bb;var jb=Vb,qb=Gb;function Zb(e,t){return e==="cloud"||e==="dynamic"?t.get("p")||t.get("epayload")||t.get("data")||"":t.get("data")||t.get("p")||t.get("epayload")||""}function Ma(e){const t=new URLSearchParams(e.hash.substring(1)),n=t.get("k")||t.get("key"),i=t.get("i")||t.get("iv");if(!n||!i)return null;const r=new URLSearchParams(e.search),s={s:"simple",c:"cloud",d:"dynamic",simple:"simple",cloud:"cloud",dynamic:"dynamic"},o=t.get("m")||t.get("mode")||"s",a=s[o]||"simple";return{mode:a,salt:t.get("s")||t.get("salt")||null,expdate:t.get("x")||t.get("expdate")||null,key:n,iv:i,epayload:Zb(a,r)}}const Wb=7700;async function Kb({data:e,mode:t,uploadHandler:n,shortenUrlHandler:i,password:r,expiresInDays:s,simpleModePayloadLimit:o=Wb}){const a=await zf(),c=Number.isFinite(s)?new Date(Date.now()+s*864e5):null,l=c?c.toISOString().slice(0,10):null,u=l?new TextEncoder().encode(l):void 0;let f,d,h;if(t==="simple")f=jb(new Uint8Array(e)).buffer,{ciphertext:d,iv:h}=await Gn(a,f,u);else{f=e;const j=await Gn(a,f,u),L=await n(j),F=new TextEncoder().encode(L);({ciphertext:d,iv:h}=await Gn(a,F,u))}let p=null,v;if(r){p=Hf();const j=await Hs(r,p),L=await crypto.subtle.exportKey("raw",a),F=await Gn(j,L);v=`${We(F.ciphertext)}.${We(F.iv)}`}else v=await Uf(a);const E=new URLSearchParams({i:We(h),k:v});p&&E.set("s",We(p)),l&&E.set("x",l);const x={simple:"s",cloud:"c"};E.set("m",x[t]||"s");const I=We(d);if(t==="simple"&&I.length>o)throw new mm("Payload too large for simple mode. Please use Cloud Mode instead.");const k=typeof location<"u"?location.href.split("#")[0].split("?")[0]:"";return`${await i(`${k}?${t==="simple"?"data":"p"}=${encodeURIComponent(I)}`)}#${E.toString()}`}async function Yb({location:e,downloadHandler:t,passwordPromptHandler:n}){try{const i=Ma(e);if(!i)throw new Wo("Not a valid share link.");const{key:r,salt:s,expdate:o,iv:a,mode:c}=i;if(c==="cloud"&&typeof t!="function")throw new Error("downloadHandler is required for cloud mode");const l=new URLSearchParams(e.search);if(!i.epayload)throw new Wo(`Invalid ${c} mode link: missing data parameter`);if(o&&new Date>new Date(o+"T23:59:59.999Z"))throw new Nf("This link has expired.");let u;if(s){const x=await n();if(!x)throw new Ff("Password is required but was not provided.");const I=await Hs(x,new Uint8Array(Ke(s))),[k,b]=r.split("."),D=await jn(I,{ciphertext:Ke(k),iv:new Uint8Array(Ke(b))});u=await crypto.subtle.importKey("raw",D,{name:"AES-GCM"},!0,["encrypt","decrypt"])}else u=await Bf(r);const f=o?new TextEncoder().encode(o):void 0,d=Ke(i.epayload);if(c==="simple"){const x=await jn(u,{ciphertext:d,iv:new Uint8Array(Ke(a)),additionalData:f});return qb(new Uint8Array(x)).buffer}const h=await jn(u,{ciphertext:d,iv:new Uint8Array(Ke(a)),additionalData:f}),p=new TextDecoder().decode(h),v=await t(p);return await jn(u,{ciphertext:v.ciphertext,iv:v.iv,additionalData:f})}finally{if(typeof history<"u"){const i=e.href.split("#")[0].split("?")[0];history.replaceState(null,"",i)}}}async function Jb(e,t,n){if(t){if(!n)throw new Ff("Password is required but was not provided.");const i=await Hs(n,new Uint8Array(Ke(t))),[r,s]=e.split("."),o=await jn(i,{ciphertext:Ke(r),iv:new Uint8Array(Ke(s))});return crypto.subtle.importKey("raw",o,{name:"AES-GCM"},!0,["encrypt","decrypt"])}return Bf(e)}async function Xb({data:e,adapter:t,password:n,expiresInDays:i}){if(!e)throw new Error("Missing required option 'data'");if(!t||typeof t.create!="function")throw new Error("Missing required option 'adapter' with 'create' method");const r=await zf(),s=await Gn(r,e);let o;try{o=await t.create(s)}catch(x){throw new Error(`Storage adapter failed during 'create': ${x.message}`)}const a=new TextEncoder().encode(o);let c;try{c=await t.create(a)}catch(x){throw new Error(`Storage adapter failed during 'create': ${x.message}`)}const{ciphertext:l,iv:u}=await Gn(r,new TextEncoder().encode(c));let f=null,d;if(n){f=Hf();const x=await Hs(n,f),I=await crypto.subtle.exportKey("raw",r),k=await Gn(x,I);d=`${We(k.ciphertext)}.${We(k.iv)}`}else d=await Uf(r);const h=new URLSearchParams({i:We(u),k:d,m:"d"});if(f&&h.set("s",We(f)),Number.isFinite(i)){const x=new Date(Date.now()+i*864e5).toISOString().slice(0,10);h.set("x",x)}const p=We(l);return{shareLink:`${typeof location<"u"?location.href.split("#")[0].split("?")[0]:""}?p=${encodeURIComponent(p)}#${h.toString()}`,pointerFileId:c,key:d,salt:f?We(f):null}}async function Qb({location:e,adapter:t,passwordPromptHandler:n}){if(!e)throw new Error("Missing required option 'location'");if(!t||typeof t.read!="function")throw new Error("Missing required option 'adapter' with 'read' method");if(typeof n!="function")throw new Error("Missing required option 'passwordPromptHandler'");try{const i=Ma(e);if(!i||i.mode!=="dynamic")throw new Wo("Not a valid dynamic share link.");const{key:r,salt:s,iv:o,expdate:a}=i;if(a&&new Date>new Date(a+"T23:59:59.999Z"))throw new Nf("This link has expired.");let c=null;s&&(c=await n());const l=await Jb(r,s,c),u=Ke(i.epayload),f=await jn(l,{ciphertext:u,iv:new Uint8Array(Ke(o))}),d=new TextDecoder().decode(f);let h;try{h=await t.read(d)}catch(x){throw new Error(`Storage adapter failed during 'read': ${x.message}`)}const p=new TextDecoder().decode(h);let v;try{v=await t.read(p)}catch(x){throw new Error(`Storage adapter failed during 'read': ${x.message}`)}return await jn(l,v)}finally{if(typeof history<"u"){const i=e.href.split("#")[0].split("?")[0];history.replaceState(null,"",i)}}}class Sd{constructor(t){this.gdm=t}async create(t){const n=this._serializeData(t),i=await this.gdm.saveFile("appDataFolder",`sls_${Date.now()}.json`,n);return i&&i.id?i.id:null}async read(t){const n=await this.gdm.loadFileContent(t);return n?this._deserializeData(n):null}async update(t,n){const i=this._serializeData(n);await this.gdm.saveFile("appDataFolder",`sls_${Date.now()}.json`,i,t)}_serializeData(t){if(t&&t.ciphertext&&t.iv)return JSON.stringify({ciphertext:We(t.ciphertext),iv:We(t.iv)});const n=t instanceof Uint8Array?t:new Uint8Array(t);return We(n.buffer)}_deserializeData(t){try{const n=JSON.parse(t);if(n.ciphertext)return{ciphertext:Ke(n.ciphertext),iv:new Uint8Array(Ke(n.iv))}}catch{}return Ke(t.trim())}}function e0(e){const t=je(),{showToast:n}=ai();function i(c){const l={...t.character};c||delete l.images;const u={character:l,skills:t.skills,specialSkills:t.specialSkills,equipments:t.equipments,histories:t.histories};return new TextEncoder().encode(JSON.stringify(u)).buffer}function r(){const c={...t.character};return delete c.images,JSON.stringify({character:c,skills:t.skills}).length>7e3}async function s(c){const l=JSON.stringify({ciphertext:We(c.ciphertext),iv:We(c.iv)});return await e.googleDriveManager.uploadAndShareFile(l,"share.enc","application/json")}async function o(c){const{type:l,includeFull:u,password:f,expiresInDays:d}=c,h=i(u);if(l==="dynamic"){const v=new Sd(e.googleDriveManager),{shareLink:E}=await Xb({data:h,adapter:v,password:f||void 0,expiresInDays:d});return E}return Kb({data:h,mode:u?"cloud":"simple",uploadHandler:s,shortenUrlHandler:async v=>{try{const E=await fetch(`https://tinyurl.com/api-create.php?url=${encodeURIComponent(v)}`);return E.ok?await E.text():(console.error("TinyURL API request failed:",E.status,E.statusText),v)}catch(E){return console.error("Failed to shorten URL with TinyURL:",E),v}},password:f||void 0,expiresInDays:d})}async function a(c){try{await navigator.clipboard.writeText(c),n({type:"success",...q.share.copied(c)})}catch(l){n({type:"error",...q.share.copyFailed(l)})}}return{generateShare:o,copyLink:a,isLongData:r}}const t0=Cs(()=>At(()=>import("./CharacterHub-C75mwoOK.js"),__vite__mapDeps([0,1]),import.meta.url)),n0=Cs(()=>At(()=>import("./CharacterHubControls-2gCnycHK.js"),__vite__mapDeps([2,3]),import.meta.url)),i0=Cs(()=>At(()=>import("./IoModal-qokadDFp.js"),__vite__mapDeps([4,5]),import.meta.url)),r0=Cs(()=>At(()=>import("./ShareOptions-BRb-iD5b.js"),__vite__mapDeps([6,7]),import.meta.url));function s0(e){const t=mt(),{showModal:n}=Fs(),{dataManager:i,loadCharacterById:r,saveCharacterToDrive:s,handleSignInClick:o,handleSignOutClick:a,refreshHubList:c,saveNewCharacter:l,saveData:u,handleFileUpload:f,outputToCocofolia:d,printCharacterSheet:h,openPreviewPage:p,promptForDriveFolder:v,copyEditCallback:E}=e;async function x(){await n({component:t0,title:q.ui.modal.hubTitle,props:{dataManager:i,loadCharacter:r,saveToDrive:s},globalActions:{component:n0,on:{"sign-in":o,"sign-out":a,refresh:c,new:l}},buttons:[]})}async function I(){const b=Cf()?h:p;await n({component:i0,title:q.ui.modal.io.title,props:{signedIn:t.isSignedIn,saveLocalLabel:q.ui.modal.io.buttons.saveLocal,loadLocalLabel:q.ui.modal.io.buttons.loadLocal,outputLabels:{default:q.outputButton.default,animating:q.outputButton.animating,success:q.outputButton.success},outputTimings:q.outputButton.animationTimings,printLabel:q.ui.modal.io.buttons.print,driveFolderLabel:q.ui.modal.io.buttons.driveFolder},buttons:[],on:{"save-local":u,"load-local":f,"output-cocofolia":d,print:b,"drive-folder":v}})}async function k(){if(t.isViewingShared){typeof E=="function"&&E();return}const{generateShare:b,copyLink:D,isLongData:j}=e0(i),{showToast:L}=ai(),F=Ns();window.__driveSignIn=o;const T=Tr({label:q.ui.modal.generate,value:"generate",variant:"primary",disabled:!0});function O(oe){T.disabled=!oe}const P=await n({component:r0,props:{signedIn:t.isSignedIn,longData:j()},title:q.ui.modal.shareTitle,buttons:[T,{label:q.ui.modal.cancel,value:"cancel",variant:"secondary"}],on:{"update:canGenerate":O}});if(delete window.__driveSignIn,P.value!=="generate"||!P.component)return;const N=P.component,ie={type:N.type.value,includeFull:N.includeFull.value,password:N.password.value||"",expiresInDays:Number(N.expires.value)||0};try{const oe=await b(ie);await D(oe),F.hideModal()}catch(oe){L({type:"error",title:q.ui.modal.shareFailed,message:oe.message})}}return{openHub:x,openIoModal:I,openShareModal:k}}const _t=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},o0={class:"password-prompt-modal"},a0={__name:"PasswordPromptModal",setup(e,{expose:t}){const n=ze("");return t({password:n}),(i,r)=>(H(),G("div",o0,[ce(y("input",{type:"password","onUpdate:modelValue":r[0]||(r[0]=s=>n.value=s),class:"password-prompt-modal__input"},null,512),[[Ie,n.value]])]))}},Fc=_t(a0,[["__scopeId","data-v-cf1222ae"]]);function l0(e){const t=je(),n=mt(),{showToast:i}=ai(),{showModal:r}=Fs();async function s(){n.setLoading(!0);const o=Ma(window.location);if(!o){n.setLoading(!1);return}try{let a;if(o.mode==="dynamic"){const l=new Sd(e.googleDriveManager);async function u(){const f=await r({component:Fc,title:q.ui.prompts.sharedDataPassword,buttons:[{label:"OK",value:"ok",variant:"primary"},{label:q.ui.modal.cancel,value:"cancel",variant:"secondary"}]});return!f.component||f.value!=="ok"?null:f.component.password.value||null}a=await Qb({location:window.location,adapter:l,passwordPromptHandler:u})}else{async function l(){const u=await r({component:Fc,title:q.ui.prompts.sharedDataPassword,buttons:[{label:"OK",value:"ok",variant:"primary"},{label:q.ui.modal.cancel,value:"cancel",variant:"secondary"}]});return!u.component||u.value!=="ok"?null:u.component.password.value||null}a=await Yb({location:window.location,downloadHandler:async u=>{const f=await e.googleDriveManager.loadFileContent(u);if(!f)throw new Error("no data");const{ciphertext:d,iv:h}=JSON.parse(f);return{ciphertext:Ke(d),iv:new Uint8Array(Ke(h))}},passwordPromptHandler:l})}const c=JSON.parse(new TextDecoder().decode(a));Object.assign(t.character,c.character),t.skills.splice(0,t.skills.length,...c.skills),t.specialSkills.splice(0,t.specialSkills.length,...c.specialSkills),Object.assign(t.equipments,c.equipments),t.histories.splice(0,t.histories.length,...c.histories),n.isViewingShared=!0}catch(a){let c="general";a.name==="InvalidLinkError"?c="invalid":a.name==="ExpiredLinkError"?c="expired":a.name==="PasswordRequiredError"?c="passwordRequired":a.name==="DecryptionError"&&(c="decryptionFailed"),i({type:"error",...q.share.loadError.toast(c)}),console.error("Error loading shared data:",a)}finally{n.setLoading(!1)}}return{initialize:s}}function qs(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Fn=qs();function Ed(e){Fn=e}var or={exec:()=>null};function _e(e,t=""){let n=typeof e=="string"?e:e.source;const i={replace:(r,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(ct.caret,"$1"),n=n.replace(r,o),i},getRegex:()=>new RegExp(n,t)};return i}var ct={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},c0=/^(?:[ \t]*(?:\n|$))+/,u0=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,f0=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Pr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,d0=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Na=/(?:[*+-]|\d{1,9}[.)])/,Td=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ad=_e(Td).replace(/bull/g,Na).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),h0=_e(Td).replace(/bull/g,Na).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Fa=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,p0=/^[^\n]+/,Ha=/(?!\s*\])(?:\\.|[^\[\]\\])+/,g0=_e(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ha).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),m0=_e(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Na).getRegex(),Zs="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",za=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_0=_e("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",za).replace("tag",Zs).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Id=_e(Fa).replace("hr",Pr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zs).getRegex(),b0=_e(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Id).getRegex(),Ua={blockquote:b0,code:u0,def:g0,fences:f0,heading:d0,hr:Pr,html:_0,lheading:Ad,list:m0,newline:c0,paragraph:Id,table:or,text:p0},Hc=_e("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Pr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zs).getRegex(),v0={...Ua,lheading:h0,table:Hc,paragraph:_e(Fa).replace("hr",Pr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Hc).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zs).getRegex()},w0={...Ua,html:_e(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",za).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:or,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_e(Fa).replace("hr",Pr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ad).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},y0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,x0=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Cd=/^( {2,}|\\)\n(?!\s*$)/,k0=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ws=/[\p{P}\p{S}]/u,Ba=/[\s\p{P}\p{S}]/u,Dd=/[^\s\p{P}\p{S}]/u,S0=_e(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ba).getRegex(),Ld=/(?!~)[\p{P}\p{S}]/u,E0=/(?!~)[\s\p{P}\p{S}]/u,T0=/(?:[^\s\p{P}\p{S}]|~)/u,A0=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Rd=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,I0=_e(Rd,"u").replace(/punct/g,Ws).getRegex(),C0=_e(Rd,"u").replace(/punct/g,Ld).getRegex(),Od="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",D0=_e(Od,"gu").replace(/notPunctSpace/g,Dd).replace(/punctSpace/g,Ba).replace(/punct/g,Ws).getRegex(),L0=_e(Od,"gu").replace(/notPunctSpace/g,T0).replace(/punctSpace/g,E0).replace(/punct/g,Ld).getRegex(),R0=_e("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Dd).replace(/punctSpace/g,Ba).replace(/punct/g,Ws).getRegex(),O0=_e(/\\(punct)/,"gu").replace(/punct/g,Ws).getRegex(),$0=_e(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),P0=_e(za).replace("(?:-->|$)","-->").getRegex(),M0=_e("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",P0).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ys=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,N0=_e(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ys).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$d=_e(/^!?\[(label)\]\[(ref)\]/).replace("label",ys).replace("ref",Ha).getRegex(),Pd=_e(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ha).getRegex(),F0=_e("reflink|nolink(?!\\()","g").replace("reflink",$d).replace("nolink",Pd).getRegex(),Va={_backpedal:or,anyPunctuation:O0,autolink:$0,blockSkip:A0,br:Cd,code:x0,del:or,emStrongLDelim:I0,emStrongRDelimAst:D0,emStrongRDelimUnd:R0,escape:y0,link:N0,nolink:Pd,punctuation:S0,reflink:$d,reflinkSearch:F0,tag:M0,text:k0,url:or},H0={...Va,link:_e(/^!?\[(label)\]\((.*?)\)/).replace("label",ys).getRegex(),reflink:_e(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ys).getRegex()},ra={...Va,emStrongRDelimAst:L0,emStrongLDelim:C0,url:_e(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},z0={...ra,br:_e(Cd).replace("{2,}","*").getRegex(),text:_e(ra.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Wr={normal:Ua,gfm:v0,pedantic:w0},Hi={normal:Va,gfm:ra,breaks:z0,pedantic:H0},U0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zc=e=>U0[e];function qt(e,t){if(t){if(ct.escapeTest.test(e))return e.replace(ct.escapeReplace,zc)}else if(ct.escapeTestNoEncode.test(e))return e.replace(ct.escapeReplaceNoEncode,zc);return e}function Uc(e){try{e=encodeURI(e).replace(ct.percentDecode,"%")}catch{return null}return e}function Bc(e,t){var s;const n=e.replace(ct.findPipe,(o,a,c)=>{let l=!1,u=a;for(;--u>=0&&c[u]==="\\";)l=!l;return l?"|":" |"}),i=n.split(ct.splitPipe);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!((s=i.at(-1))!=null&&s.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(ct.slashPipe,"|");return i}function zi(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function B0(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function Vc(e,t,n,i,r){const s=t.href,o=t.title||null,a=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;const c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,c}function V0(e,t,n){const i=e.match(n.other.indentCodeCompensation);if(i===null)return t;const r=i[1];return t.split(`
`).map(s=>{const o=s.match(n.other.beginningSpace);if(o===null)return s;const[a]=o;return a.length>=r.length?s.slice(r.length):s}).join(`
`)}var kr=class{constructor(e){ye(this,"options");ye(this,"rules");ye(this,"lexer");this.options=e||Fn}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:zi(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=V0(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const i=zi(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:zi(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=zi(t[0],`
`).split(`
`),i="",r="";const s=[];for(;n.length>0;){let o=!1;const a=[];let c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))a.push(n[c]),o=!0;else if(!o)a.push(n[c]);else break;n=n.slice(c);const l=a.join(`
`),u=l.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${l}`:l,r=r?`${r}
${u}`:u;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=f,n.length===0)break;const d=s.at(-1);if((d==null?void 0:d.type)==="code")break;if((d==null?void 0:d.type)==="blockquote"){const h=d,p=h.raw+`
`+n.join(`
`),v=this.blockquote(p);s[s.length-1]=v,i=i.substring(0,i.length-h.raw.length)+v.raw,r=r.substring(0,r.length-h.text.length)+v.text;break}else if((d==null?void 0:d.type)==="list"){const h=d,p=h.raw+`
`+n.join(`
`),v=this.list(p);s[s.length-1]=v,i=i.substring(0,i.length-d.raw.length)+v.raw,r=r.substring(0,r.length-h.raw.length)+v.raw,n=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let o=!1;for(;e;){let c=!1,l="",u="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),d=e.split(`
`,1)[0],h=!f.trim(),p=0;if(this.options.pedantic?(p=2,u=f.trimStart()):h?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,u=f.slice(p),p+=t[1].length),h&&this.rules.other.blankLine.test(d)&&(l+=d+`
`,e=e.substring(d.length+1),c=!0),!c){const x=this.rules.other.nextBulletRegex(p),I=this.rules.other.hrRegex(p),k=this.rules.other.fencesBeginRegex(p),b=this.rules.other.headingBeginRegex(p),D=this.rules.other.htmlBeginRegex(p);for(;e;){const j=e.split(`
`,1)[0];let L;if(d=j,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),L=d):L=d.replace(this.rules.other.tabCharGlobal,"    "),k.test(d)||b.test(d)||D.test(d)||x.test(d)||I.test(d))break;if(L.search(this.rules.other.nonSpaceChar)>=p||!d.trim())u+=`
`+L.slice(p);else{if(h||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(f)||b.test(f)||I.test(f))break;u+=`
`+d}!h&&!d.trim()&&(h=!0),l+=j+`
`,e=e.substring(j.length+1),f=L.slice(p)}}r.loose||(o?r.loose=!0:this.rules.other.doubleBlankLine.test(l)&&(o=!0));let v=null,E;this.options.gfm&&(v=this.rules.other.listIsTask.exec(u),v&&(E=v[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:l,task:!!v,checked:E,loose:!1,text:u,tokens:[]}),r.raw+=l}const a=r.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let c=0;c<r.items.length;c++)if(this.lexer.state.top=!1,r.items[c].tokens=this.lexer.blockTokens(r.items[c].text,[]),!r.loose){const l=r.items[c].tokens.filter(f=>f.type==="space"),u=l.length>0&&l.some(f=>this.rules.other.anyLine.test(f.raw));r.loose=u}if(r.loose)for(let c=0;c<r.items.length;c++)r.items[c].loose=!0;return r}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){var o;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Bc(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=(o=t[3])!=null&&o.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const a of i)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(const a of r)s.rows.push(Bc(a,s.header.length).map((c,l)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[l]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=zi(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=B0(t[2],"()");if(s===-2)return;if(s>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Vc(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[i.toLowerCase()];if(!r){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Vc(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,a,c=s,l=0;const u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+s);(i=u.exec(t))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){l+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+l);const f=[...i[0]][0].length,d=e.slice(0,s+i.index+f+a);if(Math.min(s,a)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&r&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let i,r;if(t[2]==="@")i=t[0],r="mailto:"+i;else{let s;do s=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(s!==t[0]);i=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Yt=class sa{constructor(t){ye(this,"tokens");ye(this,"options");ye(this,"state");ye(this,"tokenizer");ye(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Fn,this.options.tokenizer=this.options.tokenizer||new kr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:ct,block:Wr.normal,inline:Hi.normal};this.options.pedantic?(n.block=Wr.pedantic,n.inline=Hi.pedantic):this.options.gfm&&(n.block=Wr.gfm,this.options.breaks?n.inline=Hi.breaks:n.inline=Hi.gfm),this.tokenizer.rules=n}static get rules(){return{block:Wr,inline:Hi}}static lex(t,n){return new sa(n).lex(t)}static lexInline(t,n){return new sa(n).inlineTokens(t)}lex(t){t=t.replace(ct.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){var r,s,o;for(this.options.pedantic&&(t=t.replace(ct.tabCharGlobal,"    ").replace(ct.spaceLine,""));t;){let a;if((s=(r=this.options.extensions)==null?void 0:r.block)!=null&&s.some(l=>(a=l.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);const l=n.at(-1);a.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+a.raw,l.text+=`
`+a.text,this.inlineQueue.at(-1).src=l.text):n.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="paragraph"||(l==null?void 0:l.type)==="text"?(l.raw+=`
`+a.raw,l.text+=`
`+a.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),n.push(a);continue}let c=t;if((o=this.options.extensions)!=null&&o.startBlock){let l=1/0;const u=t.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},u),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(c=t.substring(0,l+1))}if(this.state.top&&(a=this.tokenizer.paragraph(c))){const l=n.at(-1);i&&(l==null?void 0:l.type)==="paragraph"?(l.raw+=`
`+a.raw,l.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(a),i=c.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);const l=n.at(-1);(l==null?void 0:l.type)==="text"?(l.raw+=`
`+a.raw,l.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(a);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var a,c,l;let i=t,r=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)u.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;t;){s||(o=""),s=!1;let u;if((c=(a=this.options.extensions)==null?void 0:a.inline)!=null&&c.some(d=>(u=d.call({lexer:this},t,n))?(t=t.substring(u.raw.length),n.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);const d=n.at(-1);u.type==="text"&&(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):n.push(u);continue}if(u=this.tokenizer.emStrong(t,i,o)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),n.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),n.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),n.push(u);continue}let f=t;if((l=this.options.extensions)!=null&&l.startInline){let d=1/0;const h=t.slice(1);let p;this.options.extensions.startInline.forEach(v=>{p=v.call({lexer:this},h),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(f=t.substring(0,d+1))}if(u=this.tokenizer.inlineText(f)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(o=u.raw.slice(-1)),s=!0;const d=n.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=u.raw,d.text+=u.text):n.push(u);continue}if(t){const d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},Sr=class{constructor(e){ye(this,"options");ye(this,"parser");this.options=e||Fn}space(e){return""}code({text:e,lang:t,escaped:n}){var s;const i=(s=(t||"").match(ct.notSpaceStart))==null?void 0:s[0],r=e.replace(ct.endingNewline,"")+`
`;return i?'<pre><code class="language-'+qt(i)+'">'+(n?r:qt(r,!0))+`</code></pre>
`:"<pre><code>"+(n?r:qt(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let i="";for(let o=0;o<e.items.length;o++){const a=e.items[o];i+=this.listitem(a)}const r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+i+"</"+r+`>
`}listitem(e){var n;let t="";if(e.task){const i=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=i+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=i+" "+qt(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):t+=i+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let r=0;r<e.header.length;r++)n+=this.tablecell(e.header[r]);t+=this.tablerow({text:n});let i="";for(let r=0;r<e.rows.length;r++){const s=e.rows[r];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${qt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const i=this.parser.parseInline(n),r=Uc(e);if(r===null)return i;e=r;let s='<a href="'+e+'"';return t&&(s+=' title="'+qt(t)+'"'),s+=">"+i+"</a>",s}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));const r=Uc(e);if(r===null)return qt(n);e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${qt(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:qt(e.text)}},Ks=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Jt=class oa{constructor(t){ye(this,"options");ye(this,"renderer");ye(this,"textRenderer");this.options=t||Fn,this.options.renderer=this.options.renderer||new Sr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ks}static parse(t,n){return new oa(n).parse(t)}static parseInline(t,n){return new oa(n).parseInline(t)}parse(t,n=!0){var r,s;let i="";for(let o=0;o<t.length;o++){const a=t[o];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[a.type]){const l=a,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){i+=u||"";continue}}const c=a;switch(c.type){case"space":{i+=this.renderer.space(c);continue}case"hr":{i+=this.renderer.hr(c);continue}case"heading":{i+=this.renderer.heading(c);continue}case"code":{i+=this.renderer.code(c);continue}case"table":{i+=this.renderer.table(c);continue}case"blockquote":{i+=this.renderer.blockquote(c);continue}case"list":{i+=this.renderer.list(c);continue}case"html":{i+=this.renderer.html(c);continue}case"paragraph":{i+=this.renderer.paragraph(c);continue}case"text":{let l=c,u=this.renderer.text(l);for(;o+1<t.length&&t[o+1].type==="text";)l=t[++o],u+=`
`+this.renderer.text(l);n?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{const l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}parseInline(t,n=this.renderer){var r,s;let i="";for(let o=0;o<t.length;o++){const a=t[o];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[a.type]){const l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){i+=l||"";continue}}const c=a;switch(c.type){case"escape":{i+=n.text(c);break}case"html":{i+=n.html(c);break}case"link":{i+=n.link(c);break}case"image":{i+=n.image(c);break}case"strong":{i+=n.strong(c);break}case"em":{i+=n.em(c);break}case"codespan":{i+=n.codespan(c);break}case"br":{i+=n.br(c);break}case"del":{i+=n.del(c);break}case"text":{i+=n.text(c);break}default:{const l='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return i}},$o,ar=($o=class{constructor(e){ye(this,"options");ye(this,"block");this.options=e||Fn}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Yt.lex:Yt.lexInline}provideParser(){return this.block?Jt.parse:Jt.parseInline}},ye($o,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),$o),Md=class{constructor(...e){ye(this,"defaults",qs());ye(this,"options",this.setOptions);ye(this,"parse",this.parseMarkdown(!0));ye(this,"parseInline",this.parseMarkdown(!1));ye(this,"Parser",Jt);ye(this,"Renderer",Sr);ye(this,"TextRenderer",Ks);ye(this,"Lexer",Yt);ye(this,"Tokenizer",kr);ye(this,"Hooks",ar);this.use(...e)}walkTokens(e,t){var i,r;let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const o=s;for(const a of o.header)n=n.concat(this.walkTokens(a.tokens,t));for(const a of o.rows)for(const c of a)n=n.concat(this.walkTokens(c.tokens,t));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,t));break}default:{const o=s;(r=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&r[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{const c=o[a].flat(1/0);n=n.concat(this.walkTokens(c,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const s=t.renderers[r.name];s?t.renderers[r.name]=function(...o){let a=r.renderer.apply(this,o);return a===!1&&(a=s.apply(this,o)),a}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[r.level];s?s.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){const r=this.defaults.renderer||new Sr(this.defaults);for(const s in n.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s,a=n.renderer[o],c=r[o];r[o]=(...l)=>{let u=a.apply(r,l);return u===!1&&(u=c.apply(r,l)),u||""}}i.renderer=r}if(n.tokenizer){const r=this.defaults.tokenizer||new kr(this.defaults);for(const s in n.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,a=n.tokenizer[o],c=r[o];r[o]=(...l)=>{let u=a.apply(r,l);return u===!1&&(u=c.apply(r,l)),u}}i.tokenizer=r}if(n.hooks){const r=this.defaults.hooks||new ar;for(const s in n.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const o=s,a=n.hooks[o],c=r[o];ar.passThroughHooks.has(s)?r[o]=l=>{if(this.defaults.async)return Promise.resolve(a.call(r,l)).then(f=>c.call(r,f));const u=a.call(r,l);return c.call(r,u)}:r[o]=(...l)=>{let u=a.apply(r,l);return u===!1&&(u=c.apply(r,l)),u}}i.hooks=r}if(n.walkTokens){const r=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let a=[];return a.push(s.call(this,o)),r&&(a=a.concat(r.call(this,o))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Yt.lex(e,t??this.defaults)}parser(e,t){return Jt.parse(e,t??this.defaults)}parseMarkdown(e){return(n,i)=>{const r={...i},s={...this.defaults,...r},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const a=s.hooks?s.hooks.provideLexer():e?Yt.lex:Yt.lexInline,c=s.hooks?s.hooks.provideParser():e?Jt.parse:Jt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(l=>a(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>c(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let l=a(n,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let u=c(l,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(l){return o(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+qt(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},ri=new Md;function me(e,t){return ri.parse(e,t)}me.options=me.setOptions=function(e){return ri.setOptions(e),me.defaults=ri.defaults,Ed(me.defaults),me};me.getDefaults=qs;me.defaults=Fn;me.use=function(...e){return ri.use(...e),me.defaults=ri.defaults,Ed(me.defaults),me};me.walkTokens=function(e,t){return ri.walkTokens(e,t)};me.parseInline=ri.parseInline;me.Parser=Jt;me.parser=Jt.parse;me.Renderer=Sr;me.TextRenderer=Ks;me.Lexer=Yt;me.lexer=Yt.lex;me.Tokenizer=kr;me.Hooks=ar;me.parse=me;me.options;me.setOptions;me.use;me.walkTokens;me.parseInline;Jt.parse;Yt.lex;const Gc=Object.freeze(Object.defineProperty({__proto__:null,Hooks:ar,Lexer:Yt,Marked:Md,Parser:Jt,Renderer:Sr,TextRenderer:Ks,Tokenizer:kr,get defaults(){return Fn},getDefaults:qs,marked:me},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Nd,setPrototypeOf:jc,isFrozen:G0,getPrototypeOf:j0,getOwnPropertyDescriptor:q0}=Object;let{freeze:ut,seal:Rt,create:Fd}=Object,{apply:aa,construct:la}=typeof Reflect<"u"&&Reflect;ut||(ut=function(t){return t});Rt||(Rt=function(t){return t});aa||(aa=function(t,n,i){return t.apply(n,i)});la||(la=function(t,n){return new t(...n)});const Kr=ft(Array.prototype.forEach),Z0=ft(Array.prototype.lastIndexOf),qc=ft(Array.prototype.pop),Ui=ft(Array.prototype.push),W0=ft(Array.prototype.splice),rs=ft(String.prototype.toLowerCase),Io=ft(String.prototype.toString),Zc=ft(String.prototype.match),Bi=ft(String.prototype.replace),K0=ft(String.prototype.indexOf),Y0=ft(String.prototype.trim),Pt=ft(Object.prototype.hasOwnProperty),st=ft(RegExp.prototype.test),Vi=J0(TypeError);function ft(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return aa(e,t,i)}}function J0(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return la(e,n)}}function se(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rs;jc&&jc(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const s=n(r);s!==r&&(G0(t)||(t[i]=s),r=s)}e[r]=!0}return e}function X0(e){for(let t=0;t<e.length;t++)Pt(e,t)||(e[t]=null);return e}function on(e){const t=Fd(null);for(const[n,i]of Nd(e))Pt(e,n)&&(Array.isArray(i)?t[n]=X0(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=on(i):t[n]=i);return t}function Gi(e,t){for(;e!==null;){const i=q0(e,t);if(i){if(i.get)return ft(i.get);if(typeof i.value=="function")return ft(i.value)}e=j0(e)}function n(){return null}return n}const Wc=ut(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Co=ut(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Do=ut(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q0=ut(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lo=ut(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ev=ut(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Kc=ut(["#text"]),Yc=ut(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ro=ut(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Jc=ut(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Yr=ut(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tv=Rt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nv=Rt(/<%[\w\W]*|[\w\W]*%>/gm),iv=Rt(/\$\{[\w\W]*/gm),rv=Rt(/^data-[\-\w.\u00B7-\uFFFF]+$/),sv=Rt(/^aria-[\-\w]+$/),Hd=Rt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ov=Rt(/^(?:\w+script|data):/i),av=Rt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zd=Rt(/^html$/i),lv=Rt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Xc=Object.freeze({__proto__:null,ARIA_ATTR:sv,ATTR_WHITESPACE:av,CUSTOM_ELEMENT:lv,DATA_ATTR:rv,DOCTYPE_NAME:zd,ERB_EXPR:nv,IS_ALLOWED_URI:Hd,IS_SCRIPT_OR_DATA:ov,MUSTACHE_EXPR:tv,TMPLIT_EXPR:iv});const ji={element:1,text:3,progressingInstruction:7,comment:8,document:9},cv=function(){return typeof window>"u"?null:window},uv=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Qc=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ud(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cv();const t=K=>Ud(K);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==ji.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:c,NodeFilter:l,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:h}=e,p=c.prototype,v=Gi(p,"cloneNode"),E=Gi(p,"remove"),x=Gi(p,"nextSibling"),I=Gi(p,"childNodes"),k=Gi(p,"parentNode");if(typeof o=="function"){const K=n.createElement("template");K.content&&K.content.ownerDocument&&(n=K.content.ownerDocument)}let b,D="";const{implementation:j,createNodeIterator:L,createDocumentFragment:F,getElementsByTagName:T}=n,{importNode:O}=i;let P=Qc();t.isSupported=typeof Nd=="function"&&typeof k=="function"&&j&&j.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:ie,TMPLIT_EXPR:oe,DATA_ATTR:Oe,ARIA_ATTR:ve,IS_SCRIPT_OR_DATA:ne,ATTR_WHITESPACE:he,CUSTOM_ELEMENT:Le}=Xc;let{IS_ALLOWED_URI:Ot}=Xc,we=null;const Ce=se({},[...Wc,...Co,...Do,...Lo,...Kc]);let $e=null;const Mr=se({},[...Yc,...Ro,...Jc,...Yr]);let Ae=Object.seal(Fd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$t=null,_n=null,ci=!0,ui=!0,bn=!1,Ys=!0,g=!1,m=!0,S=!1,R=!1,A=!1,C=!1,B=!1,z=!1,U=!0,$=!1;const J="user-content-";let V=!0,Z=!1,X={},te=null;const be=se({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const Je=se({},["audio","video","img","source","image","track"]);let Be=null;const bt=se({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rt="http://www.w3.org/1998/Math/MathML",zt="http://www.w3.org/2000/svg",kt="http://www.w3.org/1999/xhtml";let Pe=kt,dt=!1,fi=null;const Gd=se({},[rt,zt,kt],Io);let Nr=se({},["mi","mo","mn","ms","mtext"]),Fr=se({},["annotation-xml"]);const jd=se({},["title","style","font","a","script"]);let Oi=null;const qd=["application/xhtml+xml","text/html"],Zd="text/html";let Ve=null,di=null;const Wd=n.createElement("form"),Ga=function(_){return _ instanceof RegExp||_ instanceof Function},Js=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(di&&di===_)){if((!_||typeof _!="object")&&(_={}),_=on(_),Oi=qd.indexOf(_.PARSER_MEDIA_TYPE)===-1?Zd:_.PARSER_MEDIA_TYPE,Ve=Oi==="application/xhtml+xml"?Io:rs,we=Pt(_,"ALLOWED_TAGS")?se({},_.ALLOWED_TAGS,Ve):Ce,$e=Pt(_,"ALLOWED_ATTR")?se({},_.ALLOWED_ATTR,Ve):Mr,fi=Pt(_,"ALLOWED_NAMESPACES")?se({},_.ALLOWED_NAMESPACES,Io):Gd,Be=Pt(_,"ADD_URI_SAFE_ATTR")?se(on(bt),_.ADD_URI_SAFE_ATTR,Ve):bt,ue=Pt(_,"ADD_DATA_URI_TAGS")?se(on(Je),_.ADD_DATA_URI_TAGS,Ve):Je,te=Pt(_,"FORBID_CONTENTS")?se({},_.FORBID_CONTENTS,Ve):be,$t=Pt(_,"FORBID_TAGS")?se({},_.FORBID_TAGS,Ve):on({}),_n=Pt(_,"FORBID_ATTR")?se({},_.FORBID_ATTR,Ve):on({}),X=Pt(_,"USE_PROFILES")?_.USE_PROFILES:!1,ci=_.ALLOW_ARIA_ATTR!==!1,ui=_.ALLOW_DATA_ATTR!==!1,bn=_.ALLOW_UNKNOWN_PROTOCOLS||!1,Ys=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,g=_.SAFE_FOR_TEMPLATES||!1,m=_.SAFE_FOR_XML!==!1,S=_.WHOLE_DOCUMENT||!1,C=_.RETURN_DOM||!1,B=_.RETURN_DOM_FRAGMENT||!1,z=_.RETURN_TRUSTED_TYPE||!1,A=_.FORCE_BODY||!1,U=_.SANITIZE_DOM!==!1,$=_.SANITIZE_NAMED_PROPS||!1,V=_.KEEP_CONTENT!==!1,Z=_.IN_PLACE||!1,Ot=_.ALLOWED_URI_REGEXP||Hd,Pe=_.NAMESPACE||kt,Nr=_.MATHML_TEXT_INTEGRATION_POINTS||Nr,Fr=_.HTML_INTEGRATION_POINTS||Fr,Ae=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&Ga(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&Ga(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),g&&(ui=!1),B&&(C=!0),X&&(we=se({},Kc),$e=[],X.html===!0&&(se(we,Wc),se($e,Yc)),X.svg===!0&&(se(we,Co),se($e,Ro),se($e,Yr)),X.svgFilters===!0&&(se(we,Do),se($e,Ro),se($e,Yr)),X.mathMl===!0&&(se(we,Lo),se($e,Jc),se($e,Yr))),_.ADD_TAGS&&(we===Ce&&(we=on(we)),se(we,_.ADD_TAGS,Ve)),_.ADD_ATTR&&($e===Mr&&($e=on($e)),se($e,_.ADD_ATTR,Ve)),_.ADD_URI_SAFE_ATTR&&se(Be,_.ADD_URI_SAFE_ATTR,Ve),_.FORBID_CONTENTS&&(te===be&&(te=on(te)),se(te,_.FORBID_CONTENTS,Ve)),V&&(we["#text"]=!0),S&&se(we,["html","head","body"]),we.table&&(se(we,["tbody"]),delete $t.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=_.TRUSTED_TYPES_POLICY,D=b.createHTML("")}else b===void 0&&(b=uv(h,r)),b!==null&&typeof D=="string"&&(D=b.createHTML(""));ut&&ut(_),di=_}},ja=se({},[...Co,...Do,...Q0]),qa=se({},[...Lo,...ev]),Kd=function(_){let M=k(_);(!M||!M.tagName)&&(M={namespaceURI:Pe,tagName:"template"});const W=rs(_.tagName),Ee=rs(M.tagName);return fi[_.namespaceURI]?_.namespaceURI===zt?M.namespaceURI===kt?W==="svg":M.namespaceURI===rt?W==="svg"&&(Ee==="annotation-xml"||Nr[Ee]):!!ja[W]:_.namespaceURI===rt?M.namespaceURI===kt?W==="math":M.namespaceURI===zt?W==="math"&&Fr[Ee]:!!qa[W]:_.namespaceURI===kt?M.namespaceURI===zt&&!Fr[Ee]||M.namespaceURI===rt&&!Nr[Ee]?!1:!qa[W]&&(jd[W]||!ja[W]):!!(Oi==="application/xhtml+xml"&&fi[_.namespaceURI]):!1},Ut=function(_){Ui(t.removed,{element:_});try{k(_).removeChild(_)}catch{E(_)}},hi=function(_,M){try{Ui(t.removed,{attribute:M.getAttributeNode(_),from:M})}catch{Ui(t.removed,{attribute:null,from:M})}if(M.removeAttribute(_),_==="is")if(C||B)try{Ut(M)}catch{}else try{M.setAttribute(_,"")}catch{}},Za=function(_){let M=null,W=null;if(A)_="<remove></remove>"+_;else{const Ne=Zc(_,/^[\r\n\t ]+/);W=Ne&&Ne[0]}Oi==="application/xhtml+xml"&&Pe===kt&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");const Ee=b?b.createHTML(_):_;if(Pe===kt)try{M=new d().parseFromString(Ee,Oi)}catch{}if(!M||!M.documentElement){M=j.createDocument(Pe,"template",null);try{M.documentElement.innerHTML=dt?D:Ee}catch{}}const Xe=M.body||M.documentElement;return _&&W&&Xe.insertBefore(n.createTextNode(W),Xe.childNodes[0]||null),Pe===kt?T.call(M,S?"html":"body")[0]:S?M.documentElement:Xe},Wa=function(_){return L.call(_.ownerDocument||_,_,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Xs=function(_){return _ instanceof f&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof u)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},Ka=function(_){return typeof a=="function"&&_ instanceof a};function tn(K,_,M){Kr(K,W=>{W.call(t,_,M,di)})}const Ya=function(_){let M=null;if(tn(P.beforeSanitizeElements,_,null),Xs(_))return Ut(_),!0;const W=Ve(_.nodeName);if(tn(P.uponSanitizeElement,_,{tagName:W,allowedTags:we}),m&&_.hasChildNodes()&&!Ka(_.firstElementChild)&&st(/<[/\w!]/g,_.innerHTML)&&st(/<[/\w!]/g,_.textContent)||_.nodeType===ji.progressingInstruction||m&&_.nodeType===ji.comment&&st(/<[/\w]/g,_.data))return Ut(_),!0;if(!we[W]||$t[W]){if(!$t[W]&&Xa(W)&&(Ae.tagNameCheck instanceof RegExp&&st(Ae.tagNameCheck,W)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(W)))return!1;if(V&&!te[W]){const Ee=k(_)||_.parentNode,Xe=I(_)||_.childNodes;if(Xe&&Ee){const Ne=Xe.length;for(let ht=Ne-1;ht>=0;--ht){const nn=v(Xe[ht],!0);nn.__removalCount=(_.__removalCount||0)+1,Ee.insertBefore(nn,x(_))}}}return Ut(_),!0}return _ instanceof c&&!Kd(_)||(W==="noscript"||W==="noembed"||W==="noframes")&&st(/<\/no(script|embed|frames)/i,_.innerHTML)?(Ut(_),!0):(g&&_.nodeType===ji.text&&(M=_.textContent,Kr([N,ie,oe],Ee=>{M=Bi(M,Ee," ")}),_.textContent!==M&&(Ui(t.removed,{element:_.cloneNode()}),_.textContent=M)),tn(P.afterSanitizeElements,_,null),!1)},Ja=function(_,M,W){if(U&&(M==="id"||M==="name")&&(W in n||W in Wd))return!1;if(!(ui&&!_n[M]&&st(Oe,M))){if(!(ci&&st(ve,M))){if(!$e[M]||_n[M]){if(!(Xa(_)&&(Ae.tagNameCheck instanceof RegExp&&st(Ae.tagNameCheck,_)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(_))&&(Ae.attributeNameCheck instanceof RegExp&&st(Ae.attributeNameCheck,M)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(M))||M==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&st(Ae.tagNameCheck,W)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(W))))return!1}else if(!Be[M]){if(!st(Ot,Bi(W,he,""))){if(!((M==="src"||M==="xlink:href"||M==="href")&&_!=="script"&&K0(W,"data:")===0&&ue[_])){if(!(bn&&!st(ne,Bi(W,he,"")))){if(W)return!1}}}}}}return!0},Xa=function(_){return _!=="annotation-xml"&&Zc(_,Le)},Qa=function(_){tn(P.beforeSanitizeAttributes,_,null);const{attributes:M}=_;if(!M||Xs(_))return;const W={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$e,forceKeepAttr:void 0};let Ee=M.length;for(;Ee--;){const Xe=M[Ee],{name:Ne,namespaceURI:ht,value:nn}=Xe,$i=Ve(Ne),Qs=nn;let Qe=Ne==="value"?Qs:Y0(Qs);if(W.attrName=$i,W.attrValue=Qe,W.keepAttr=!0,W.forceKeepAttr=void 0,tn(P.uponSanitizeAttribute,_,W),Qe=W.attrValue,$&&($i==="id"||$i==="name")&&(hi(Ne,_),Qe=J+Qe),m&&st(/((--!?|])>)|<\/(style|title)/i,Qe)){hi(Ne,_);continue}if(W.forceKeepAttr)continue;if(!W.keepAttr){hi(Ne,_);continue}if(!Ys&&st(/\/>/i,Qe)){hi(Ne,_);continue}g&&Kr([N,ie,oe],tl=>{Qe=Bi(Qe,tl," ")});const el=Ve(_.nodeName);if(!Ja(el,$i,Qe)){hi(Ne,_);continue}if(b&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!ht)switch(h.getAttributeType(el,$i)){case"TrustedHTML":{Qe=b.createHTML(Qe);break}case"TrustedScriptURL":{Qe=b.createScriptURL(Qe);break}}if(Qe!==Qs)try{ht?_.setAttributeNS(ht,Ne,Qe):_.setAttribute(Ne,Qe),Xs(_)?Ut(_):qc(t.removed)}catch{hi(Ne,_)}}tn(P.afterSanitizeAttributes,_,null)},Yd=function K(_){let M=null;const W=Wa(_);for(tn(P.beforeSanitizeShadowDOM,_,null);M=W.nextNode();)tn(P.uponSanitizeShadowNode,M,null),Ya(M),Qa(M),M.content instanceof s&&K(M.content);tn(P.afterSanitizeShadowDOM,_,null)};return t.sanitize=function(K){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=null,W=null,Ee=null,Xe=null;if(dt=!K,dt&&(K="<!-->"),typeof K!="string"&&!Ka(K))if(typeof K.toString=="function"){if(K=K.toString(),typeof K!="string")throw Vi("dirty is not a string, aborting")}else throw Vi("toString is not a function");if(!t.isSupported)return K;if(R||Js(_),t.removed=[],typeof K=="string"&&(Z=!1),Z){if(K.nodeName){const nn=Ve(K.nodeName);if(!we[nn]||$t[nn])throw Vi("root node is forbidden and cannot be sanitized in-place")}}else if(K instanceof a)M=Za("<!---->"),W=M.ownerDocument.importNode(K,!0),W.nodeType===ji.element&&W.nodeName==="BODY"||W.nodeName==="HTML"?M=W:M.appendChild(W);else{if(!C&&!g&&!S&&K.indexOf("<")===-1)return b&&z?b.createHTML(K):K;if(M=Za(K),!M)return C?null:z?D:""}M&&A&&Ut(M.firstChild);const Ne=Wa(Z?K:M);for(;Ee=Ne.nextNode();)Ya(Ee),Qa(Ee),Ee.content instanceof s&&Yd(Ee.content);if(Z)return K;if(C){if(B)for(Xe=F.call(M.ownerDocument);M.firstChild;)Xe.appendChild(M.firstChild);else Xe=M;return($e.shadowroot||$e.shadowrootmode)&&(Xe=O.call(i,Xe,!0)),Xe}let ht=S?M.outerHTML:M.innerHTML;return S&&we["!doctype"]&&M.ownerDocument&&M.ownerDocument.doctype&&M.ownerDocument.doctype.name&&st(zd,M.ownerDocument.doctype.name)&&(ht="<!DOCTYPE "+M.ownerDocument.doctype.name+`>
`+ht),g&&Kr([N,ie,oe],nn=>{ht=Bi(ht,nn," ")}),b&&z?b.createHTML(ht):ht},t.setConfig=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Js(K),R=!0},t.clearConfig=function(){di=null,R=!1},t.isValidAttribute=function(K,_,M){di||Js({});const W=Ve(K),Ee=Ve(_);return Ja(W,Ee,M)},t.addHook=function(K,_){typeof _=="function"&&Ui(P[K],_)},t.removeHook=function(K,_){if(_!==void 0){const M=Z0(P[K],_);return M===-1?void 0:W0(P[K],M,1)[0]}return qc(P[K])},t.removeHooks=function(K){P[K]=[]},t.removeAllHooks=function(){P=Qc()},t}var Bd=Ud();const eu=Object.freeze(Object.defineProperty({__proto__:null,default:Bd},Symbol.toStringTag,{value:"Module"})),fv=`#  (Privacy Policy)

: 2025616

 

## 1. 



### Google Drive

Google Drive

- **:**
  - GoogleOAuth 2.0 
  - Google DriveID
- **:**
  - Google Drive
  - 

Google Drive2

- ** (\`drive.appdata\`):**
  Google Drive

- ** (\`drive.file\`):**
  Google Drive****Google Drive

## 2. 



1.  ****
2.  **Google Drive**



## 3. 





- **Google API:** Google DriveGoogleAPIGoogle
- **URL (TinyURL):** URLURLURL

## 4. Google API

Google APIAPIGoogle API

APIAPI

## 5. 

Google AnalyticsCookie



Cookie

## 6. 

- TRPG
- 
- 

## 7. 



## 8. 



- **:** [GitHub Issues](https://github.com/ktakahiro1729/aioniacs/issues)
- **X (Twitter):** [@KTakahiro1729](https://twitter.com/KTakahiro1729)
`,dv=["innerHTML"],hv={__name:"PrivacyPolicyModal",setup(e){const t=Ye(()=>Bd.sanitize(me.parse(fv)));return(n,i)=>(H(),G("div",{class:"privacy-policy-modal__content",innerHTML:t.value},null,8,dv))}},pv=_t(hv,[["__scopeId","data-v-dfdc1dab"]]),gv={loadImage:function(e){return new Promise((t,n)=>{const i=["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"];if(!e){n(new Error("No file provided."));return}if(!i.includes(e.type)){n(new Error("Unsupported file type. Please upload JPEG, PNG, GIF, or WebP images."));return}if(e.size>10485760){n(new Error("File is too large. Maximum size is 10MB."));return}const s=new FileReader;s.onload=o=>{t(o.target.result)},s.onerror=o=>{console.error("FileReader error:",o),n(new Error("Error reading file."))},s.readAsDataURL(e)})},removeImage:function(e,t){if(t>=0&&t<e.length){const n=[...e];return n.splice(t,1),console.log(`Simulating removal of image at index: ${t}`),n}else return console.error("Invalid index for image removal."),e}},mv={class:"character-image-container"},_v={class:"image-display-area"},bv={key:0,class:"image-display-wrapper"},vv=["src"],wv=["disabled"],yv=["disabled"],xv={class:"image-count-display"},kv={key:1,class:"character-image-placeholder"},Sv={key:0,class:"image-controls"},Ev=["disabled"],Tv={__name:"CharacterImageDisplay",props:{images:{type:Array,default:()=>[]}},emits:["update:images"],setup(e,{emit:t}){const n=e,i=t,r=mt(),{showToast:s}=ai(),o=ze([...n.images]);let a=!1;Mt(()=>n.images,p=>{a=!0,o.value=[...p],Is(()=>{a=!1})},{deep:!0}),Mt(o,p=>{a||i("update:images",p)},{deep:!0});const c=ze(0),l=Ye(()=>o.value.length>0&&c.value>=0&&c.value<o.value.length?o.value[c.value]:null),u=()=>{o.value.length>0&&(c.value=(c.value+1)%o.value.length)},f=()=>{o.value.length>0&&(c.value=(c.value-1+o.value.length)%o.value.length)},d=()=>{o.value.length>0&&c.value>=0&&(o.value.splice(c.value,1),o.value.length===0?c.value=-1:c.value>=o.value.length&&(c.value=o.value.length-1))},h=async p=>{const v=p.target.files[0];if(v)try{const E=await gv.loadImage(v);o.value.push(E),c.value=o.value.length-1}catch(E){console.error("Error loading image:",E),s({type:"error",...q.image.loadError(E)})}finally{p.target.value=null}};return(p,v)=>(H(),G("div",mv,[y("div",_v,[o.value.length>0?(H(),G("div",bv,[l.value?(H(),G("img",{key:0,src:l.value,class:"character-image-display",alt:"Character Image"},null,8,vv)):Me("",!0),y("button",{onClick:f,class:"button-base button-imagenav button-imagenav--prev",disabled:o.value.length<=1,"aria-label":""}," < ",8,wv),y("button",{onClick:u,class:"button-base button-imagenav button-imagenav--next",disabled:o.value.length<=1,"aria-label":""}," > ",8,yv),y("div",xv,fe(c.value+1)+" / "+fe(o.value.length),1)])):(H(),G("div",kv,"No Image"))]),w(r).isViewingShared?Me("",!0):(H(),G("div",Sv,[y("input",{type:"file",id:"character_image_upload",onChange:h,accept:"image/*",style:{display:"none"}},null,32),v[0]||(v[0]=y("label",{for:"character_image_upload",class:"button-base imagefile-button imagefile-button--upload"},"",-1)),y("button",{disabled:!l.value,onClick:d,class:"button-base imagefile-button imagefile-button--delete","aria-label":""},"  ",8,Ev)]))]))}},Av=_t(Tv,[["__scopeId","data-v-66a0ed3a"]]),Iv={id:"character_info",class:"character-info"},Cv={class:"box-content"},Dv={class:"info-row"},Lv={class:"info-item info-item--double"},Rv=["disabled"],Ov={class:"info-item info-item--double"},$v=["disabled"],Pv={class:"info-row"},Mv=["disabled"],Nv=["value","disabled"],Fv={key:0,class:"info-item info-item--double"},Hv=["disabled"],zv={class:"info-row"},Uv={class:"info-item info-item--quadruple"},Bv=["disabled"],Vv={class:"info-item info-item--quadruple"},Gv=["disabled"],jv={class:"info-item info-item--quadruple"},qv=["disabled"],Zv={class:"info-item info-item--quadruple"},Wv=["disabled"],Kv={class:"info-row"},Yv={class:"info-item info-item--triple"},Jv=["disabled"],Xv={class:"info-item info-item--triple"},Qv=["disabled"],ew={class:"info-item info-item--triple"},tw=["disabled"],nw={__name:"CharacterBasicInfo",setup(e){const t=je(),n=mt(),i=()=>{t.handleSpeciesChange()};return(r,s)=>(H(),G("div",Iv,[s[23]||(s[23]=y("div",{class:"box-title"},"",-1)),y("div",Cv,[re(Av,{images:w(t).character.images,"onUpdate:images":s[0]||(s[0]=o=>w(t).character.images=o)},null,8,["images"]),y("div",Dv,[y("div",Lv,[s[12]||(s[12]=y("label",{for:"name"},"",-1)),ce(y("input",{type:"text",id:"name","onUpdate:modelValue":s[1]||(s[1]=o=>w(t).character.name=o),disabled:w(n).isViewingShared},null,8,Rv),[[Ie,w(t).character.name]])]),y("div",Ov,[s[13]||(s[13]=y("label",{for:"player_name"},"",-1)),ce(y("input",{type:"text",id:"player_name","onUpdate:modelValue":s[2]||(s[2]=o=>w(t).character.playerName=o),disabled:w(n).isViewingShared},null,8,$v),[[Ie,w(t).character.playerName]])])]),y("div",Pv,[y("div",{class:pt(["info-item",{"info-item--full":w(t).character.species!=="other","info-item--double":w(t).character.species==="other"}])},[s[14]||(s[14]=y("label",{for:"species"},"",-1)),ce(y("select",{id:"species","onUpdate:modelValue":s[3]||(s[3]=o=>w(t).character.species=o),onChange:i,disabled:w(n).isViewingShared},[(H(!0),G(de,null,it(w(ee).speciesOptions,o=>(H(),G("option",{key:o.value,value:o.value,disabled:o.disabled},fe(o.label),9,Nv))),128))],40,Mv),[[Jn,w(t).character.species]])],2),w(t).character.species==="other"?(H(),G("div",Fv,[s[15]||(s[15]=y("label",{for:"rare_species"},"",-1)),ce(y("input",{type:"text",id:"rare_species","onUpdate:modelValue":s[4]||(s[4]=o=>w(t).character.rareSpecies=o),disabled:w(n).isViewingShared},null,8,Hv),[[Ie,w(t).character.rareSpecies]])])):Me("",!0)]),y("div",zv,[y("div",Uv,[s[16]||(s[16]=y("label",{for:"gender"},"",-1)),ce(y("input",{type:"text",id:"gender","onUpdate:modelValue":s[5]||(s[5]=o=>w(t).character.gender=o),disabled:w(n).isViewingShared},null,8,Bv),[[Ie,w(t).character.gender]])]),y("div",Vv,[s[17]||(s[17]=y("label",{for:"age"},"",-1)),ce(y("input",{type:"number",id:"age","onUpdate:modelValue":s[6]||(s[6]=o=>w(t).character.age=o),min:"0",disabled:w(n).isViewingShared},null,8,Gv),[[Ie,w(t).character.age,void 0,{number:!0}]])]),y("div",jv,[s[18]||(s[18]=y("label",{for:"height"},"",-1)),ce(y("input",{type:"text",id:"height","onUpdate:modelValue":s[7]||(s[7]=o=>w(t).character.height=o),disabled:w(n).isViewingShared},null,8,qv),[[Ie,w(t).character.height]])]),y("div",Zv,[s[19]||(s[19]=y("label",{for:"weight_char"},"",-1)),ce(y("input",{type:"text",id:"weight_char","onUpdate:modelValue":s[8]||(s[8]=o=>w(t).character.weight=o),disabled:w(n).isViewingShared},null,8,Wv),[[Ie,w(t).character.weight]])])]),y("div",Kv,[y("div",Yv,[s[20]||(s[20]=y("label",{for:"origin"},"",-1)),ce(y("input",{type:"text",id:"origin","onUpdate:modelValue":s[9]||(s[9]=o=>w(t).character.origin=o),disabled:w(n).isViewingShared},null,8,Jv),[[Ie,w(t).character.origin]])]),y("div",Xv,[s[21]||(s[21]=y("label",{for:"occupation"},"",-1)),ce(y("input",{type:"text",id:"occupation","onUpdate:modelValue":s[10]||(s[10]=o=>w(t).character.occupation=o),disabled:w(n).isViewingShared},null,8,Qv),[[Ie,w(t).character.occupation]])]),y("div",ew,[s[22]||(s[22]=y("label",{for:"faith"},"",-1)),ce(y("input",{type:"text",id:"faith","onUpdate:modelValue":s[11]||(s[11]=o=>w(t).character.faith=o),disabled:w(n).isViewingShared},null,8,tw),[[Ie,w(t).character.faith]])])])])]))}},iw={id:"scar_weakness_section",class:"scar-weakness"},rw={class:"box-content"},sw={class:"scar-section"},ow={class:"info-row"},aw={class:"info-item info-item--double"},lw={class:"link-checkbox-container"},cw=["disabled"],uw=["disabled"],fw={class:"info-item info-item--double"},dw=["disabled"],hw={class:"weakness-section"},pw={class:"weakness-list list-reset"},gw={class:"flex-weakness-number"},mw={class:"flex-weakness-text"},_w=["onUpdate:modelValue","disabled"],bw={class:"flex-weakness-acquired"},vw=["onUpdate:modelValue","disabled"],ww=["value","disabled"],yw={__name:"ScarWeaknessSection",setup(e){const t=je(),n=mt(),i=Ye(()=>t.sessionNamesForWeaknessDropdown);function r(s){const o=parseInt(s.target.value,10);Number.isNaN(o)||t.character.linkCurrentToInitialScar&&o!==t.character.initialScar&&(t.character.linkCurrentToInitialScar=!1)}return(s,o)=>(H(),G("div",iw,[o[9]||(o[9]=y("div",{class:"box-title"},"",-1)),y("div",rw,[y("div",sw,[o[6]||(o[6]=y("div",{class:"sub-box-title sub-box-title--scar"},"",-1)),y("div",ow,[y("div",aw,[y("div",lw,[o[3]||(o[3]=y("label",{for:"current_scar",class:"link-checkbox-main-label"},"",-1)),ce(y("input",{type:"checkbox",id:"link_current_to_initial_scar_checkbox","onUpdate:modelValue":o[0]||(o[0]=a=>w(t).character.linkCurrentToInitialScar=a),class:"link-checkbox",disabled:w(n).isViewingShared},null,8,cw),[[yf,w(t).character.linkCurrentToInitialScar]]),o[4]||(o[4]=y("label",{for:"link_current_to_initial_scar_checkbox",class:"link-checkbox-label"},"",-1))]),ce(y("input",{type:"number",id:"current_scar","onUpdate:modelValue":o[1]||(o[1]=a=>w(t).character.currentScar=a),onInput:r,class:pt([{"greyed-out":w(t).character.linkCurrentToInitialScar},"scar-section__current-input"]),min:"0",disabled:w(n).isViewingShared},null,42,uw),[[Ie,w(t).character.currentScar,void 0,{number:!0}]])]),y("div",fw,[o[5]||(o[5]=y("label",{for:"initial_scar"},"",-1)),ce(y("input",{type:"number",id:"initial_scar","onUpdate:modelValue":o[2]||(o[2]=a=>w(t).character.initialScar=a),min:"0",disabled:w(n).isViewingShared},null,8,dw),[[Ie,w(t).character.initialScar,void 0,{number:!0}]])])])]),y("div",hw,[o[8]||(o[8]=y("div",{class:"sub-box-title sub-box-title--weakness"},"",-1)),y("ul",pw,[o[7]||(o[7]=y("li",{class:"base-list-header"},[y("div",{class:"flex-weakness-number base-list-header-placeholder"}),y("div",{class:"flex-weakness-text"},[y("label",null,"")]),y("div",{class:"flex-weakness-acquired"},[y("label",null,"")])],-1)),(H(!0),G(de,null,it(w(t).character.weaknesses,(a,c)=>(H(),G("li",{key:c,class:"base-list-item"},[y("div",gw,fe(c<9?c+1:"X"),1),y("div",mw,[ce(y("input",{type:"text","onUpdate:modelValue":l=>a.text=l,disabled:w(n).isViewingShared},null,8,_w),[[Ie,a.text]])]),y("div",bw,[ce(y("select",{"onUpdate:modelValue":l=>a.acquired=l,disabled:w(n).isViewingShared},[(H(!0),G(de,null,it(i.value,l=>(H(),G("option",{key:l.value,value:l.value,disabled:l.disabled},fe(l.text),9,ww))),128))],8,vw),[[Jn,a.acquired]])])]))),128))])])])]))}},xw=_t(yw,[["__scopeId","data-v-6c99ce8a"]]);function kw(){return{expertPlaceholder:t=>t.checked?ee.placeholderTexts.expertSkill:ee.placeholderTexts.expertSkillDisabled}}const Sw={id:"skills",class:"skills"},Ew={class:"skills-list box-content list-reset"},Tw={class:"skill-header"},Aw=["id","onUpdate:modelValue","disabled"],Iw=["for"],Cw={key:0,class:"experts-section"},Dw={class:"expert-list list-reset"},Lw={key:0,class:"delete-button-wrapper"},Rw=["onClick","disabled"],Ow=["onUpdate:modelValue","placeholder","disabled"],$w={key:0,class:"add-button-container-left"},Pw=["onClick"],Mw={__name:"SkillsSection",setup(e){const t=je(),n=mt(),i=t.skills,{expertPlaceholder:r}=kw();return(s,o)=>(H(),G("div",Sw,[o[0]||(o[0]=y("div",{class:"box-title"},"",-1)),y("ul",Ew,[(H(!0),G(de,null,it(w(i),a=>(H(),G("li",{key:a.id,class:"skill-list"},[y("div",Tw,[ce(y("input",{type:"checkbox",id:a.id,"onUpdate:modelValue":c=>a.checked=c,disabled:w(n).isViewingShared},null,8,Aw),[[yf,a.checked]]),y("label",{for:a.id,class:"skill-name"},fe(a.name),9,Iw)]),a.canHaveExperts&&a.checked?(H(),G("div",Cw,[y("ul",Dw,[(H(!0),G(de,null,it(a.experts,(c,l)=>(H(),G("li",{key:l,class:"base-list-item"},[w(n).isViewingShared?Me("",!0):(H(),G("div",Lw,[y("button",{type:"button",class:"button-base list-button list-button--delete",onClick:u=>w(t).removeExpert(a.id,l),disabled:a.experts.length<=1&&c.value==="","aria-label":""},"  ",8,Rw)])),ce(y("input",{type:"text","onUpdate:modelValue":u=>c.value=u,placeholder:w(r)(a),disabled:!a.checked||w(n).isViewingShared,class:"flex-grow"},null,8,Ow),[[Ie,c.value]])]))),128))]),w(n).isViewingShared?Me("",!0):(H(),G("div",$w,[y("button",{type:"button",class:"button-base list-button list-button--add",onClick:c=>w(t).addExpert(a.id),"aria-label":""},"  ",8,Pw)]))])):Me("",!0)]))),128))])]))}},Nw=_t(Mw,[["__scopeId","data-v-a64b1391"]]),Fw={id:"special_skills",class:"special-skills"},Hw={class:"box-content"},zw={class:"list-reset special-skills-list"},Uw={key:0,class:"delete-button-wrapper"},Bw=["onClick","disabled"],Vw={class:"flex-grow"},Gw={class:"flex-group"},jw=["onUpdate:modelValue","onChange","disabled"],qw=["value"],Zw=["onUpdate:modelValue","disabled"],Ww=["onUpdate:modelValue","onChange","disabled"],Kw=["value"],Yw=["onUpdate:modelValue","placeholder","disabled"],Jw=["onUpdate:modelValue","placeholder","disabled"],Xw={key:0,class:"add-button-container-left"},Qw={__name:"SpecialSkillsSection",setup(e){const t=je(),n=mt(),i=t.specialSkills;function r(c){return!!(c.group||c.name||c.note)}function s(c){const l=i[c];return l?ee.specialSkillData[l.group]||[]:[]}function o(c){const l=i[c];l&&(l.name="",l.note="",l.showNote=l.group==="free",l.group!=="free"&&a(c))}function a(c){const l=i[c];if(l){const u=l.name;l.showNote=ee.specialSkillsRequiringNote.includes(u)}}return(c,l)=>(H(),G("div",Fw,[l[2]||(l[2]=y("div",{class:"box-title"},"",-1)),y("div",Hw,[y("ul",zw,[(H(!0),G(de,null,it(w(i),(u,f)=>(H(),G("li",{key:f,class:"base-list-item special-skill-item"},[w(n).isViewingShared?Me("",!0):(H(),G("div",Uw,[y("button",{type:"button",class:"button-base list-button list-button--delete",onClick:d=>w(t).removeSpecialSkill(f),disabled:w(i).length<=1&&!r(u),"aria-label":""},"  ",8,Bw)])),y("div",Vw,[y("div",Gw,[ce(y("select",{"onUpdate:modelValue":d=>u.group=d,onChange:d=>o(f),class:"flex-item-1",disabled:w(n).isViewingShared},[(H(!0),G(de,null,it(w(ee).specialSkillGroupOptions,d=>(H(),G("option",{key:d.value,value:d.value},fe(d.label),9,qw))),128))],40,jw),[[Jn,u.group]]),u.group==="free"?ce((H(),G("input",{key:0,type:"text","onUpdate:modelValue":d=>u.name=d,class:"flex-item-2",disabled:w(n).isViewingShared},null,8,Zw)),[[Ie,u.name]]):ce((H(),G("select",{key:1,"onUpdate:modelValue":d=>u.name=d,onChange:d=>a(f),disabled:!u.group||w(n).isViewingShared,class:"flex-item-2"},[l[1]||(l[1]=y("option",{value:""},"---",-1)),(H(!0),G(de,null,it(s(f),d=>(H(),G("option",{key:d.value,value:d.value},fe(d.label),9,Kw))),128))],40,Ww)),[[Jn,u.name]])]),u.group==="free"?ce((H(),G("textarea",{key:0,"onUpdate:modelValue":d=>u.note=d,class:"special-skill-note-input",placeholder:w(ee).placeholderTexts.specialSkillNote,disabled:w(n).isViewingShared},null,8,Yw)),[[Ie,u.note]]):ce((H(),G("input",{key:1,type:"text","onUpdate:modelValue":d=>u.note=d,class:"special-skill-note-input",placeholder:w(ee).placeholderTexts.specialSkillNote,disabled:w(n).isViewingShared},null,8,Jw)),[[Ie,u.note],[bf,u.showNote]])])]))),128))]),!w(n).isViewingShared&&w(i).length<w(ee).config.maxSpecialSkills?(H(),G("div",Xw,[y("button",{type:"button",class:"button-base list-button list-button--add",onClick:l[0]||(l[0]=u=>w(t).addSpecialSkillItem()),"aria-label":""},"  ")])):Me("",!0)])]))}},ey=_t(Qw,[["__scopeId","data-v-db05cfcf"]]);function ty(e){const t=[];for(let n=1;n<=15;n++)n<=e?n<=5?t.push("load-indicator--step--on-normal"):n<=10?t.push("load-indicator--step--on-light"):t.push("load-indicator--step--on-heavy"):n<=5?t.push("load-indicator--step--ghost-normal"):n<=10?t.push("load-indicator--step--ghost-light"):t.push("load-indicator--step--ghost-heavy");return t}const ny={class:"load-indicator"},iy={class:"load-indicator--label"},ry={class:"load-indicator--steps"},sy={__name:"LoadIndicator",props:{load:Number},setup(e){const t=e,n=je(),i=Ye(()=>t.load??n.currentWeight),r=Ye(()=>ty(i.value));return(s,o)=>(H(),G("div",ny,[y("span",iy," : "+fe(i.value),1),y("div",ry,[(H(),G(de,null,it(15,a=>y("div",{key:a,class:pt(["load-indicator--step",r.value[a-1]])},null,2)),64))])]))}},oy=_t(sy,[["__scopeId","data-v-d8365c38"]]),ay={id:"items_section",class:"items"},ly={class:"box-title"},cy={class:"box-content"},uy={class:"equipment-wrapper"},fy={class:"equipment-container"},dy={class:"equipment-section"},hy={class:"equipment-item"},py={class:"flex-group"},gy=["disabled"],my=["value"],_y=["placeholder","disabled"],by={class:"equipment-item"},vy={class:"flex-group"},wy=["disabled"],yy=["value"],xy=["placeholder","disabled"],ky={class:"equipment-item"},Sy={class:"flex-group"},Ey=["disabled"],Ty=["value"],Ay=["placeholder","disabled"],Iy=["readonly"],Cy={__name:"ItemsSection",setup(e){const t=je(),n=mt();return(i,r)=>(H(),G("div",ay,[y("div",ly,[r[7]||(r[7]=Et("")),re(oy)]),y("div",cy,[y("div",uy,[y("div",fy,[y("div",dy,[y("div",hy,[r[8]||(r[8]=y("label",{for:"weapon1"},"1",-1)),y("div",py,[ce(y("select",{id:"weapon1","onUpdate:modelValue":r[0]||(r[0]=s=>w(t).equipments.weapon1.group=s),class:"flex-item-1",disabled:w(n).isViewingShared},[(H(!0),G(de,null,it(w(ee).weaponOptions,s=>(H(),G("option",{key:s.value,value:s.value},fe(s.label),9,my))),128))],8,gy),[[Jn,w(t).equipments.weapon1.group]]),ce(y("input",{type:"text",id:"weapon1_name","onUpdate:modelValue":r[1]||(r[1]=s=>w(t).equipments.weapon1.name=s),placeholder:w(ee).placeholderTexts.weaponName,class:"flex-item-2",disabled:w(n).isViewingShared},null,8,_y),[[Ie,w(t).equipments.weapon1.name]])])]),y("div",by,[r[9]||(r[9]=y("label",{for:"weapon2"},"2",-1)),y("div",vy,[ce(y("select",{id:"weapon2","onUpdate:modelValue":r[2]||(r[2]=s=>w(t).equipments.weapon2.group=s),class:"flex-item-1",disabled:w(n).isViewingShared},[(H(!0),G(de,null,it(w(ee).weaponOptions,s=>(H(),G("option",{key:s.value,value:s.value},fe(s.label),9,yy))),128))],8,wy),[[Jn,w(t).equipments.weapon2.group]]),ce(y("input",{type:"text",id:"weapon2_name","onUpdate:modelValue":r[3]||(r[3]=s=>w(t).equipments.weapon2.name=s),placeholder:w(ee).placeholderTexts.weaponName,class:"flex-item-2",disabled:w(n).isViewingShared},null,8,xy),[[Ie,w(t).equipments.weapon2.name]])])]),y("div",ky,[r[10]||(r[10]=y("label",{for:"armor"},"",-1)),y("div",Sy,[ce(y("select",{id:"armor","onUpdate:modelValue":r[4]||(r[4]=s=>w(t).equipments.armor.group=s),class:"flex-item-1",disabled:w(n).isViewingShared},[(H(!0),G(de,null,it(w(ee).armorOptions,s=>(H(),G("option",{key:s.value,value:s.value},fe(s.label),9,Ty))),128))],8,Ey),[[Jn,w(t).equipments.armor.group]]),ce(y("input",{type:"text",id:"armor_name","onUpdate:modelValue":r[5]||(r[5]=s=>w(t).equipments.armor.name=s),placeholder:w(ee).placeholderTexts.armorName,class:"flex-item-2",disabled:w(n).isViewingShared},null,8,Ay),[[Ie,w(t).equipments.armor.name]])])])])])]),y("div",null,[r[11]||(r[11]=y("label",{for:"other_items",class:"block-label"},"",-1)),ce(y("textarea",{id:"other_items",class:"items-textarea","onUpdate:modelValue":r[6]||(r[6]=s=>w(t).character.otherItems=s),readonly:w(n).isViewingShared},null,8,Iy),[[Ie,w(t).character.otherItems]])])])]))}},Dy=_t(Cy,[["__scopeId","data-v-bb7d433f"]]),Ly={id:"character_memo",class:"character-memo"},Ry={class:"box-content"},Oy=["placeholder","readonly"],$y={__name:"CharacterMemoSection",setup(e){const t=je(),n=mt(),i=Ye({get:()=>t.character.memo,set:r=>{t.character.memo=r}});return(r,s)=>(H(),G("div",Ly,[s[1]||(s[1]=y("div",{class:"box-title"},"",-1)),y("div",Ry,[ce(y("textarea",{id:"character_text",class:"character-memo-textarea",placeholder:w(ee).placeholderTexts.characterMemo,"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),readonly:w(n).isViewingShared},null,8,Oy),[[Ie,i.value]])])]))}},Py=_t($y,[["__scopeId","data-v-d56b5e27"]]),My=["type","placeholder","disabled","value"],Oo={__name:"BaseInput",props:{modelValue:[String,Number],type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:Boolean},emits:["update:modelValue"],setup(e,{emit:t}){const n=t;function i(r){n("update:modelValue",r.target.value)}return(r,s)=>(H(),G("input",hs(r.$attrs,{type:e.type,placeholder:e.placeholder,disabled:e.disabled,value:e.modelValue,onInput:i}),null,16,My))}},Ny={class:"base-list-item"},Fy={key:0,class:"delete-button-wrapper"},Hy=["disabled"],zy={__name:"BaseListItem",props:{showDeleteButton:Boolean,canDelete:{type:Boolean,default:!0}},emits:["delete-item"],setup(e,{emit:t}){const n=t;function i(){n("delete-item")}return(r,s)=>(H(),G("li",Ny,[e.showDeleteButton?(H(),G("div",Fy,[y("button",{type:"button",class:"button-base list-button list-button--delete",onClick:i,disabled:!e.canDelete,"aria-label":""},"  ",8,Hy)])):Me("",!0),lp(r.$slots,"default")]))}},Uy={id:"adventure_log_section",class:"adventure-log-section"},By={class:"box-content"},Vy={id:"histories",class:"list-reset"},Gy={class:"flex-grow"},jy={class:"history-item-inputs"},qy={class:"flex-history-name"},Zy={class:"flex-history-exp"},Wy={class:"flex-history-memo"},Ky={key:0,class:"add-button-container-left"},Yy={__name:"AdventureLogSection",setup(e){const t=je(),n=mt();function i(r){return!!(r.sessionName||r.gotExperiments!==null&&r.gotExperiments!==""||r.memo)}return(r,s)=>(H(),G("div",Uy,[s[2]||(s[2]=y("div",{class:"box-title"},"",-1)),y("div",By,[s[1]||(s[1]=Bp('<div class="base-list-header" data-v-d0acfa74><div class="delete-button-wrapper base-list-header-placeholder" data-v-d0acfa74></div><div class="flex-grow" data-v-d0acfa74><div class="history-item-inputs" data-v-d0acfa74><div class="flex-history-name" data-v-d0acfa74><label data-v-d0acfa74></label></div><div class="flex-history-exp" data-v-d0acfa74><label data-v-d0acfa74></label></div><div class="flex-history-memo" data-v-d0acfa74><label data-v-d0acfa74></label></div></div></div></div>',1)),y("ul",Vy,[(H(!0),G(de,null,it(w(t).histories,(o,a)=>(H(),hn(zy,{key:a,"show-delete-button":!w(n).isViewingShared,"can-delete":!(w(t).histories.length<=1&&!i(o)),onDeleteItem:c=>w(t).removeHistoryItem(a)},{default:Cr(()=>[y("div",Gy,[y("div",jy,[y("div",qy,[re(Oo,{type:"text","model-value":o.sessionName,"onUpdate:modelValue":c=>w(t).updateHistoryItem(a,"sessionName",c),disabled:w(n).isViewingShared},null,8,["model-value","onUpdate:modelValue","disabled"])]),y("div",Zy,[re(Oo,{type:"number",min:"0","model-value":o.gotExperiments,"onUpdate:modelValue":c=>w(t).updateHistoryItem(a,"gotExperiments",c),disabled:w(n).isViewingShared},null,8,["model-value","onUpdate:modelValue","disabled"])]),y("div",Wy,[re(Oo,{type:"text","model-value":o.memo,"onUpdate:modelValue":c=>w(t).updateHistoryItem(a,"memo",c),disabled:w(n).isViewingShared},null,8,["model-value","onUpdate:modelValue","disabled"])])])])]),_:2},1032,["show-delete-button","can-delete","onDeleteItem"]))),128))]),w(n).isViewingShared?Me("",!0):(H(),G("div",Ky,[y("button",{type:"button",class:"button-base list-button list-button--add",onClick:s[0]||(s[0]=(...o)=>w(t).addHistoryItem&&w(t).addHistoryItem(...o)),"aria-label":""},"  ")]))])]))}},Jy=_t(Yy,[["__scopeId","data-v-d0acfa74"]]),Xy={class:"main-grid"},Qy={class:"copyright-footer"},ex={key:0,class:"build-info"},tx={__name:"CharacterSheetLayout",setup(e){je();const{showModal:t}=Fs(),n="";async function i(){await t({component:pv,title:"",buttons:[{label:"",value:"close",variant:"secondary"}]})}return(r,s)=>(H(),G(de,null,[y("div",Xy,[re(nw),re(xw),re(Nw),re(ey),re(Dy),re(Py),re(Jy)]),y("div",Qy,[s[0]||(s[0]=y("p",null,[Et(" "),y("a",{href:"https://www.aioniatrpg.com/",target:"_blank",rel:"noopener noreferrer"},""),Et("(Ver 1.2)"),y("br"),Et(" "),y("a",{href:"https://bright-trpg.github.io/aionia_character_maker/",target:"_blank",rel:"noopener noreferrer"},"bright-trpg"),Et(" ")],-1)),y("button",{class:"button-link",onClick:i},""),w(n)?(H(),G("div",ex,fe(w(n)),1)):Me("",!0)])],64))}};function nx(e){let t=0,n=0,i=0;function r(){requestAnimationFrame(()=>{const s=window.scrollY,o=s-t;n-=o,n>0&&(n=0),n<-i&&(n=-i),e.value&&(e.value.style.transform=`translateY(${n}px)`),t=s})}oi(()=>{e.value&&(i=e.value.offsetHeight,e.value.style.transform="translateY(0px)"),t=window.scrollY,window.addEventListener("scroll",r,{passive:!0})}),Ea(()=>{window.removeEventListener("scroll",r)})}const ix=["title"],rx={class:"main-header__title"},sx={__name:"MainHeader",props:{helpState:String,defaultTitle:String,cloudHubLabel:String,helpLabel:String},emits:["open-hub","help-mouseover","help-mouseleave","help-click"],setup(e,{expose:t,emit:n}){const i=e,r=ze(null),s=ze(null),o=je();nx(r);const a=Ye(()=>o.character.name||i.defaultTitle);return t({headerEl:r,helpIcon:s}),(c,l)=>(H(),G("header",{class:"main-header",ref_key:"headerEl",ref:r},[y("button",{class:"button-base icon-button",title:e.cloudHubLabel,onClick:l[0]||(l[0]=u=>c.$emit("open-hub"))},l[4]||(l[4]=[y("span",{class:"icon-svg icon-svg-cloud","aria-label":"cloud"},null,-1)]),8,ix),y("div",rx,fe(a.value),1),y("div",{class:pt(["button-base header-help-icon",{"header-help-icon--fixed":e.helpState==="fixed"}]),ref_key:"helpIcon",ref:s,onMouseover:l[1]||(l[1]=u=>c.$emit("help-mouseover")),onMouseleave:l[2]||(l[2]=u=>c.$emit("help-mouseleave")),onClick:l[3]||(l[3]=u=>c.$emit("help-click")),tabindex:"0"},fe(e.helpLabel),35)],512))}},ox=_t(sx,[["__scopeId","data-v-384278c7"]]);function ax(){const e=mt(),t=Ye(()=>e.isSignedIn?e.currentDriveFileId?{label:q.ui.buttons.saveCloudOverwrite,title:q.ui.buttons.saveCloudTitle,icon:"icon-svg-cloud-upload"}:{label:q.ui.buttons.saveCloudNew,title:q.ui.buttons.saveCloudTitle,icon:"icon-svg-cloud-upload"}:{label:q.ui.buttons.saveLocal,title:q.ui.buttons.saveLocalTitle,icon:"icon-svg-local-download"}),n=Ye(()=>e.isSignedIn?{label:q.ui.buttons.loadCloud,title:q.ui.buttons.loadCloudTitle,icon:"icon-svg-cloud-download"}:{label:q.ui.buttons.loadLocal,title:q.ui.buttons.loadLocalTitle,icon:"icon-svg-local-upload"});return{saveButton:t,loadButton:n}}const lx={class:"main-footer"},cx=["title"],ux=["title"],fx=["title"],dx=["aria-label"],hx={__name:"MainFooter",props:{experienceStatusClass:String,experienceLabel:String,currentExperiencePoints:Number,maxExperiencePoints:Number,currentWeight:Number,isViewingShared:Boolean,saveLocal:Function,handleFileUpload:Function,openHub:Function,saveToDrive:Function,ioLabel:String,shareLabel:String,copyEditLabel:String},setup(e){const t=e,n=mt(),{saveButton:i,loadButton:r}=ax();function s(){n.isSignedIn?t.saveToDrive():t.saveLocal()}return(o,a)=>(H(),G("div",lx,[y("div",{class:pt(["status-display",e.experienceStatusClass])},fe(e.experienceLabel)+" "+fe(e.currentExperiencePoints)+" / "+fe(e.maxExperiencePoints),3),y("button",{class:"button-base footer-button footer-button--save",onClick:s,title:w(i).title},[y("span",{class:pt(["icon-svg icon-svg--footer",w(i).icon])},null,2),Et(" "+fe(w(i).label),1)],8,cx),w(n).isSignedIn?(H(),G("button",{key:1,class:"button-base footer-button footer-button--load",onClick:a[0]||(a[0]=(...c)=>t.openHub&&t.openHub(...c)),title:w(r).title},[y("span",{class:pt(["icon-svg icon-svg--footer",w(r).icon])},null,2),Et(" "+fe(w(r).label),1)],8,fx)):(H(),G("label",{key:0,class:"button-base footer-button footer-button--load",for:"load_input_vue",title:w(r).title},[y("span",{class:pt(["icon-svg icon-svg--footer",w(r).icon])},null,2),Et(" "+fe(w(r).label),1)],8,ux)),w(n).isSignedIn?Me("",!0):(H(),G("input",{key:2,type:"file",id:"load_input_vue",onChange:a[1]||(a[1]=c=>t.handleFileUpload(c)),accept:".json,.txt,.zip",class:"hidden"},null,32)),y("button",{class:"button-base footer-button footer-button--io",onClick:a[2]||(a[2]=c=>o.$emit("io"))},[a[4]||(a[4]=y("span",{class:"icon-svg icon-svg--footer icon-svg-io"},null,-1)),Et(" "+fe(e.ioLabel),1)]),y("button",{class:"button-base footer-button footer-button--share","aria-label":e.isViewingShared?e.copyEditLabel:e.shareLabel,onClick:a[3]||(a[3]=c=>o.$emit("share"))},[a[5]||(a[5]=y("span",{class:"icon-svg icon-svg--footer icon-svg-share"},null,-1)),Et(" "+fe(e.isViewingShared?e.copyEditLabel:e.shareLabel),1)],8,dx)]))}},px=_t(hx,[["__scopeId","data-v-26f351e2"]]),gx={class:"accordion"},mx=["onClick"],_x={class:"accordion__indicator"},bx=["innerHTML"],vx={__name:"HelpPanel",props:{isVisible:Boolean,helpText:String},emits:["close"],setup(e,{expose:t,emit:n}){const i=e,r=ze(null),s=ze([]),o=ze(0);Mt(()=>i.helpText,async l=>{if(s.value=a(l),o.value=0,s.value[0]){const{marked:u}=await At(async()=>{const{marked:d}=await Promise.resolve().then(()=>Gc);return{marked:d}},void 0,import.meta.url),{default:f}=await At(async()=>{const{default:d}=await Promise.resolve().then(()=>eu);return{default:d}},void 0,import.meta.url);s.value[0].html=f.sanitize(u.parse(s.value[0].content))}},{immediate:!0});function a(l){return l?l.split(/^####\s+/m).filter(Boolean).map(f=>{const d=f.split(`
`),h=d.shift().trim(),p=d.join(`
`);return{title:h,content:p,html:""}}):[]}async function c(l){if(o.value===l){o.value=-1;return}o.value=l;const u=s.value[l];if(!u.html){const{marked:f}=await At(async()=>{const{marked:h}=await Promise.resolve().then(()=>Gc);return{marked:h}},void 0,import.meta.url),{default:d}=await At(async()=>{const{default:h}=await Promise.resolve().then(()=>eu);return{default:h}},void 0,import.meta.url);u.html=d.sanitize(f.parse(u.content))}}return t({panelEl:r}),(l,u)=>(H(),hn(pf,{name:"fade"},{default:Cr(()=>[e.isVisible?(H(),G("div",{key:0,class:"help-panel",ref_key:"panelEl",ref:r},[y("button",{class:"help-close close-cross",onClick:u[0]||(u[0]=f=>l.$emit("close"))},""),y("div",gx,[(H(!0),G(de,null,it(s.value,(f,d)=>(H(),G("div",{key:f.title,class:"accordion__item"},[y("button",{class:"accordion__header",onClick:h=>c(d)},[Et(fe(f.title)+" ",1),y("span",_x,fe(o.value===d?"":"+"),1)],8,mx),ce(y("div",{class:"accordion__body",innerHTML:f.html},null,8,bx),[[bf,o.value===d]])]))),128))])],512)):Me("",!0)]),_:1}))}},wx={class:"toast-content"},yx={class:"toast-title"},xx={class:"toast-message"},kx={__name:"ToastNotification",props:{toast:Object},emits:["close"],setup(e,{emit:t}){return(n,i)=>(H(),G("div",{class:pt(["toast",`toast--${e.toast.type}`])},[i[1]||(i[1]=y("div",{class:"toast-icon"},"!",-1)),y("div",wx,[y("div",yx,fe(e.toast.title),1),y("div",xx,fe(e.toast.message),1)]),y("button",{class:"toast-close",onClick:i[0]||(i[0]=r=>n.$emit("close"))},""),e.toast.duration&&e.toast.duration>0?(H(),G("div",{key:0,class:"toast-progress",style:Ts({animationDuration:`${e.toast.duration}ms`})},null,4)):Me("",!0)],2))}},Sx={__name:"NotificationContainer",setup(e){const t=If();return(n,i)=>(H(),G("div",null,[re(xg,{name:"toast",tag:"div",class:"toast-container"},{default:Cr(()=>[(H(!0),G(de,null,it(w(t).toasts,r=>(H(),hn(kx,{key:r.id,toast:r,onClose:s=>w(t).removeToast(r.id)},null,8,["toast","onClose"]))),128))]),_:1})]))}},Ex={key:0,class:"modal-header box-title"},Tx={class:"modal-header-left"},Ax={key:0,class:"modal-icon"},Ix={class:"modal-title"},Cx={key:1,class:"modal-global-actions sub-box-title"},Dx={class:"modal-content box-content"},Lx={key:0,class:"modal-message"},Rx={class:"modal-actions"},Ox=["disabled","onClick"],$x={__name:"BaseModal",setup(e){const t=Ns(),n=t,i=ze(null);function r(s){t.resolveModal({value:s,component:i.value})}return(s,o)=>(H(),hn(pf,{name:"modal-fade"},{default:Cr(()=>[w(n).isVisible?(H(),G("div",{key:0,class:"modal-overlay",onClick:o[1]||(o[1]=Dg(a=>w(t).hideModal(),["self"]))},[y("div",{class:pt(["modal",w(n).type?`modal--${w(n).type}`:""])},[y("button",{class:"modal-close close-cross",onClick:o[0]||(o[0]=a=>w(t).hideModal())},""),w(n).title?(H(),G("div",Ex,[y("div",Tx,[w(n).type==="critical"?(H(),G("div",Ax,"!")):Me("",!0),y("div",Ix,fe(w(n).title),1)])])):Me("",!0),w(n).globalActions?(H(),G("div",Cx,[(H(),hn(cl(w(n).globalActions.component),hs(w(n).globalActions.props,fl(w(n).globalActions.on)),null,16))])):Me("",!0),y("div",Dx,[w(n).message?(H(),G("div",Lx,fe(w(n).message),1)):Me("",!0),(H(),hn(cl(w(n).component),hs(w(n).props,fl(w(n).events),{ref_key:"inner",ref:i}),null,16)),y("div",Rx,[(H(!0),G(de,null,it(w(n).buttons,(a,c)=>(H(),G("button",{key:c,class:pt(["modal-button",`modal-button--${a.variant||"secondary"}`]),disabled:a.disabled,onClick:l=>r(a.value)},fe(a.label),11,Ox))),128))])])],2)])):Me("",!0)]),_:1}))}},Px=_t($x,[["__scopeId","data-v-de3d5537"]]),Mx={key:0,class:"view-mode-banner"},Nx={__name:"App",setup(e){const t=ze(null),n=ze(null),i=je(),r=mt();Yg();const{dataManager:s,saveData:o,handleFileUpload:a,outputToCocofolia:c}=Kg(),{printCharacterSheet:l,openPreviewPage:u}=Qg(),{handleSignInClick:f,handleSignOutClick:d,promptForDriveFolder:h,saveCharacterToDrive:p,saveOrUpdateCurrentCharacterInDrive:v}=Gg(s),{helpState:E,isHelpVisible:x,handleHelpIconMouseOver:I,handleHelpIconMouseLeave:k,handleHelpIconClick:b,closeHelpPanel:D}=jg(n,t),{showAsyncToast:j}=ai();Fs();const L=Ns();function F(){r.refreshDriveCharacters(s.googleDriveManager)}async function T(){await p(null)}async function O(Le,Ot){const we=s.loadDataFromDrive(Le).then(Ce=>{Ce&&(Object.assign(i.character,Ce.character),i.skills.splice(0,i.skills.length,...Ce.skills),i.specialSkills.splice(0,i.specialSkills.length,...Ce.specialSkills),Object.assign(i.equipments,Ce.equipments),i.histories.splice(0,i.histories.length,...Ce.histories),r.currentDriveFileId=Le)});j(we,{loading:q.googleDrive.load.loading(Ot),success:q.googleDrive.load.success(Ot),error:Ce=>q.googleDrive.load.error(Ce)})}const{openHub:P,openIoModal:N,openShareModal:ie}=s0({dataManager:s,loadCharacterById:O,saveCharacterToDrive:p,handleSignInClick:f,handleSignOutClick:d,refreshHubList:F,saveNewCharacter:T,saveData:o,handleFileUpload:a,outputToCocofolia:c,printCharacterSheet:l,openPreviewPage:u,promptForDriveFolder:h,copyEditCallback:()=>{r.isViewingShared=!1}}),oe=Ye(()=>i.maxExperiencePoints),Oe=Ye(()=>i.currentExperiencePoints),ve=Ye(()=>i.currentWeight),ne=Ye(()=>r.experienceStatusClass);Mt(()=>i.character.initialScar,Le=>{i.character.linkCurrentToInitialScar&&(i.character.currentScar=Le)}),Mt(()=>i.character.linkCurrentToInitialScar,Le=>{Le&&(i.character.currentScar=i.character.initialScar)}),Mt(()=>i.character.name,Le=>{document.title=Le||q.ui.header.defaultTitle},{immediate:!0}),Mt(()=>L.isVisible,Le=>{Le?document.body.classList.add("is-modal-open"):document.body.classList.remove("is-modal-open")});const{initialize:he}=l0(s);return oi(he),(Le,Ot)=>(H(),G(de,null,[re(ox,{ref_key:"mainHeader",ref:t,"help-state":w(E),"default-title":w(q).ui.header.defaultTitle,"cloud-hub-label":w(q).ui.header.cloudHub,"help-label":w(q).ui.header.helpLabel,onOpenHub:w(P),onHelpMouseover:w(I),onHelpMouseleave:w(k),onHelpClick:w(b)},null,8,["help-state","default-title","cloud-hub-label","help-label","onOpenHub","onHelpMouseover","onHelpMouseleave","onHelpClick"]),w(r).isViewingShared?(H(),G("div",Mx,fe(w(q).ui.viewModeBanner),1)):Me("",!0),re(tx),re(px,{"experience-status-class":ne.value,"current-experience-points":Oe.value,"max-experience-points":oe.value,"current-weight":ve.value,"save-local":w(o),"handle-file-upload":w(a),"open-hub":w(P),"save-to-drive":w(v),"experience-label":w(q).ui.footer.experience,"io-label":w(q).ui.footer.io,"share-label":w(q).ui.footer.share,"copy-edit-label":w(q).ui.footer.copyEdit,"is-viewing-shared":w(r).isViewingShared,onIo:w(N),onShare:w(ie)},null,8,["experience-status-class","current-experience-points","max-experience-points","current-weight","save-local","handle-file-upload","open-hub","save-to-drive","experience-label","io-label","share-label","copy-edit-label","is-viewing-shared","onIo","onShare"]),re(vx,{ref_key:"helpPanelRef",ref:n,"is-visible":w(x),"help-text":w(ee).helpText,onClose:w(D)},null,8,["is-visible","help-text","onClose"]),re(Px),re(Sx)],64))}},Fx=_t(Nx,[["__scopeId","data-v-d7706314"]]),Vd=Og(Fx);Vd.use(Mg());Vd.mount("#app");export{de as F,_t as _,je as a,ai as b,Fs as c,Ye as d,G as e,H as f,w as g,it as h,y as i,Ea as j,re as k,Me as l,q as m,pt as n,oi as o,Et as p,zx as q,ze as r,ce as s,fe as t,mt as u,Ux as v,Mt as w,yf as x,Ie as y,Jn as z};
